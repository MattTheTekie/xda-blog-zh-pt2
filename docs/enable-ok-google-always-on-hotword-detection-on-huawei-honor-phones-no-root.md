# 在华为/Honor 手机上启用“OK Google”常亮热词检测[无 Root]

> 原文：<https://www.xda-developers.com/enable-ok-google-always-on-hotword-detection-on-huawei-honor-phones-no-root/>

上周，我向你展示了如何在屏幕关闭的情况下强制 OK Google hotword detection 在任何设备上工作。

虽然它在某些情况下肯定是有用的，但它需要用户拥有 root 访问权限才能启用，而且有点耗电，因为它会阻止你的设备进入深度睡眠状态。因此，如果该设备具有对离线热门词汇识别的硬件支持，那将是更好的。

当我第一次收到华为 Mate 9 时，我惊讶地发现“OK Google always on”不可用。鉴于 Mate 9 是一款配备了大量传感器的高端旗舰设备，华为没有配备专用的协处理器来处理语音识别似乎有些奇怪。然而，看来我最初是错的。华为 Mate 9(后来我才知道很多旗舰华为/Honor 设备)确实支持离线热门词语音识别- **但只是针对它自己专有的语音服务。**

隐藏在设置->智能辅助->语音控制中的是一个“语音唤醒”菜单，允许您设置一个热门词汇来唤醒设备并启动一些基本命令。你可以要求这项名为“**Emy”**的服务找到你的手机或给某个联系人打电话，但除此之外，与谷歌的语音命令相比，它相当令人失望。

但好处是，即使在屏幕关闭的情况下，华为的语音助手也可以被召唤*(它甚至支持自定义热词启动)，这是我们在华为设备上的谷歌应用程序中所缺少的功能。因此，我想出了一个办法，利用华为的“OK Emy”来启动谷歌的语音搜索，这样我们就可以以一种迂回的方式，在屏幕关闭时实现**“OK 谷歌】**。*

* * *

## 向 Emy 说再见，向 Google 问好

正如你在视频中看到的，我召唤了“OK Emy”，它在打开谷歌的语音搜索之前短暂闪现了华为专有的语音交互服务。这在屏幕关闭时也能工作，尽管我不能用屏幕录制来展示。

为了设置这个，你需要的只是自动化应用程序 [Tasker](https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm&hl=en) 。安装 Tasker(或者你选择的任何其他自动化应用程序，但本教程是为 Tasker 编写的，因为这是我唯一使用过的应用程序)并启用其辅助功能服务。Tasker 需要一个可访问性服务，这样它就可以监视窗口状态的变化，这就是我们将用来检测 Emy 何时被激活。

如果您有使用 Tasker 的经验，您可以展开下面的开关来查看配置文件的描述，并自己快速复制此配置文件。如果您不熟悉 Tasker，请继续阅读分步说明。

### 简介描述

```
 Profile: Mate 9 OK Google (182)
 Event: Variable Set [ Variable:%WIN Value:sound trigger User Variables Only:Off ]
Enter: Anon (191)
 A1: Wait [ MS:0 Seconds:1 Minutes:0 Hours:0 Days:0 ] 
 A2: Launch App [ App:Google:Voice Search Data: Exclude From Recent Apps:Off Always Start New Copy:Off ] 
```

首先，您需要在 Tasker 中创建一个新的配置文件。在主屏幕中，按下右下角的 **+** 图标。点击**事件**上下文，选择**变量- >变量集**。对于变量，输入 **%WIN** ，对于值，输入**“声音触发”**(不带括号)。“声音触发器”是激活 Emy 时弹出的窗口的名称，因此当窗口标签(%WIN)中填充了该文本时，将触发此配置文件。

接下来，您将创建与这个概要文件相关联的任务。Tasker 会要求您创建一个新任务并为其命名，但命名并不重要，因此只需按下复选标记即可进入任务编辑屏幕。在底部按下 **+** ，进入**任务- >等待**，设置等待 **1 秒。**这是为了防止谷歌语音搜索的一个错误，如果在 Emy 之后立即调用它，它就会超时。一旦你添加了那个动作，再次按下 **+** ，这次转到 **App - > Launch App** 。向下滚动，直到看到**谷歌**应用。**长按“Google”上的**调出可用活动列表，向下滚动选择 **VoiceSearchActivity。**

就是这样！Tasker 现在应该开始监控窗口状态的变化，并将在窗口标签匹配“声音触发”时激活此配置文件，在这种情况下，它将在启动谷歌语音搜索活动前等待 1 秒钟。

为了让这个功能看起来更加无缝，你可以将 Emy 的热门词改为“OK Google ”,这样就好像华为的 Emy 完全没有参与进来一样。我们使用它只是因为它是华为设备上唯一一个可以通过热门词检测唤醒手机的服务！

* * *

## 下载和导入配置文件

一如既往，我们提供了脚本的 XML 文件，您可以下载和导入。只需从下面的链接下载文件，并将其保存在您的内部存储的任何地方。打开 Tasker，在首选项中禁用初学者模式。然后，回到主屏幕，长按顶部的“个人资料”标签。您应该会看到一个弹出窗口，其中一个选项是“导入”点击它，浏览到保存. prf.xml 文件的位置，并选择要导入的文件。请务必记得**启用 Tasker 的辅助功能服务**，否则此档案将无法使用！

[**从 AndroidFileHost** 下载概要文件](https://www.androidfilehost.com/?fid=745425885120709285)

我们希望这个提示对你有用。如果这对你有用，请在下面的评论中告诉我们！