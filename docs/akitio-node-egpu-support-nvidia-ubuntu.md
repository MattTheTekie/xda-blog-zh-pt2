# AKiTiO 节点:测试 Ubuntu 17.10 中的 NVIDIA eGPU 支持

> 原文：<https://www.xda-developers.com/akitio-node-egpu-support-nvidia-ubuntu/>

自从英特尔的雷电 3 技术发布以来，就有了外部图形卡(eGPU)支持。不幸的是，在去年的大部分时间里，包括英特尔自己的骷髅头峡谷 NUC 项目，将这一解决方案投入使用是一项最大的挑战。大多数主板并不完全支持该技术，那些支持的主板通常需要一个昂贵得多的系统。例如，骷髅峡谷 NUC 发布时是 700 美元，未配置。添加固态硬盘和内存通常会增加 1000 多美元。

Razer 自己的 Blade Stealth 和支持雷电 3 的类似产品也在这个价格范围内徘徊。这甚至没有考虑到机箱，其中 Razer Core 是 2016 年大部分时间里为数不多的可用产品之一。售价 500 美元的机箱甚至不包括显卡。那些即使买得起的人也不得不与有限的库存作斗争来测试它。因此，这些内容很难进入主流用户的手中。

值得称赞的是，2017 年这一局面有了许多改善。今年年初，我已经知道 AKiTiO，一个在 eGPU 支持之前在 Thunderbolt 领域工作多年的玩家，发布了他们的节点产品来支持这个新的解决方案。售价 299 美元——有时售价是 Razer Core 的一半 Node 似乎更有吸引力。其他玩家，如技嘉的 AORUS 部门，也通过宣布采用 NVIDIA GTX 1070 的外壳，以略高于核心的价格进入了领域。英特尔希望帮助雷电 3 达到临界质量，决定从 2018 年 1 月 1 日开始免费提供。

今年 3 月，我们联系了冲绳，在短暂的美国之行中，我们把节点带回了冲绳。从那以后，我们在 Windows 中对骷髅头峡谷 NUC 进行了测试，并使用 NUC/节点组合测试了 HTC Vive。但随着 XDA 最终确定其硬件覆盖范围，许多测试和结果被搁置。在去 SIGGRAPH 的旅途中，在与 NVIDIA 的商业营销和 SFF Network 的几个新朋友交谈后，它又复活了。尽管人们知道 Windows 中对 eGPU 的支持，但在 Linux 中却知之甚少。从洛杉矶带着所有正确的组件回来后，是时候帮助阐明这个主题了。

* * *

## **拆箱&照片**

AKiTiO 节点包含一个 SFX 400W 电源以及 2 个 6+2 电源连接器。这一点，加上对超过 300 毫米的卡的支持，意味着它适合我随时可以用来测试的任何卡。最后，我使用了目前最强大的测试工具:英伟达 GTX 1080 创始人版。这应该可以消除任何可能来自 GPU 本身的潜在瓶颈。

顶部和侧面是一个单独的盖子，可从背面滑出。我相信 AKiTiO 在未来的版本中可能会考虑将放在可拆卸的滑轨上，因为滑盖有时会卡在错误的位置，在继续移动之前必须进行调整。但鉴于它远低于其竞争对手 Razer Core，这是我愿意放弃的价格差异。该节点还在机箱前面安装了一个风扇，将空气从后面排出，使一切保持凉爽。

* * *

## 五金器具

我在英特尔 i7-7700K 评测基准测试后不久进行了 Linux 测试。读者会注意到，这几乎是完全相同的配置。在很大程度上，英特尔是唯一一个在他们的主板上实现它的公司。GIGABYTE 将会在 AMD 即将推出的 X399 主板上安装一个独立的显卡。按照我们披露的常规，任何不是由我和/或 XDA 购买的物品都会在这里注明，同时也会注明提供者。

#### 共享平台配置(在 eGPU 和独立显卡之间)

#### 外部 GPU 特定测试

* * *

## 安装

虽然我们的报道主要是关于 Linux 的，但是如果不提及，甚至是顺便提及，已经进行但没有在全面审查中使用的测试，那将是愚蠢的。因此，在收到节点后不久，我们很快在 Windows 中的头骨峡谷 NUC 上设置了它。Thunderbolt 设置需要在 BIOS 中启用，但一旦完成，只需插入电源，批准设备通过 Thunderbolt 连接/使用，然后安装 NVIDIA 驱动程序即可。使用 3DMark Fire Strike 快速测试了这种差异。前的[和](https://www.3dmark.com/fs/8677123)后的[的差异简直令人震惊。我们还首次用这个测试了 HTC Vive，并很高兴地看到 VR 在 Thunderbolt 连接上运行得非常好。](https://www.3dmark.com/fs/12136389)

根据我用 NUC 设置节点的经验，首先在 Windows 环境中设置它并确保它在测试台上正常工作似乎是合理的。安装了 Windows 10 x64 的临时版本，节点最初没有响应。经过一番搜索后，发现 Z170X-Gaming 7 需要 BIOS 和 Thunderbolt 固件更新，谢天谢地，它们都可以在支持页面上找到。一旦应用了必要的更新，节点就活跃起来，并立即显示出与我们在 Windows 中看到的骷髅峡谷 NUC 相似的结果。

我们使用 i7-7700K 评测中相同的 Ubuntu 17.10 版本转移到 Linux。经过一系列测试后，我们还发现在 Linux 中使用 eGPU 只需要我们*使用它和英特尔集成显卡。试图禁用集成 GPU，而使用镭龙 HD6450 导致了非常糟糕的结果。我们还意识到，在其当前的时尚中，只使用开源驱动程序似乎更容易，而不是 NVIDIA 的独立驱动程序。一旦这一切都解决了，是时候测试，看看它是否会利用 GTX 1080，而不是集成显卡。Unigine 的天堂基准测试的快速推出彻底解决了这个问题。*

作为功能设置的一部分，我们测试的最后一件事是尝试“热插拔”并在电脑运行时删除或添加节点。这导致电脑锁定，但幸运的是，关闭电脑，插入或移除(冷插)工作没有问题。现在我们已经有了主要的功能，是时候看看它的表现如何了。

* * *

## NVIDIA 性能指标评测

通常，我们使用 Phoronix 测试套件进行测试。你可以在[OpenBenchmarking.org 站点](http://openbenchmarking.org/result/1709013-TR-EGPUPERF845)看到所有的测试结果，包括不完全的比较。两个基准测试套件返回了可行的结果:JuliaGPU 和 LuxMark。由于 Luxmark 似乎在 eGPU(使用 AKiTiO 节点)和 Direct(安装在主板上的 PCI-E x16 插槽中)中给出了类似的结果，因此我将注意到我们看到显著差异的地方:JuliaGPU。

在这两种情况下，eGPU 模式的性能下降了大约 20%。鉴于雷电 3 连接应该只在 PCI-E x4 上运行，这实际上是相当令人印象深刻的——特别是当考虑到 Luxmark 基准测试在两种情况下看到了几乎相同的性能。当我们测试《古墓丽影》和《T2》的游戏性能时，我们得到了类似的结果。在老版《T4》盗墓者的例子中，我们看不到什么不同。在一个更新的游戏中，比如 *Deus Ex:人类分裂*，eGPU 和 direct 的区别再次引人注目。在这个游戏基准测试中，降幅更低，在 12%-15%之间，而不是我们在 JuliaGPU 中看到的 20%。

* * *

## 最后的想法/结论

雷电 3 外部图形支持是一个伟大的概念，应该最终在 2018 年开始看到它的一天。很遗憾花了这么长时间才到达那里；仅仅是成本上的障碍就使得那些最有可能使用它的人——家庭和预算有限的学生——不太可能负担得起。但是想象一下这样一个场景，一名大学生想要带着一台 2 合 1 电脑或笔记本电脑去教室做笔记和学习，但又想要额外的图形处理能力来执行计算(如 OpenCL 或 CUDA)或玩游戏。目前，支持这种需求/使用情形的虚拟桌面对于临时用户来说仍然过于昂贵；但是，如果雷电 3 开始看到整个价格范围内的大规模实施，像 AKiTiO Node 这样的解决方案可以很容易地在他们需要时提供马力。桌面用户可能不会从中获得太多的好处，老实说，一个有钱花在骷髅头峡谷 NUC 上的人可以在同样的预算内很容易地建造一台局域网聚会用的个人电脑。

但是，如果您在工作环境中需要可扩展的图形解决方案，在这种环境中，性能的提高可以或必须在不同的人之间共享，以完成多个异步任务，那么这可能是一个很好的解决方案。随着这种情况越来越公开，可能会出现其他更好的用例。如果您正在寻找一个 eGPU 外壳作为这样的解决方案，这肯定值得在其他选择中考虑。最重要的是——如果你关心是否能让 eGPU 在 Ubuntu 中工作？简而言之，答案是肯定的！只需知道，如果遇到问题，在 Windows 中进行检查可能是明智的，即使是暂时的，以确保它在那里工作。

现在你已经知道了 eGPU 在 Linux 中是如何工作的，这是否会改变你购买 eGPU 的想法？或者也许你已经有了一个，并有一些提示与我们的读者分享？请在下面的评论中畅所欲言，或者随时在 Twitter、脸书或 Google+上参与讨论！

***编者按:**阿基提欧节点被提供给 XDA 用于审查目的。*