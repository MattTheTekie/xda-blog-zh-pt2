# 所有邪恶的根源——CIQ

> 原文：<https://www.xda-developers.com/the-rootkit-of-all-evil-ciq/>

间谍和侵犯隐私的传奇仍在继续，但这一次 XDA 承认开发者 TrevE 似乎已经触及了设备正在发生的大多数事情的核心。你可能还记得，在之前的几篇文章中，我们开始讨论一种叫做 CIQ 或载体智商的东西。从本质上来说，这是一个嵌入到大多数移动设备中的软件，不仅仅是 Android，还有诺基亚、黑莓，可能还有更多。根据 TrevE 的说法，该软件作为 rootkit 软件安装在其所在设备的 RAM 中。这个软件基本上是完全隐藏的，在其中几乎看不见，最糟糕的是，杀死它相当复杂(有些设备比其他设备更复杂，几分钟后你就会明白为什么)。这被赋予了对该设备的根权限，这意味着它可以做任何它想做的事情，你对此没有任何发言权。

我们为什么要深入这个问题？不久前，我与 TrevE 就他一直在从事的所有 HTC 概念验证工作进行了反复交谈，他开始对 CIQ 感到疑惑，据他所说，这是他在 HTC 代码中发现的最糟糕的事情之一。因此，他决定开始深入研究这个问题，并发现关于这个软件，有比制造商敢说的更多的东西。事实证明，CIQ 并不完全是许多人看不到的(因为它是隐藏的)，但它对于系统和网络管理员来说是一个非常有用的工具。该工具用于提供反馈和多个指标的相关数据，可以帮助上述管理员排除故障并提高系统和网络性能。要点和案例，应用程序似乎以这样一种方式运行，它允许用户通过调查和其他事情提供所需的输入。用更形象的方式来说，这就是 CIQ *应该有的样子*

这是 CIQ 在三星和 HTC 设备上的真实样子

看出区别了吗？哦，如果你想知道，第一张图片来自 CIQ 的“处女”拷贝。我们亲爱的 dev 找到了这本书的原始副本以及大量信息，包括培训视频、指南和一大堆会让你毛骨悚然的材料。以上版本不仅仅是表面上的改变。HTC 版的菜单和调查被完全删除，三星版的部分被删除，除非你真的知道你在看什么，否则你不可能理解。例如，所谓的选择退出选项在 HTC 设备中根本不存在，在三星设备中也很难关闭。最重要的是，你可以看到一些事件或触发器，基本上允许这个应用程序收集数据(感谢 XDA 公认的开发者 [k0nane](http://forum.xda-developers.com/member.php?u=824976) 为你在三星设备上的工作)

> ***HTC 手机上发现的已知触发器:***
> 
> *按下 HTCDialer 键或键盘键:**Intent–com . HTC . Android . IQ agent . action . ui01*
> 
> *App 打开-**Intent–com . HTC . Android . IQ agent .*<wbr>*action . ui15**短信收到-**Intent–com . HTC . Android . IQ agent .*<wbr>*action . smsnotify**屏幕关闭/打开-**Intent–com . HTC . Android . IQ agent .*<wbr>*action . ui02【t2t*
> 
> *UI01:轻敲屏幕的任何位置，或按下输入法(任何软键盘)键。*
> 
> NT10: HTTP 请求已读取。
> 
> *NT0F: HTTP 请求发送。*
> 
> *UI11:未知，位于 View 类中，有自己的 IQClientThreadRunnable 子类。*
> 
> *AL34:在浏览器框架中开始加载–URL。*
> 
> *AL35:在浏览器框架中开始加载–数据接收开始和结束，页面渲染开始和结束。*
> 
> *AL36:数据长度。* *(以上两个在 LoadListener 和 WebViewCore 类中也有。网络指标在 Skyrocket 上找不到，但是在 Epic 4G 和 Epic 4G Touch 上。)*
> 
> *HW03:电池状态改变。(在 Skyrocket 上也找不到。)*

想要更多吗？该应用程序可以收集的“指标”或数据的种类。在该应用的最初版本中，该应用被设置为收集网络状态、设备 ID 和制造商等信息。然后，所有这些数据被推送到一个“门户”，管理员可以在那里以他/她认为合适的任何方式查看、过滤、容纳和虚拟排列应用程序报告的所有指标。更重要的是，根据一些培训文件，CIQ 几乎可以把任何东西都当作度量标准，并记录下来。例如(TrevE 举了一个很好的例子)，假设一个网络管理员正在为加利福尼亚下午 5 点掉线的人记录数据。由于可以通过不同的触发器获得所有的指标，同一网络管理员不仅会知道您在加州下午 5 点接到了掉线的电话，而且他/她还会知道您在加州的位置，在给定时间您在用手机做什么，在那之前您访问了您的应用程序多少次，甚至您在您的设备中键入了什么(不，最后一个不是夸张的，这个东西也可以充当键盘记录器)。已经害怕了？如果没有，这里是这个东西可以收集的一些指标的片段

既然我们已经提供了足够的事实，让我们直接进入问题的核心。在这个问题上我们没有发言权。如果我们不找到设备并打破对它们的担保，我们对这些数据的收集几乎无能为力(反正我们通常不在乎这么做)。但问题是，所有这些数据，所有这些关于你的信息，你如何使用你的设备，你每天的活动，你用你的设备做的一切都被记录和出售。不久前，威瑞森站了出来(可能是因为他们看到了这一点)，并决定为其客户提供选择退出这项活动。基本上，阻止大红出售你的数据(但不收集它)。另一方面，Sprint 甚至一度否认了自己的存在。现在，我们知道这是你从他们那里买手机时所签订的合同的一部分，对吗？不对！根据 Sprint 的说法，即使你直接从易贝购买一台设备，并且没有 Sprint 的服务(如果你愿意，可以把它用作 Wifi 媒体播放器)，Sprint 仍然可以从你那里收集这些数据。你被他们束缚和束缚着，即使你从未计划过这样做。

另一点是他们收集的信息的合法性问题。一些数据对于网络性能甚至广告目的都是有意义的，但是在这个作者看来，监控你输入的所有内容有点太多了。我的意思是，什么样的许可目的可以允许一家公司合法地将键盘记录器放在某个东西上，并在你甚至没有从他们那里获得服务的时候使用它？在这一点上，这远远超出了数据可能被访问、截取，甚至代码中存在循环漏洞的事实。这是我们作为消费者的隐私权问题。

如果你现在打电话给 Sprint，向他们寻求解决办法，保护自己免受不公平行为的侵害可能会遭到反对。然而，TrevE 确实提供了一种从一些 HTC 设备上手动删除这些东西的方法，而 k0nane 则为几款三星设备提供了完整的删除工具包。或者，也有定制的 rom 去掉了 CIQ 和其他“服务”。如果你不太习惯手动编辑设备中的内容，请尝试一下。

这本质上是对消费者权利的明显侵犯。不能选择退出是完全荒谬的，我们希望在即将到来的设备和软件更新中解决这个问题。请记住，我们可能不是您的绝大多数用户/客户，但不幸的是，我们的社区可能会让您的销售努力变成一场活生生的噩梦。消费者是最终的关键持有人，我们建议你不要再把我们看做金钱符号，而应该更像是人和顾客。总而言之，我是*而不是*出售的，我的隐私*是*无价的。

你可以在 TrevE 的[原创博客文章](http://androidsecuritytest.com/features/logs-and-services/loggers/carrieriq/)中找到更多信息。

想在门户网站上发表什么吗？联系任何新闻记者。

感谢你所有的辛勤工作。你太棒了，伙计！！！