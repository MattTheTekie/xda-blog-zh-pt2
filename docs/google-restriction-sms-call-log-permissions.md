# [更新:Tasker 获得批准]谷歌对短信/通话记录权限的限制正迫使一些应用放弃有用的功能

> 原文：<https://www.xda-developers.com/google-restriction-sms-call-log-permissions/>

Google [最近宣布了对 Google Play 开发者政策](https://www.xda-developers.com/google-play-developer-policy-call-log-sms/)的更新，从本质上改变了短信和通话记录相关权限的处理方式。这一变化限制了哪些应用程序可以请求这些权限——只有被选为用户拨打电话或发送短信的默认应用程序才能分别访问通话记录和短信，很少有例外。

**2019 年 1 月 4 日**更新:在将[任务自动化应用添加到新的短信和通话记录权限限制的例外列表](https://www.xda-developers.com/tasker-exemption-google-sms-call-log-restriction/)后，Tasker 的开发者[宣布](https://www.reddit.com/r/tasker/comments/acheqp/update_sms_and_call_permissions_success/)他的应用已被批准使用这些权限。因此，Tasker 不会丢失任何功能。然而，其他应用程序如 Tasker 开发人员的 Join 应用程序仍在审查中。

## 背景

这一改变的目的是为了保护那些经常漫不经心的普通用户，他们将这些权限授予每一个请求这些权限的应用程序，而不管这样的应用程序是否真的需要这些权限来实现其宣传的功能。一旦获得授权，用户很少会撤销应用程序的这些权限，这导致许多应用程序拥有用户短信和通话记录的完全访问权限，即使他们不再需要访问权限。这里的责任在于疏忽的用户和滥用这种疏忽来获取私人信息的应用程序开发者。然而，谷歌选择通过将证明需要访问这些权限的责任推给开发者来保护用户。因此，谷歌推出了新的政策更新，只限制访问被设置为电话和短信功能默认设置的应用程序，从而只限制访问消费者实际用于这些目的的应用程序。

不幸的是，这一政策变化带来了一些附带损害。提供需要此类权限的有用功能的开发者现在需要在更改后的 90 天内向 Google 提交一份[权限声明表](https://docs.google.com/forms/d/e/1FAIpQLSfbmF-9G249UDLJZpEvJpjgwP8rjvvLyWyNYnFPrsqYjMNckg/viewform)，解释为什么他们的应用程序需要使用短信和/或通话记录权限来获得 Google Play 批准。但是，如果谷歌认为这些权限的使用对应用程序来说是不必要的，该表单将被拒绝。这反过来迫使应用开发者从他们的服务中删除有用的功能，以保留在 Play Store 中。

[根据谷歌](https://support.google.com/googleplay/android-developer/answer/9047303):

> #### 您应该只访问通话记录或短信权限来启用应用的核心功能。
> 
> #### 核心功能是这款应用的主要目的。这是在应用程序的描述中最突出记录和宣传的功能；没有其他功能比这款应用的功能更重要了。如果没有提供这个特性，应用程序就是“坏的”(例如，不能像用户期望的那样运行)。

谷歌确实提供了例外情况，即在以下情况下，可以对不是默认短信、电话或助理处理程序*的应用程序给予临时例外:*

 **   权限的使用为用户提供了核心应用程序功能
*   目前没有替代方法来提供核心功能

谷歌列出的特殊用途包括来电显示、垃圾邮件检测和拦截；连接的设备伙伴；短信或通话的跨设备同步或转移；基于短信的金融交易和相关活动；和代理呼叫(VoIP 呼叫)。如果应用程序属于这些例外情况，谷歌*可能*给予批准，这意味着谷歌手中有自由裁量权。

*短信或通话记录使用权限变更汇总。来源: [Google Play Academy Live: 2018 年 10 月政策更新&热门话题深潜](https://www.youtube.com/watch?v=xg3f9cdNVWA)*

## 影响

然而，这种方法有其自身的缺陷。任何需要这种许可的附带功能，不管它对用户有多有用，也不管开发人员有多真诚，都很容易被拒绝。因此，如果一个应用程序提供了几个功能，而一个如此重要的功能需要这些权限中的任何一个，那么整个应用程序都将被拒绝。在这种情况下，该功能将被归类为附带功能，而不是核心功能，这使得开发人员几乎没有希望在例外情况下获得批准(因为例外情况也与“核心应用程序功能”相关)。

这就是几个流行应用程序正在发生的事情，这些应用程序需要这样的权限来执行某些任务，这些任务确实构成了它们“核心功能”的一部分，但从非常广泛和缩小的角度来看，这些功能都是附带的。

例如， **EasyJoin** 允许用户在设备之间共享消息、链接、文件、通知和剪贴板内容。该应用程序的专业版允许从远程设备发送短信和管理电话，这也是用户考虑购买该应用程序专业版的原因之一。由于政策更新的需要，应用程序的开发者填写了权限声明表，[收到了以下回复](https://forum.xda-developers.com/showpost.php?p=78093180&postcount=145):

*我已经查看了您的请求，发现您的应用程序、发送文件、剪贴板、短信& more - EasyJoin "Pro "，net.easyjoin.pro 不符合使用所请求权限的条件，原因如下:*

*   *允许声明的功能{来电显示，连接的设备配套应用}；h* *然而，我们认为这对你的应用程序的核心功能来说是不必要的。*
*   *声明的功能{发起短信}不被允许。*

类似地， **ACR 通话记录器**的开发者在 Reddit 的一个帖子中提到，由于这一政策变化，他的应用[也被拒绝](https://www.reddit.com/r/androiddev/comments/9vodpd/we_evaluated_your_declared_feature_call_recording/)(基于 EasyJoin Pro 给出的理由)。

另一个受欢迎的应用程序 **Tasker** 也受到了这一变化的主要影响，很可能会失去一些核心功能和吸引力，因为从更广泛的角度来看，请求短信/通话记录权限的功能等同于附带功能，而谷歌似乎正在使用这些功能进行分类。Tasker 的核心功能是*做任何事情*，附带功能是发起或自动发送短信或电话。但遗憾的是，谷歌并不这么想[着重号由作者标明]:

*我已经检查了你的请求，发现你的应用 Tasker，net.dinglisch.android.taskerm 不符合使用所请求权限的条件，原因如下:*

*   *宣称的功能“发起文本消息、发起电话呼叫、以及基于呼叫、SMS 和 MMS 的无限数量的情况的自动化”不符合这些权限。*
*   *允许声明的功能“来电显示、垃圾邮件检测、阻止和跨设备呼叫或短信同步&发送”； **但是我们确定它对于你的应用** 的核心功能是不必要的。*
*   *允许声明的功能“来电显示、垃圾邮件检测、阻止和跨设备呼叫或短信同步&发送”；然而，我们无法在应用审查期间验证此功能。*
*   您的应用程序具有与您声明的功能不匹配的默认处理程序功能。
*   *默认处理程序特性是允许的；但是，在根据策略要求请求相关权限之前，您的应用程序似乎不会提示用户成为默认处理程序。*

这种拒绝的最终结果是，该应用将不会在 Play Store 上列出。**要让应用程序在 Play Store 上上市，开发者需要从应用程序中完全移除许可，从而移除用户已经为之付费的关键功能**。

一些应用程序，如通话记录应用程序，将会被这一变化削弱。其他应用程序需要将短信/通话功能分离到一个单独的应用程序中(以确保这样的功能现在成为一个“核心功能”)，然后将这两个应用程序重新提交给谷歌，并附上解释。这需要做大量的工作，而且不能保证这种方法也能获得批准。

一个应用程序是否需要通话记录或短信许可是由谷歌决定的，而不是该应用程序的开发者或用户。谷歌拥有非常广泛的自由裁量权，并且不考虑应用程序的自愿和预期用途。什么被认为是“核心功能”,由人类代表来解释，人类代表将对请求进行裁决——为任意的判断和偏见大开方便之门。

是的，有些开发人员可能无法充分解释为什么他们的应用程序需要这些权限。然而，如果没有足够明确的指导方针来确定什么是可接受的，什么是不可接受的，那么很难不看到对开发者的限制的[增长趋势。强迫开发者放弃有用的功能对于为这些功能付费的用户来说是一种损失。虽然保护疏忽大意的临时用户也是谷歌的工作，但这种保护应该以知情同意的用户为代价吗？](https://www.xda-developers.com/android-pie-throttling-wi-fi-scans-crippling-apps/)

我们希望谷歌重新审视他们的指导方针，并为行使其自由裁量权制定更明确的标准。已经创建了一个 [Google 问题跟踪页面](https://issuetracker.google.com/issues/117486314)来记录这个问题。*