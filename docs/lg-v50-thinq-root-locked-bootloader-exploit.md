# 由于漏洞，LG V50 ThinQ 在锁定的引导加载程序上获得 root 权限

> 原文：<https://www.xda-developers.com/lg-v50-thinq-root-locked-bootloader-exploit/>

LG 的 bootloader 解锁政策相当恼人，因为该公司倾向于将少数地区设备变体列入白名单，以便通过官方门户网站解锁。然而，这种情况并不总是他们的错，因为美国运营商往往会决定阻止引导加载程序解锁。以 LG V50 ThinQ 为例——虽然[可以解锁欧洲版本](https://www.xda-developers.com/lg-v50-europe-bootloader-unlock/) (LM-V500EM)的引导加载程序，但不能解锁 [Sprint](https://www.xda-developers.com/lg-v50-thinqs-korean-launch-delayed-5g/) 或[威瑞森](https://www.xda-developers.com/lg-v50-5g-verizon-launch/)型号。这使得在这些运营商模型上扎根几乎是不可能的，但开发者最近在这方面取得了突破。现在可以在锁定 LG V50 ThinQ 设备的引导程序上获得根外壳，尽管是临时的。

**[LG V50 ThinQ XDA 论坛](https://forum.xda-developers.com/v50-thinq)**

XDA 公认的开发者 [j4nn](https://forum.xda-developers.com/member.php?u=4418980) 使用 Pixel 3 专用的 [CVE-2020-0041](https://github.com/bluefrostsecurity/CVE-2020-0041/tree/master/lpe) 漏洞(在这里阅读更多信息[T5)在运行 Linux 4.14 内核的](https://labs.bluefrostsecurity.de/blog/2020/04/08/cve-2020-0041-part-2-escalating-to-root/) [LG V50 ThinQ 的 Android 10 固件](https://www.xda-developers.com/lg-v50-android-10-korea/)上实现 shell 中的 root 访问。修改后的漏洞利用的当前形式在软件版本为 V500N20m 的韩国 LG V50 ThinQ 变体(LM-V500N)上进行测试，但据报道，它在 [LG G8 ThinQ 的 Android 10 固件](https://www.xda-developers.com/lg-starts-rolling-out-stable-android-10-update-g8-thinq/)上也能[工作](https://forum.xda-developers.com/v50-thinq/how-to/temp-root-achieved-v50-g8-t4096755)，只需稍作调整。理论上，任何运行 Android 10 的骁龙 855 驱动的 LG 手机，如果安全补丁级别不到 2020 年 3 月的话，都很容易受到攻击。

由于是一个“临时根”的方法，根访问将失去你的手机一重启。此外， [Android Verified Boot 2.0](https://www.xda-developers.com/android-pie-rollback-protection/) 可能会在没有解锁的引导加载程序的情况下，试图对受保护的分区(如引导、系统和供应商)进行永久更改，从而损坏您的手机。也就是说，该漏洞目前可以以编译后的形式获得，而开发人员将很快发布源代码。可执行文件应该从常规 ADB shell 或终端模拟器中调用，并且在成功提升权限后应该显示以下消息。

```
 [+] Mapped 200000
[+] selinux_enforcing before exploit: 1
...
[*] Launching privileged shell
root_by_cve-2020-0041:/data/local/tmp 
Linux localhost 4.14.176-g563a8d550f67-dirty #5 SMP PREEMPT Sun Apr 26 02:26:43 CEST 2020 aarch64
root_by_cve-2020-0041:/data/local/tmp 
Permissive
root_by_cve-2020-0041:/data/local/tmp 
uid=0(root) gid=0(root) groups=0(root) context=kernel
root_by_cve-2020-0041:/data/local/tmp  
```

**[下载 LG V50 ThinQ Temp Root 漏洞利用](https://forum.xda-developers.com/v50-thinq/development/lg-v50-temp-root-exploit-via-cve-2020-t4098077)**

XDA 资深成员 [Inerent](https://forum.xda-developers.com/member.php?u=8615083) 和其他成员正在尝试将 Magisk [集成到 root shell](https://forum.xda-developers.com/v50-thinq/development/temporary-magisk-root-v50-instalation-t4098367) 之上，但是在撰写本文时该过程尚未完成。在 [Safestrap](https://www.xda-developers.com/snapdragon-samsung-galaxy-s8-galaxy-note-8-safestrap-recovery/) 或类似解决方案的帮助下，也有可能在你锁定的 LG V50 引导程序上安装一个定制恢复，但我们必须等待，看看这样的定制开发是否会在手机上出现。