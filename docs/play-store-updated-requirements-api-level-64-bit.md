# Play Store 将要求新的和更新的应用程序以更新的 API 级别为目标，并分发支持 64 位的本机代码

> 原文：<https://www.xda-developers.com/play-store-updated-requirements-api-level-64-bit/>

在今天的一篇博客文章中，谷歌宣布了提交到 Play Store 的应用程序即将发生的重大变化。这些变化旨在通过要求开发人员以更新的 API 级别为目标来提高最终用户的安全性。此外，Google 还将开始要求发布本地库的应用程序也提供这些库的 64 位版本。不过，这些变化分别要到 2018 年中期和 2019 年中期才会生效，因此开发人员将有足够的时间进行更新，以满足这些新要求。让我们更深入地了解一下这些变化对开发人员和最终用户意味着什么。

* * *

## 变化#1:瞄准更新的 API 级别

最新的 API 级别是 27，对应的是 [Android 8.1 版本](https://www.xda-developers.com/android-8-1-oreo-final-release-imminent/)。在那之前是对应安卓 8.0 奥利奥的 API 级。从【2018 年 8 月开始，任何提交到 Play Store **的**新应用**必须至少针对 API 级别 26** 。此外，从 2018 年 11 月**开始**，对现有应用的**更新也必须**以 API 级别 26 或更高**为目标。**

然而，这些要求并不是一成不变的。2019 年，谷歌将在每个主要 Android 版本发布一年后**增加 targetSdkVersion 要求。例如，Android P 发布一年后，应用程序必须以 API 级别 28 或更高为目标。**

请记住，这些要求**仅针对目标 API 级别**，而非最低要求。这意味着你仍然可以构建在旧版本 Android 上运行的应用程序，比如 Android Lollipop。这很重要，因为仍有数百万用户在他们的设备上运行旧版本的 Android。您应该实现什么样的最低 API 级别？在 Twitter 上关注 [@minSdkVersion](https://twitter.com/minsdkversion?lang=en) ，及时了解你应该何时改变现状。

至于在可预见的将来不会收到任何更新的应用程序，什么都不会改变。这些应用程序将继续存在，尽管它们当然不能利用新 SDK 中引入的任何新功能。如果这种应用程序的开发者出于任何原因希望更新他们的应用程序，那么他们将不得不更新他们的应用程序以满足更高 API 级别的要求。

这对用户安全来说是一个福音。Android 6.0 Marshmallow 引入了运行时权限，在用户必须接受的对话框后面保护某些敏感权限，如位置或联系人访问。然而，应用程序可以通过定位旧的 API 级别来避开运行时权限。如果应用程序以这个较旧的 API 级别为目标，则在安装过程中会授予权限。

此外，Android Oreo 对后台应用程序执行、隐式广播接收器和后台位置限制的新限制只是对以 API 级为目标的应用程序的要求。由于这种 API 水平将是未来的一项要求，这意味着任何运行 Android Oreo 的用户都不必担心应用程序不会因 Android Oreo 的新限制而优化。

### 关于未来 Android 版本的说明

这个新要求中有一个条款很有趣。引用这篇博文:

> #### 未来的 Android 版本还将限制不针对最新 API 级别并对性能或安全性产生负面影响的应用程序。

鉴于之前的要求只影响提交到 Play Store 的新应用程序或更新的应用程序，这句话似乎**暗示未来版本的 Android 也将对不能跟上最新 API 水平的应用程序**进行限制。Android 8.0 Oreo 引入了[仅运行时权限](https://www.xda-developers.com/runtime-only-permissions-android-oreo/)，要求应用程序目标 API 级别为 23，因此谷歌可以开始在这些限制背后增加新功能。

## 变化#2:对本机代码的 64 位支持

大多数旗舰 Android 设备都采用基于 64 位架构的芯片。据谷歌称，超过 40%的设备支持 64 位。分发本地库的应用程序目前只能基于 32 位代码，由于向后兼容，64 位设备仍将工作。

然而，由于 64 位代码可以提供更好的性能，谷歌将**要求应用程序利用原生库的开发人员必须有 64 位替代产品**才能在仅 64 位设备上运行。应用程序可以同时包含 32 位和 64 位库，或者使用开发人员控制台中的[多 APK](https://developer.android.com/google/play/publishing/multiple-apks.html) 功能，使用任一库分发多个版本的 APK。这一要求将于 2019 年 8 月开始生效，不影响不运行任何本机代码的应用程序。

这最后一个变化不需要开发人员采取任何行动。相反，这将由 Google Play 自动处理。Play Store 将开始向每个 APK 添加**少量元数据，这将验证应用程序是否由谷歌 Play 商店正式发布。Google Play 的最大 APK 大小将会增加，以考虑这些新的元数据，但开发者的应用程序中不应有任何改变。**

* * *

[**来源:谷歌**](https://android-developers.googleblog.com/2017/12/improving-app-security-and-performance.html)