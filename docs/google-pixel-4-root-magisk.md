# 如何用 Magisk 谷歌 Pixel 4 或 Pixel 4 XL

> 原文：<https://www.xda-developers.com/google-pixel-4-root-magisk/>

XDA 社区的 Android 高级用户仍然认为 root 访问非常重要。有些事情你只能用 root 权限来做，比如在任何应用程序中启用 Pixel 4 的面部解锁。如果你买了 Pixel 4 或 Pixel 4 XL，并想学习如何根它，我们将在本教程中告诉你如何。因为 TWRP，那里最流行的自定义恢复，[将需要一些时间被移植到最新的像素，当前的根方法比你可能习惯的要复杂一点。一旦稳定的 TWRP 可用，我们将更新这篇文章，以简化步骤。](https://www.xda-developers.com/twrp-lead-explains-android-10-support-custom-recovery/)

在我们进入如何根你的手机之前，你需要做一些事情。首先，你需要备份手机上的所有数据。这是因为**root 需要擦除手机上的所有数据，这不仅包括已安装的应用程序，还包括保存到内部存储的所有文件。**您可以将文件保存到 PC、Google Drive、Google Photos 等设备中。，但要确保它很容易拿到。您还需要确保您的 PC 上有大约 10GB 的可用存储空间，因为您需要存储空间来下载出厂图像。完成后，您可以删除这些文件来释放空间。不过，保存工厂图像是个好主意，以防你在 root 后的冒险中遇到任何问题，需要恢复库存。

值得注意的是，这些步骤**将不会在 Pixel 4 和 Pixel 4 XL 的美国运营商型号**上工作，因为运营商喜欢防止引导加载程序解锁，从而无法对你的手机进行 root。不过，有时人们会找到变通办法，如果找到了，我们会让您知道。

* * *

## 如何 root 谷歌 Pixel 4

### 步骤 1 -获取启动映像

在我们可以根之前，我们需要获得与您正在运行的当前软件版本相匹配的引导映像。我们将用 Magisk 管理器修补这个启动映像。要获得启动映像，您需要从 Pixel 4 或 Pixel 4 XL 工厂映像中提取它，该文件包含进行完全恢复所需的所有手机映像。为了确保你下载了正确的出厂映像，你需要检查你的手机当前运行的是哪个软件版本。要检查这一点，请前往设置>关于电话。在底部，寻找“内部版本号”在工厂映像下载页面上找到匹配的内部版本号，并下载该文件。

[**像素 4 出厂图像**](https://developers.google.com/android/images#flame)| |[|**像素 4 XL 出厂图像**](https://developers.google.com/android/images#coral)

接下来，提取工厂图像。zip 文件然后提取图像- *设备代号* - *版本*。zip 文件(是的，在一个 zip 中有一个 zip)。从后一个文件夹中提取 boot.img 文件。将此 boot.img 文件传输到您的手机。你可以将手机连接到电脑，也可以通过文件传输应用程序发送。它如何到达那里并不重要；它只需要出现在你的手机上。

### 步骤 2 -在 Magisk 管理器中修补启动映像

有了手机上的启动镜像文件，接下来你需要下载并安装最新的 Magisk Manager APK。这是 Magisk 的配套应用程序，您将使用它来修补启动映像。下载下面链接的 APK 并安装它。

在 Magisk 管理器中，您需要点击“Magisk 未安装”文本旁边的“安装”按钮。选择“安装”，然后选择“选择并修补文件”这将打开 Android 文件管理器。继续，找到您从 PC 传输的 boot.img，并在 Magisk Manager 中选择它。Magisk 然后会修补启动映像，并在您的下载文件夹中保存一个名为“magisk_patched.img”的文件。

您必须将此文件传输回您的 PC，因为接下来，我们将解锁引导加载程序，这将擦除所有数据，就像我们之前警告的那样。

[**下载 Magisk 经理 APK**](https://github.com/topjohnwu/Magisk/releases/download/manager-v7.3.5/MagiskManager-v7.3.5.apk)

注:如果你在 XDA 论坛上浏览 Pixel 4(T1)或 Pixel 4 XL(T3)，你可能会幸运地找到一个补丁前的启动映像。这将省去你执行步骤 1 & 2 的麻烦，但是要确保你下载的任何预打补丁的引导镜像与你的软件构建版本相匹配！

### 步骤 3 -启用 OEM 解锁

首先，进入设置，然后“关于手机。”寻找底部的“内部版本号”，点击这个条目 7 次，直到你启用“开发者选项”它会要求你输入你的手机密码。启用开发者选项后，返回主设置页面并选择“系统”，然后选择底部的高级下拉菜单并转到“开发者选项”在那里，选择“OEM 解锁”并输入您的密码。

### 步骤 4 -解锁引导加载程序

启用 OEM 解锁后，关闭手机。按住音量键和电源键来打开你的手机并进入引导菜单。在这里，把你的手机接到你的电脑上。我假设你已经安装了 [ADB 和 Fastboot](https://www.xda-developers.com/install-adb-windows-macos-linux/) ，但是如果没有，你会想在继续之前安装它们。在命令提示符或终端窗口中，键入:

```
 fastboot flashing unlock 
```

您将看到一个屏幕，告诉您即将启动引导加载程序解锁过程。使用音量按钮导航，使用电源按钮接受。**同样，这将清除你手机上的所有数据，所以在继续操作之前，请确保你已经备份了数据。**

解锁引导程序后，它将在几分钟后重新启动。你可以现在就设置你的手机，或者等到你刷新了 Magisk 补丁的启动镜像之后。我建议你现在不要设置你的电话。

### 步骤 5 -刷新 Magisk 修补的启动映像

在您的启动映像被修补并且启动加载程序被解锁之后，您最终可以刷新修补后的启动映像来安装 Magisk(并获得 root 访问权限)。关闭您的手机，因为此时它应该在设置屏幕上。您现在想要通过再次按住音量和电源按钮来引导回引导加载程序。一旦你在这里，你就离根只有一步之遥。

类型

```
 fastboot flash boot <em>path/to/</em>magisk_patched.img 
```

一旦你按下回车键，补丁启动图像将被刷新到你的手机。一旦你使用“快速启动”重新启动，你的手机将会以 Magisk 为根。Magisk Manager 应用程序应该会出现在你的主屏幕上，但如果没有，只需手动安装 APK。

这就是你的 Pixel 4 和 Pixel 4 XL 的全部根。

### 第六步-下一步是什么？

请注意，每次更新手机时，您都必须重复步骤 1、2 和 5，因为每次更新时启动映像都会发生变化。因为你的手机现在是根，你不会得到 OTA 更新，虽然。相反，你必须通过最新的工厂映像来刷新最新的更新，但是[你可以这样做而不擦除任何数据](https://www.xda-developers.com/flash-monthly-security-update-google-pixel/)。但是，如果你从论坛上运行一个定制的 ROM，这就不适用了。

如果您正在寻找与您新扎根的 Pixel 4 相关的事情，请查看我们的论坛寻求想法:

**[像素 4 论坛](https://forum.xda-developers.com/pixel-4)| |[像素 4 XL 论坛](https://forum.xda-developers.com/pixel-4-xl)**