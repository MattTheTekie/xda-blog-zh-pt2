# 如何用 EMUI 的 App Twin 特性克隆任何应用【无 Root】

> 原文：<https://www.xda-developers.com/how-to-clone-any-application-with-emuis-app-twin-feature-no-root/>

如果你最近购买了华为 Mate 9，或者你是少数几个参与华为/Honor 设备 EMUI 5.0 测试版的幸运儿之一，那么你可能听说过新的" **App Twin** 功能。

显然，华为必须将这一功能视为 EMUI 的最大卖点之一，因为他们将它放在了设置应用程序的最顶层。 [App Twin](https://club.hihonor.com/in/tips.267/app-twin---an-exclusive-emui-5-0-feature.15269) ，顾名思义，允许你创建一个重复的应用程序，这样你就可以同时登录两个不同的账户。欧洲车型的车主可以复制 *Whatsapp* 或*脸书*而中国车型可以复制 *QQ* 或*微信*，但**这些是你默认的唯一选择**。

当您复制其中一个应用程序时，您的主屏幕上会创建一个新的应用程序图标，允许您启动复制的应用程序。您会在应用程序图标中看到一个小小的“2”卡片图标，指示您正在使用哪个应用程序——原始应用程序还是副本应用程序。这个重复的应用程序只能存在于华为的股票启动器上，当图标从主屏幕上清除时，应用程序 Twin 就会被删除。

现在，这肯定不是华为的创新概念。有几个应用程序在 Play Store 上执行相同的功能；一些比较流行的包括 [App Cloner](https://play.google.com/store/apps/details?id=com.applisto.appcloner) 和[平行空间](https://play.google.com/store/apps/details?id=com.lbe.parallel.intl)。我认为，默认情况下，这些第三方替代品优于华为的应用程序 Twin 功能。你通过 Play Store 复制的任何应用都不会绑定到华为的 EMUI 启动器。但最重要的是，你不仅限于华为设置的两个预定应用。

然而，这些应用程序，以及 Play Store 上的其他类似应用程序，也有各自的缺点。例如，App Cloner 不能在许多应用程序上运行(比如大多数谷歌应用程序)。虽然 Parallel Space 展示了更好的兼容性，但在我看来，它是一个非常臃肿的应用程序，启动任何给定的重复应用程序都很慢。

幸运的是，华为的应用程序 Twin 功能没有遇到这两个问题，但出于某种奇怪的原因，华为决定将该功能限制在少数几个应用程序中。尽管华为声称 App Twin 只适用于 Whatsapp/脸书或 QQ/微信，但它实际上可以适用于你设备上的几乎任何应用。下面是怎么做的。

* * *

## 使用 EMUI 的 App Twin 功能克隆任何应用

那些一直关注我之前教程的人可能知道我非常喜欢使用 Tasker 和/或 ADB shell 来发现和调整你设备上隐藏的设置。这一次没有什么不同，尽管你可以松一口气，因为我们这次不再需要 Tasker 了。我几乎完全错过了这个技巧，因为在我切换到使用 Nova Launcher 后，我从来没有给 App Twin 第二个想法，但当我在进行其他调整时，我几天前发送的 ADB 命令突然弹出了一个辅助 Gmail、Solid Explorer、Chromium 和 Reddit is Fun 图标。

令我惊讶的是，这些是**功能齐全的重复应用**。将你想要的任何应用程序添加到应用程序列表中真的很容易。你所需要的只是应用程序的**包名**和一个工作的 **ADB shell** (如果你已经有 root 权限，那么你可以使用终端模拟器代替)。

首先，[直接从 Google](https://www.xda-developers.com/google-releases-separate-adb-and-fastboot-binary-downloads/) 下载 ADB 二进制文件，并解压到你电脑上的任意文件夹。接下来，安装来自华为的 [HiSuite](http://consumer.huawei.com/minisite/HiSuite_en/index.html) ，这样你的电脑将拥有亚行工作所需的最新驱动程序。最后，你需要在设置- >开发者选项中启用 USB 调试(在设置- >关于手机中点击构建号 7 次以解锁开发者选项，如果你还没有的话)并授予你的计算机 ADB 访问权限。

通过查看 ADB 是否识别您的设备来验证 ADB 设置是否正确。在与你的 ADB 二进制文件相同的目录下打开一个命令提示符(Windows:在文件夹中右击，点击“在此打开命令提示符”)，然后键入`adb devices`。如果你看到你的手机序列号(它没有说“未授权”)，那么你就准备好继续前进。如果您没有看到它，请检查以确保 HiSuite 能够识别您的电话，并再次检查 USB 调试是否已启用。

现在，我们需要获得一个包名列表，我们将使用 App Twin 特性克隆它。我建议你安装一个应用程序，比如 Play Store 的 [App Inspector](https://play.google.com/store/apps/details?id=com.ubqsoft.sec01) ，它会告诉你所有已安装应用程序的包名。打开应用程序，点击“应用程序列表”,显示按字母顺序排列的应用程序列表。点击一个应用程序，打开一个详细信息页面，其中包含一系列信息，包括安装时间、数据存储位置、使用统计等。

当然，我们感兴趣的是包名。软件包名称是应用程序名称下面的第一行，或者您可以通过查看数据存储位置中的最后一个/来找到它。它通常以“com”开头。但情况并非总是如此。对于 Gmail，包名为 *com.google.android.gm* 。

现在您已经获得了包名，在 ADB 二进制文件所在的目录中打开一个命令提示符。我们现在将发送 ADB 命令来创建我们的克隆应用程序。首先，您需要输入一个 ADB shell。键入以下内容:

```
 adb shell 
```

进入 ADB shell 后，输入以下命令:

```
 settings get secure clone_app_list 
```

如果您已经在使用 App Twin 特性，那么您应该会看到这个命令返回的一个或两个包名。如果你没有使用这个特性，这个字符串将是空的。现在，我们要么追加到现有列表中，要么创建一个新的要克隆的应用列表。

```
 settings put secure clone_app_list "PACKAGE#1;PACKAGE#2;PACKAGE#3" 
```

其中包装#1...包装#3...PACKAGE#N 是您想要克隆的应用程序包的完整的**分号分隔列表。确保不要忘记将包列表**放在引号**中间，否则该命令将不起作用。**

如果您已经在使用 App Twin 功能，并且在“get”命令期间收到了一个包列表，那么请确保将您的列表附加到返回的包列表中。否则，现有的应用程序将被删除。

例如，如果我想克隆 Gmail、Solid Explorer、Chromium 和 Reddit，我会输入以下命令:

```
 settings put secure clone_app_list "com.google.android.gm;pl.solidexplorer2;org.chromium.chrome;com.andrewshu.android.reddit" 
```

输入该命令后，您应该会立即看到一条 toast 消息，告诉您一个克隆的应用程序已经放在了您的主屏幕上。根据您在该命令中输入的包的数量，您的主屏幕现在应该会填充一个或多个克隆的应用程序。

您可以从这个命令中获得一些乐趣，因为它可以在您手机上的几乎任何应用程序上使用(尽管我不建议克隆 SystemUI，因为我不知道会发生什么)。例如，我能够克隆谷歌 Play 商店和火焰徽章英雄。

克隆的 Play Store 功能齐全，但如果您从其中安装应用程序，它会导致一些奇怪的行为。正如你在下面的截图中看到的，我在克隆游戏商店里安装了平行空间。系统变得混乱，以为你刚刚创建了另一个克隆的应用程序，但当你点击主屏幕图标时，你被告知该应用程序没有安装。不过不要担心，因为应用程序实际上已经安装好了，可以从应用程序抽屉中访问。

如果您想自己使用这个命令，有一件非常重要的事情您应该小心。任何时候你想添加一个包到列表中，你必须**追加**到列表中，并且不要覆盖列表中现有的包，否则你现有的克隆应用将全部消失。您可以通过输入本教程前面的“get”命令来获得克隆包的当前列表。

* * *

## 结论

我希望你会发现这个简洁的小技巧很有用。我不知道华为为什么决定限制你可以克隆的应用程序，特别是因为这个功能似乎对你设备上的几乎每个应用程序都完全有效。根据我的经验，华为的应用 Twin(经过这次调整)实际上比使用 Play Store 的第三方应用更好，因为它具有广泛的兼容性，并且没有速度问题。

尽管如此，还有一点需要注意的是，这项功能仍然只能在华为的默认启动器上运行。我还没有找到绕过这种限制的方法，但它可能需要第三方启动程序来支持这一功能(我认为这不会发生)。尽管如此，本教程仍然可以帮助那些希望 EMUI 的应用程序孪生功能更有用的人。

**2017 年 3 月 4 日**更新:我已经发布了一个后续教程，展示如何在你选择的任何启动器上使用 App Twin 功能。[来看看](https://www.xda-developers.com/how-to-use-emuis-app-twin-feature-on-any-launcher/)！

试试吧，让我们知道它是否适合你！