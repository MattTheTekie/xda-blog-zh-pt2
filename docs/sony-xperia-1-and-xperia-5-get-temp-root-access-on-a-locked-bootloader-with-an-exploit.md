# 索尼 Xperia 1 和 Xperia 5 通过利用漏洞在锁定的引导加载程序上获得临时 root 访问权限

> 原文：<https://www.xda-developers.com/sony-xperia-1-and-xperia-5-get-temp-root-access-on-a-locked-bootloader-with-an-exploit/>

当谈到 bootloader 解锁和定制开发时，索尼不可否认是对开发者最友好的原始设备制造商之一。该公司维持着一项名为[开放设备计划](https://www.xda-developers.com/tag/sony-open-device-program/)的计划，通过该计划，他们向开发社区提供工具和指南，帮助他们在选定的 Xperia 设备上编译 Android 开源项目(AOSP)。此外，索尼为[引导程序解锁](https://www.xda-developers.com/sony-xperia-bootloader-unlock-video/)提供了一个专用的在线门户，但是有一个问题。

解锁任何索尼 Xperia 设备的引导加载程序都会同时清除一个名为“trim area”(TA)的分区的某个部分。该特定段包含一串 DRM 密钥，用于索尼专有的音频和视频功能(例如，X-Reality 视频增强、DSEE HX、ClearAudio+等)。)上股票 ROM。那些唯一的密钥只能在解锁引导程序之前[备份](https://www.xda-developers.com/easily-backup-the-ta-partition-on-your-sony-xperia-device/)当你已经有根访问权限的时候。(通常，您需要一个解锁的引导加载程序才能首先获得 root 访问权限。)现在，找到一个权限提升漏洞，可以在不解锁引导加载程序的情况下给你稳定的根访问权限可能很棘手，但 XDA 公认的开发人员 [j4nn](https://forum.xda-developers.com/member.php?u=4418980) 可以提供帮助。他和 XDA 的初级成员 [bb-qq](https://forum.xda-developers.com/member.php?u=579057) 一起，致力于利用现有的漏洞在索尼 Xperia 1 和 Xperia 5 上生成根外壳——尽管是暂时的。

**[索尼 Xperia 1 XDA 论坛](https://forum.xda-developers.com/xperia-1) ||| [索尼 Xperia 5 XDA 论坛](https://forum.xda-developers.com/xperia-5)**

开发者二人组决定重用 [CVE-2020-0041](https://github.com/bluefrostsecurity/CVE-2020-0041/tree/master/lpe) ，它最初是在运行 Linux 内核 4.9 的谷歌 Pixel 3 上发现的[。有趣的是，](https://labs.bluefrostsecurity.de/blog/2020/04/08/cve-2020-0041-part-2-escalating-to-root/) [j4nn](https://forum.xda-developers.com/member.php?u=4418980) 确实利用了相同的漏洞来[在锁定 LG V50 ThinQ 单元的引导程序上实现临时 root 访问](https://www.xda-developers.com/lg-v50-thinq-root-locked-bootloader-exploit/)。使漏洞兼容 LG V50 ThinQ 所需的所有修改或多或少都有助于将其移植到索尼 Xperia 1 和 Xperia 5 上，部分原因是这些手机基于相同的高通骁龙 855 芯片组，运行在 Linux 内核 4.14 上。

[漏洞利用的最新迭代](https://github.com/j4nn/CVE-2020-0041/tree/x1x5-mroot)还支持从临时根 shell 调用 Magisk Manager，这对于没有经验的用户来说是一大利好。对于那些对如何在不解锁引导程序的情况下在索尼 Xperia 1 或 Xperia 5 上获得 root 感兴趣的人，请访问下面的链接。仔细阅读所有内容，确保您运行的是兼容版本的股票 ROM，并按照详细说明执行脚本。

**[索尼 Xperia 1/5 Temp Root Exploit — XDA 下载讨论线程](https://forum.xda-developers.com/xperia-1/development/xperia-1-5-temp-root-exploit-via-cve-t4146103)**

值得一提的是，使用此漏洞访问根 shell 确实可以让您完全转储 Xperia 1 和 Xperia 5 上的 TA 分区。然而，我们还没有看到通过在这些手机上恢复这样的转储来获得所有 DRM 密钥的确认报告。对于对技术更感兴趣的人来说，有一个正在进行的关于这个主题的讨论，你可能想看看并参与进来。