# 磁盘加密:好与慢

> 原文：<https://www.xda-developers.com/disk-encryption-the-good-and-the-slow/>

在这样一个世界里，个人信息不再那么个人化，整个银行账户都与我们的智能手机相连，监控和网络犯罪空前猖獗，安全是技术领域的主要方面之一。

针和图案形式的简单屏幕锁已经存在很长时间了，但直到最近，随着 Android Honeycomb 的推出，全磁盘加密才在 Android 上出现。基于设备主密钥，即时(即在读写操作期间)加密和解密用户数据大大提高了设备安全性。

在 Android Lollipop 之前，前面提到的主密钥仅基于用户的密码，通过 ADB 等外部工具向大量漏洞开放。然而，Lollipop 在内核级进行全磁盘加密，使用第一次启动时生成的 128 位 AES 密钥，它与 TrustZone 等硬件支持的认证协同工作，消除了 ADB 漏洞。

## 硬件与软件加密

磁盘加密可以在两个不同的级别进行，即软件级别或硬件级别。软件加密使用 CPU 来加密和解密数据，或者使用由用户密码解锁的随机密钥，或者使用密码本身来验证操作。另一方面，硬件加密使用专用的处理模块来生成加密密钥，卸载 CPU 负载，并使关键密钥和安全参数更安全，免受暴力攻击和冷启动攻击。

尽管较新的高通 SOC 支持硬件加密，但谷歌在 Android 上选择了基于 CPU 的加密，这种加密在磁盘 I/O 期间强制进行数据加密和解密，占用了大量 CPU 周期，导致设备性能受到严重影响。凭借 Lollipop 的强制全磁盘加密，Nexus 6 成为首个承受此类加密冲击的设备。发布后不久，许多基准测试显示了普通 Nexus 6 与使用修改后的启动映像关闭加密的 Nexus 6 的结果，结果并不漂亮，显示加密设备远远慢于另一台。形成鲜明对比的是，苹果设备自 iPhone 3GS 以来就支持硬件加密，iPhone 5S 继续支持 AES 和 SHA1 加密的硬件加速，由其 64 位 armv8 A7 芯片组支持。

## 加密和 Nexus 系列

去年的摩托罗拉 Nexus 6 是第一款对用户强制进行软件加密的 Nexus 设备，它对存储读写操作的影响——使它们变得极其缓慢——受到了广泛的批评。然而，在 Nexus 5X 和 Nexus 6P 发布后不久，在 Reddit AMA 上，谷歌的工程副总裁戴夫·伯克(Dave Burke)表示，这一次也是基于软件的加密，引用了 64 位 armv8 SoCs，同时承诺结果比硬件加密更快。不幸的是，AnandTech 的一篇[评论显示，尽管 Nexus 6 有了显著的改进，但在面对面的比较中，Nexus 5X 比 LG G4 差了约 30%，尽管这两款设备的规格表相似，并且都使用了 eMMC 5.0。](http://www.anandtech.com/show/9742/the-google-nexus-5x-review/4)

## 对用户体验的影响

尽管 Nexus 6 和 Nexus 5X 似乎都因加密而受到磁盘 I/O 问题的困扰，但 Lollipop 中的软件优化在性能部门得到了弥补，这使得采用全磁盘加密的 Nexus 6 在 Lollipop 上的运行速度可以说比理论上运行 KitKat 的 Nexus 6 更快。然而，具有鹰眼的最终用户在打开 gallery 等磁盘密集型应用程序时，或者在流式传输本地 2K 或 4K 内容时，可能会偶尔注意到轻微的口吃。另一方面，加密显著地保护了你的个人数据，并保护你免受政府监控等项目的影响，唯一的代价是轻微的口吃，所以如果这是你可以忍受的事情，加密肯定是要走的路。

## OEM 和加密

尽管设备加密对最终用户来说是一种过于仁慈的机制，但一些原始设备制造商偶尔会对它不太看好，其中最臭名昭著的是三星。这家韩国 OEM 厂商的 Gear S2 智能手表及其移动支付解决方案 Samsung Pay 与加密的三星设备不兼容...前者[拒绝工作](http://www.androidauthority.com/gear-s2-has-some-problems-with-encrypted-phones-658741/)，后者[不允许用户添加卡](http://www.xda-developers.com/samsung-pay-requires-decrypted-device-for-full-functionality/)，通知用户需要完全设备解密才能运行。鉴于加密增加了设备的安全性，阻止用户添加卡似乎是一个奇怪的举动，安全是采用移动支付解决方案的一个主要决定因素。

## 真的需要吗？

对于大多数用户来说，尤其是不包括超级用户的群体，加密是他们不太可能偶然发现的东西，更不用说心甘情愿地启用*。FDE 当然会确保设备数据的安全，并保护其免受监控程序的攻击，尽管会有轻微的性能损失。虽然 Android Device Manager 在清除落入不法之徒手中的设备上的数据方面做得不错，但加密将安全屏障向前推进了一步，因此如果你愿意牺牲性能，FDE 无疑会让你的数据远离不法之徒。*

 ***你对设备加密有什么看法？你认为谷歌应该走硬件加密路线吗？您是否启用了加密，如果是，您是否面临任何性能问题？在下面的评论区分享你的想法吧！***