# PSA:谷歌助手语音输出不起作用？这里有一个潜在的解决方案。

> 原文：<https://www.xda-developers.com/google-assistant-voice-output-fix/>

谷歌助手只是在今年 3 月才开始向安卓 6.0+智能手机用户推出，而且只是在特定地区。我们预计谷歌已经解决了大部分问题，但似乎仍有一些挥之不去的问题。一些用户向我们报告，有时助手的语音输出不起作用。谢天谢地，XDA 资深会员 [muena90](https://forum.xda-developers.com/member.php?u=2108738) 花了几个小时研究这个问题，并能够在他的 OnePlus 3T 上修复它。作为参考，他运行的是 AOSPA 7.3.0，并且使用的是谷歌应用程序版本 7.12.24.21。他发现，问题在于音频编解码器。

您的设备需要音频编解码器来解码某些音频流类型。不同的声音文件使用不同的算法来存储音频数据，需要音频编解码器来读取这些数据。当 muena90 发现谷歌助手不和他说话时，他发现他的设备日志中有与音频编解码器相关的错误。

他获取了一个 [logcat](https://www.xda-developers.com/guide-sending-a-logcat-to-help-debug-your-favorite-app/) ,这只是设备上系统日志的一个捕获。无论您遇到什么问题，查看这些都会很有帮助，而且如果您报告了一个 bug，这可能是开发人员首先会询问的事情。Muena90 通过 logcat(如下所示)发现，每当助手的声音应该说话时，MMParser-Extractor(与音频的高通处理相关)都会抛出一个错误，例如当要求它读取天气时。

一旦 muena90 看到这些，他做了一些谷歌搜索，发现 MMParser-Extractor 与音频编解码器有关，但没有发现其他什么。然而，他们发现 mm.enable.qcom_parser build prop 参数实际上包含了设备应该使用的默认音频编解码器。

最初，它的值是“2097151”，这显然是一种不兼容的音频编解码器，用于读取谷歌助手应用程序发送的音频数据。相反，他们决定谷歌一个推荐的构建道具文件，采用建议的音频编解码器，并用新的编解码器替换他们自己的。通常不推荐从在线随机构建道具文件中获取东西，但在这种情况下，这可能是解决问题的最佳方案。

## 如何修复谷歌助手语音输出

下一步要求您编辑构建属性文件(您需要 root 访问权限)。我们建议使用一个简单的构建道具编辑器，如下图所示。它很简单，有一个很好的用户界面，可以完成工作。

在 build prop 应用程序中，在“mm.enable.qcom_parser”参数下插入值“3183219 ”,替换旧的数值。然后，重启你的手机。

## 那么，谷歌助手怎么样了？

“mm.enable.qcom_parser”下面的数字可能是指 Android 内置的特定音频编解码器。这似乎是很多应用程序的默认音频编解码器，谷歌助手并不期望使用它。简单地下载和分析一个推荐的构建道具在这里是正确的答案，因为用户是在一个定制的 ROM 上，它似乎没有一个关于音频编解码器的通用配置。

然而，值得注意的是，谷歌助手似乎是唯一受此编解码器影响的应用程序。更改数字似乎会改变设备上支持的编解码器的实际范围，从而允许 Google Assistant 正确输出音频。

当遇到这样的问题时，有时一个简单的 logcat 就足以找到问题，而不需要这项工作所需要的几个小时的谷歌搜索。如果您遇到了这个问题，简单地更改您的构建属性文件可能就足以修复它并继续您的工作。