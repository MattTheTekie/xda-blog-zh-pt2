<html>
<head>
<title>Android 13 will let you stop foreground services from the notifications drawer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Android 13将允许你从通知抽屉中停止前台服务</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-13-foreground-services-task-manager/#0001-01-01">https://www.xda-developers.com/android-13-foreground-services-task-manager/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p>谷歌上周晚些时候开始播种第二个<a href="https://www.xda-developers.com/android-13/"> Android 13 </a>开发者预览版。当时，<a href="https://www.xda-developers.com/android-13-developer-preview-2/">公司强调了这次发布中的一些新特性和变化。然而，它并没有揭示所有的变化。在过去的几天里，我们已经看到了一些这样的变化，包括</a><a href="https://www.xda-developers.com/android-13-media-controls/">更新的媒体控件、重新设计的输出选择器</a>、<a href="https://www.xda-developers.com/android-13-dp2-clipboard-popup/">新的剪贴板弹出菜单</a>和<a href="https://www.xda-developers.com/android-13-pc-features/">PC上Android的UI变化</a>。在这篇文章中，我们将看看第二个Android 13开发者预览版中发现的另一个有用的功能，它将让用户轻松地从通知抽屉中停止前台服务。</p>

  
<p>据<em>斯珀</em>报道，Android 13 DP2包括一个新的前台服务(FGS)任务管理器。它显示了当前运行前台服务的应用程序列表，并允许用户停止前台服务，而不管目标SDK版本如何。你可以通过在通知抽屉上向下滑动并点击设置目录旁边的新图标来访问这个名为活动应用的列表。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Credit: Google&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Android 13 FGS Task Manager" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg" src="../Images/69aefb111482233df16d16b3529291f6.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Android-13-FGS-Task-Manager.jpg"/> </picture> <figcaption class="body-img-caption">Credit: Google</figcaption> </figure> </div>


 </div>


<p>正如你在所附截图中看到的，新图标在前台显示了运行服务的应用程序的数量。点击它会打开一个卡片，上面有应用程序的名称，在前台活跃的时间，以及一个停止按钮。你可以点击停止按钮来停止前台服务。值得注意的是，通过FGS任务管理器停止应用程序与从最近屏幕关闭应用程序或使用设置中的“强制停止”选项没有相同的效果。下表强调了这三种操作之间的差异。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Credit: Google&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Differences between closing apps from FGS Task Manager, Recents, and Force Stop" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg" src="../Images/ab06cab22df49e030972495578b19fbd.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2022/03/Differences-between-closing-apps-from-FGS-Task-Manager-Recents-and-Force-Stop.jpg"/> </picture> <figcaption class="body-img-caption">Credit: Google</figcaption> </figure> </div>


 </div>


<p>斯珀进一步指出，当一个应用的前台服务在24小时内运行了至少20小时，FGS任务管理器就会推送通知。通知将提示用户与FGS任务管理器进行交互。它将显示:<em>【应用】正在后台运行很长时间。点击以查看。</em>但是，如果前台服务的类型为FOREGROUND _ SERVICE _ TYPE _ MEDIA _ PLAYBACK或FOREGROUND _ SERVICE _ TYPE _ LOCATION，则不会出现此通知。</p>

<p>值得一提的是，持有ROLE_EMERGENCY角色的系统级app和安全类app将免于出现在FGS任务管理器中。当设备处于演示模式时，这同样适用于所有应用程序。此外，用户将无法关闭一些应用程序，即使它们出现在FGS任务管理器中。这些应用程序包括设备所有者应用程序、描述文件所有者应用程序、持续应用程序和具有ROLE_DIALER角色的应用程序。</p>

<p>您可以通过下面的源代码链接了解更多关于新的前台服务任务管理器的信息。</p>

<hr/>

<p><strong>来源:</strong> <a href="https://developer.android.com/about/versions/13/changes/fgs-manager">谷歌</a></p>

<p><strong> Via: </strong> <a href="https://blog.esper.io/android-13-deep-dive/#foreground_service_manager">斯珀</a></p>

 </div>


</div>    
</body>
</html>