# 采访:高通谈人工智能和骁龙 855 的 Hexagon 690 DSP

> 原文：<https://www.xda-developers.com/qualcomm-gary-brotman-ziad-asghar-ai-snapdragon-855-hexagon-690-dsp/>

当高通发布他们新的[骁龙 855 移动平台](https://www.xda-developers.com/qualcomm-snapdragon-855-kryo-485-cpu-adreno-640-gpu-spectra-isp-cv/)时，他们吹捧在移动计算的各个方面的实质性改进。对于普通用户来说，很容易理解高通在骁龙 855 中做出的 CPU 和 GPU 改进背后的[最终用户利益。更好的 CPU 性能意味着应用加载更快，更好的 GPU 性能意味着游戏时更高的帧率。用户理解起来不太直观的是 AI(人工智能)，具体来说就是 app 和服务越来越多地采用的机器学习技术，比如人工神经网络。由于全面的计算改进，特别是由于改进的 Hexagon 690 DSP，高通在骁龙 855 的人工智能工作负载性能方面取得了巨大的进步。我们采访了高通大学人工智能和机器学习战略及产品规划负责人加里·布罗特曼(Gary Brotman)和高通大学骁龙路线图规划和人工智能、XR、竞争战略副总裁齐亚德·阿斯加尔(Ziad Asghar)，以了解高通在人工智能工作负载方面的更多改进。](https://www.xda-developers.com/qualcomm-snapdragon-855-performance-gaming-ai-improvements-explained/)

* * *

***马里奥·塞拉费罗***:****所以，新的 DSP。去年，我问了您关于攻击策略的问题，特别是关于高通如何推动、推广、营销和宣传 DSP 和 HVX。当时，作为一个人工智能模块，它对大多数读者和消费者来说还是相对新鲜的。因此，我们想知道，随着 845 的进一步推广，您如何看待这一发展。”****

 **> #### ***加里·布罗特曼*** :“首先，也是最重要的，当我们开始用 820 做这件事时，它仍然是以 CPU 和 GPU 为中心的，利用 DSP 和向量处理能力真的是谷歌试图用 TensorFlow 和 8 位数学前进的结果。这就是我们在 DSP，或者说矢量处理器中真正发挥作用的地方。鉴于 Hexagon 中矢量处理器的成熟，以及我们能够在接下来的两代中快速推进路线图的方式，以及我们看到的用例，在当时，基本分类网络非常简单，没有太多分量。他们可以很好地运行 8 位数学。即使在去年，一个专用的加速器也是一个风险，因为它基本上将区域分配给了一些可能不会被使用的东西。用例的融合，它可以是标准的单摄像头、超高分辨率或实时分割。在某些情况下，这些事情会同时发生，至少需要某种程度的专用加速，您可以在向量处理器甚至 GPU 上隔离并读取周期。这是正确的时间。
> 
> #### 这肯定是我们在上次讨论时就必须计划的事情，但我认为这个行业的每个人都在打赌，他们确切地知道或接近确切地知道这些工作负载将会是什么。应该需要什么类型精度，以及您是否有足够的计算预算来满足即将到来的用例的汇合。在这一点上，我们相当谨慎——高通一直以用例为中心——我们不想冒险使用不会被使用的专用加速，因为它在最后一个周期可能会过时。就一般卷积而言，我们已经看到了足够多的东西，一个专用的加速器可以做得非常出色。再次释放其他地方的循环。就我们对这款新加速器的战略而言:它是专用的，是一种新的架构。它不是六边形导数。但是，如果你想一想今天的网络，有某些非线性函数在一些专用加速度上运行得不好——”

***【Mario Serra fero】***:**【耶，sigmoid，relu】**

> #### ***加里·布罗特曼*** :“正是，Softmax。你必须把它们踢到别处，或者踢到中央处理器。但在我们的例子中，我们在引擎盖下设计的方式实际上是 DSP 控制。它决定网络在哪里运行，各层在哪里运行，并且可以决定是否应该在 DSP 上运行某些东西，作为在张量处理器上运行的后备。所以这种配对对我们来说很有意义。但这并没有削弱我们的信念和战略，即我们 SoC 中的每个主要核心都有其作用，因此我们全面优化，但仍有许多可变性，这将继续下去。”

***马里奥·塞拉费罗*** : **“我们想谈论的另一个话题是用例。正如你所说，高通非常以用例为中心，我们已经看到人工智能在三个主要领域进入移动领域:语音识别，序列预测，如字符串和打字，显然还有计算机视觉，如人工智能过滤器，[和对象识别]。计算机视觉爆炸了，现在你随处可见。我看到了语音识别，每个人都有自己的人工智能助手，每个人都有自己的助手。现在，所有这些都可以在边缘完成，具有很小的延迟和完美的安全性。但是机器学习的用例下一步会是什么，所有这些用例都将由世界上的大公司开发吗——世界上所有的 Snapchats，Facebooks？你怎么看那个滚动？”**

> #### ***加里·布罗特曼*** :“我不认为我能指出一个杀手级用例。但是这些能力允许更多的计算复杂性，并且在视觉的情况下，输入分辨率可以更高。你不是在处理低分辨率的图像来产生散景。在之前的另一次采访中，我们以 4K 流媒体为例进行了讨论。我不会预测这是可能的，但我们合作的开发者，无论是像谷歌这样的大公司还是我们的软件开发合作伙伴，他们实际上正在构建驱动许多这些移动功能的算法，他们只是想推动更多。他们想走得更远。如果有什么我想看到的下一步措施，可能不会是线上或应用程序级别上发生的事情，而是系统中发生的事情，如改善产品的工作方式、电源管理，甚至是相机管道，而不仅仅是顶部。您提到了音频，以及您将支持多少个关键词，或者您是否可以在设备上消除噪音。关键字的事情很有趣，因为构建这个库并不容易——内存有限。因此，在本地和云中仍将保持平衡。”
> 
> #### ***齐亚德·阿斯加尔*** :“我可以补充一点。因此，至少在音频和图像这两个领域，它的增长速度很快。我们可以看到它有很多用例。杰克从相机的角度谈到了这一点，我们已经有了人工智能引擎，在那里你可以利用很多成像用例。今天展示的一些。如果你看看音频，我们并没有谈论太多，但我们实际上也给音频模块添加了一些音频功能。我们能够在更嘈杂的环境中更好地激活语音。我们能够(在成像中)更好地消除噪声。所有这些能力基本上都已经出现了。这是 Gary 今天为 ISP 展示的合作伙伴，还会有更多的合作伙伴。所以我认为这是我们今天更加关注的两个方面。”
> 
> #### ***加里·布罗特曼*** :“然后下一步——我不会预测这何时发生——现在有足够的计算，在下一个周期，设备上的学习和围绕设备上的实际学习的实验可能会发生。”

***马里奥·塞拉费罗*** : **“这可能是一个讨论起来更有趣的话题，事实是高通坚持使用 Hexagon DSP 这个名字和 HVX，而其他公司则选择“神经”这个名字。高通是如何看待这种差异以及这些主要与营销相关的不同战略和方法的，但我们稍后还可以讨论一下异构计算与特定数据块的对比。”**

> #### ***加里·布罗特曼*** :“因为 Hexagon 已经在 DSP 中建立了股权，人们会立即倾向于认为我们只是在扩展我们的 DSP 战略。实际上，在 brand 上，如果你看看所有三个处理器，你的标量，你的矢量，现在你的专用张量加速器，它们不都是 DSP。Hexagon 真的是比单纯的 DSP 更高层次的品牌。DSP 屈指可数。我认为营销问题可能更难回答，因为每个地区都不一样。中国非常以 NPU 为中心，因为这是去年引入的一个名字，而且似乎已经扎根。我不会说这在全球其他地方行得通。谷歌有一个张量处理器，张量似乎产生了共鸣。”
> 
>  <picture>![](img/580b52eea312e3a2628ae798973e9053.png)</picture> 
> 
> The Qualcomm Snapdragon 855's improvements in AI workload performance. Source: Qualcomm.

***马里奥·塞拉费罗*** : **“很多人都有自己不同的名字。”**

> #### ***加里·布罗特曼*** :“归根结底，这取决于原始设备制造商想做什么。如果这对他们的客户很重要，那么他们就有责任想出如何利用这种处理能力，并在能力方面与众不同。我们的引擎，我认为我们拥有的大量处理能力，就整体组合而言，仍然是非常以矢量和张量为中心的。专用处理器本身，它进行矩阵乘法的方式，与 NPU 将[使用]的专用处理器是相同的。营销问题很有趣，我忘了，基思的回答是什么？”
> 
> #### 齐亚德·阿斯加尔 :“他的回答是，‘为了能卖出更多的产品，你可以随便叫它什么。’"
> 
> #### ***加里·布罗特曼*** :“差不多就是这样；没错，这是一个非常直率的回答。”
> 
> #### 齐亚德·阿斯加尔 “我认为加里做得很好。有些人用这个名字作为术语，几乎是在声明或暗示它只局限于这个区块。但我们看到的是，这种能够使用 CPU、GPU 或六边形张量向量的整个异构方法，在功率和性能的整个精度范围内为您提供了不同的权衡，这就是您今天需要的。因为我们不知道什么应用需要什么程度的精度，什么需要持续的性能，或者什么不需要。因此，我们认为这是一个完整的整体解决方案，因为这是获得最佳体验的方式。”
> 
> #### 加里·布罗特曼 :“在我们的任何对话中，这一点从未改变，即使有专门的加速器。这是一种补充，而不是替代。”

马里奥·塞拉费罗 : **“是的，我想是基思去年说的，‘哪里有计算，哪里就有人工智能。’现在有了更多的计算。”**

> #### ***加里·布罗特曼*** :“每个区块都有更多的计算，没错。”

***马里奥·塞拉费罗*** : **"N** **既然说到这个话题，我们已经听到了很多关于 Android 上一个“神秘的”7 纳米竞争对手的比较。是的，我们仍然不知道那是谁。” ( *口语* *开玩笑* )**

> #### ***加里·布罗特曼***:*没想法。* " ( *戏言*)

***马里奥·塞拉费罗*** : **“但是，你能给我们一些关于这些比较的线索吗？它们是如何测量的？有哪些值得考虑的告诫？在幻灯片或 Q & A 中，你们可能没有时间展开任何其他评论？我知道，由于模型的多样性，衡量(和交流)有点困难，所以我认为这是一个有趣的话题，可以展开讨论，让人们知道为什么进行这些比较不是那么容易。”**

> #### ***加里·布罗特曼*** :“其实挺简单的。我会给你一个非常简单的答案。我们将在一月份进行更多的基准测试。我们将更多地讨论不同的网络，这些网络被用来测量我们所基于的数字，这将是标准的 Inception v3。这就是我们的业绩来源，以及我们对竞争对手排名的理解。但是，就已经宣布并在市场上推出的产品而言，这就是 2x 和 3x 的来源——3x 是针对我们在 845 中的产品，而 2x 是他们相对于我们的性能和性能状态的衡量标准。”
> 
> #### 齐亚德·阿斯加尔 :“你有可用的设备，你实际上可以获得它们并自己做一些测试。但我认为我唯一要警惕的是，它有点像标杆人工智能的狂野西部。一些人正在使用一些非常笼统的术语，或者网络组合，这些术语可能会以某种特定的方式让他们受益，也可能不会。”这与模态工作负载相一致吗？“不是人们一直在考虑的事情。一些一直在浮动的基准做得更多，我们非常接近，所以我们知道有人正在使这些基准以这样或那样的方式摇摆，这取决于什么对他们有利。这就是为什么它更多的是关于实际用例。对于该使用情形而言，它更多的是关于同类最佳性能，然后是关于以最快的速度完成工作。我认为这些都是我们要考虑的因素。但我认为它会变得更好，它会收敛。现在，有各种不同的选择。我认为你会有一些更有意义的基准。今天，也许你会认为《盗梦空间 3 版》在这个时间点上相对更好。”
> 
> #### ***加里·布罗特曼*** :“就网络而言，是少数。有雷斯网、VGG、分段网、超分辨率网——你可以用它们来衡量原始性能。就基准测试而言，如正在进行人工智能基准测试的公司或实体，他们的精确度、网络和公式是可变的，它们是如此可变，以至于结果每周都在变化。这才是真正的西部荒原，我们保持着一定的距离。我们不会在任何地方下注，因为在使用案例中使用的一些网络的实际性能存在很大的可变性，我们相信，与竞争对手相比，我们在性能方面仍然绝对处于领先地位。我应该说不是排名，而是我们谈到的翻倍，原始性能。”

***马里奥·塞拉费罗*** : **“作为一个主要面向开发者的网站，我们感兴趣的主题之一是机器学习的民主化。显然，我们有很棒的开源库，每个人都在提供这些令人惊叹的 SDK，还有大量的教育。现在 Android NN 已经上市，谷歌刚刚发布了简化这一过程的 [ML 套件](https://www.xda-developers.com/google-ml-kit-machine-learning/)。你只需要调用一个 API，给它输入你的输入，他们使用一个训练过的模型，你不必担心它，*你不必考虑它，你不必知道任何统计或任何向量演算*。你如何看待这方面的发展，使其更容易访问，简化 API，简化文档，SDK，并促进第三方开发者的参与，而不仅仅是大公司？”**

> #### 加里·布罗特曼 :“有趣的是，当我们真正关注大公司时，它也在帮助较小的开发者。当谈到为骁龙编程，特别是运行人工智能时，我们开始更多地使用专有堆栈。但是随着时间的推移，在过去的几代人里，我们增加了更多的工具。我们试图在高级抽象和易用性以及低级访问之间取得平衡，这需要有人更加精明，特别是在处理我们的一些专有核心时，如向量处理器或 NPU。我们从民主化的角度看到它的发展。我们有基本的构建模块，如 Hexagon 和高通数学库，但也许有一个稍微高级的 API，它至少抽象了一些繁重的工作，但给了开发人员足够的灵活性，使他们能够使用自己的自定义运算符，或者能够在较低的级别上稍微调整一下性能。因此，产品组合将继续涉及更多的工具，当然还有 NN API 之类的东西，Onyx 就是一个例子，它能够基本上说“这是你正在编程的东西，你正在用什么来表达你的网络。“只要硬件支持，你就是好的。
> 
> #### 正如我在演示中提到的，我们负责多操作系统环境。有 Windows，有 Linux，有 Android，所以不仅仅是 Android。当我们看到这一点时，如果我们要从操作系统的角度构建某种将成为 SoC、跨 SoC 或跨平台的 API，我们必须看看如何在我们构建的内容中找到通用性。例如，具有库和操作符支持的堆栈，能够插入 NN API 或 Windows ML。但是当然，我们已经从钟摆走到了这里，没有人真正知道该做什么，就像*字面上的*，不知道。“我不知道用什么框架。我是用 TensorFlow，还是应该用 Caffe 或者 Torch？”并且不知道如何在较低的级别进行优化。所以每个人都对 API 调用感到满意。现在，在短短几年内，很容易深入研究。因此，工具就在那里，无论是常见的开源工具，还是像我们或竞争对手提供的产品组合，这些工具都变得越来越容易访问和使用。"
> 
>  <picture>![](img/dbfc99ab431c444a722c2ad1202ee317.png)</picture> 
> 
> Qualcomm's AI Engine and supported AI frameworks, operating systems, ecosystems, features, and devices. Source: Qualcomm.

***马里奥·塞拉费罗*** : **“说到开发者社区。上次我们提到了游戏社区，这是我们最成熟的社区之一，高通在这方面做得很好。现在，我们比以往任何时候都更多地看到与游戏引擎的合作伙伴关系正在被推广和营销。所以我们在人工智能的背景下讨论这个问题，以及它是如何在那里出现的。”**

***米沙勒·拉赫曼*** : **“你谈到了你希望在未来 12 个月里增加投资。这是我们上次在这里的时候。”**

***马里奥·塞拉费罗*** : **“特别是在游戏开发者社区，这是我们今天所看到的扩展。”**

> #### ***加里·布罗特曼*** :“我不记得关于投资游戏社区的具体评论，但如果你看看我们看到的推动专用加速需求的类别，游戏是其中的一个组成部分，但它不一定是主要的用例——例如虚拟现实。在丰富的沉浸式 VR 体验中，每个核心基本上都得到了利用。您在 GPU 上进行图形处理，在矢量处理器上进行视觉处理，并且需要采用一个或多个网络并在专用加速器上单独运行它们，而无需担心并发性影响。这是驱使我们走上专用加速之路的原因之一。我没有太多关于人工智能在当今游戏中如何被利用的信息。代理人有很多工作要做——开发代理人来对抗或教导你。”

***马里奥·塞拉费罗*** : **“就像游戏里的传统 AI。”**

> #### ***加里·布罗特曼*** :“完全正确，没错。而是更加基于神经网络。”

***马里奥·塞拉费罗*** : **“是啊，不是极小极大。”**

> #### ***加里·布罗特曼*** :“齐亚德的部分责任也是推动 XR 战略。”
> 
> #### ***齐亚德·阿斯加尔***:“XR wise，如果你看看今天，我们已经推出了新的设备，这些设备都是一体化的 HMD，完全支持 6 自由度。像 Oculus Quest 这样的设备实际上是与 Snapdragon 835 一起发布的，所以我们开始在实际利用 XR 设备的全部能力方面达到一个非常好的点。在过去，一些设备并没有真正提供原始的体验，因为一些人没有从中获得最佳体验。我觉得 XR 现在做的很好。随着它与 5G 的结合，我们还期待着未来，它允许你现在能够携带实际上更加移动的设备，这意味着你可以想象你实际上正在街上行走。然后有一个像 5G 这样的链接意味着像加里展示的谷歌镜头的[演示。现在想象一下，如果你戴着某种谷歌眼镜或类似的东西，你就能够通过你的眼睛看到所有的信息，现在你就有了一个非常引人注目的用例。我认为这就是你所说的长期投资的方向。](https://www.qualcomm.com/media/documents/files/snapdragon-855-ai-deep-dive-guest-google-eddie-chung-rajan-patel.pdf)
> 
> #### 但现在，我们觉得我们在 XR 和所有推出 XR 的不同公司方面都处于非常好的状态。Oculus Go 也是基于 Snapdragon 820 的，所以我认为我们正开始进入一个非常好的阶段，人们正在拿起它并用它做很多事情。正如我提到的，下一个阶段是我们开始引入 5G 连接，我们将会这样做，当然除此之外，AR 和一些东西甚至需要更多的性能，但功耗有限。这将极具挑战性，我认为根据我们今天讨论的内容，高通可能是在电力方面做这些使用案例中最好的。如果您看一下图形，如果您对任何竞争对手进行基准测试，您会发现我们的单位功率性能都是同类最佳的。因此，热量和持续的性能是 XR 的关键，在这方面我们确实领先，这也是人们选择我们做 XR 的原因。"
> 
>  <picture>![Oculus Go](img/b4d3a448f85d502e9714d27caf83d020.png)</picture> 
> 
> The Oculus Go is powered by the Qualcomm Snapdragon 821 mobile platform.

***Mario Serra fero***:**“从去年开始，我们已经看到 Hexagon 685 DSP 终于凭借 [710](https://www.xda-developers.com/qualcomm-snapdragon-710-announcement/) 达到了高端中端，并凭借 [670](https://www.xda-developers.com/qualcomm-snapdragon-670-chipset/) 和 [675](https://www.xda-developers.com/qualcomm-snapdragon-675-chipset/) 达到了适当的中端。因此，现在我们正在让六边形向量扩展向下游发展，而其他竞争对手的神经处理单元还没有做到这一点。你如何看待扩大这些体验的范围，我想问，在过去，你是否看到人工智能的性能差异产生了影响？因为我们仍然处于人工智能的早期阶段。”**

> #### ***齐亚德阿斯加尔*** :“我看总体路线图。如果您正在寻找一流的原始性能，它将是顶级的。我们正在做的是，我们有选择地采用六边形的一些功能，并将其降低。第一个人工智能引擎，或者说第一个六边形，是从骁龙 820 开始的。所以我们把它带到了骁龙 660 和 670，710 也有。所以，我们的计划是看它如何闯入未来的经历。
> 
> #### 作为一个 AI 引擎，我们有基本的旧组件:CPU、GPU、六边形张量、六边形向量和标量。我们所做的是，当我们看到这些能力正在下降并进入较低层的耳机时，我们有选择地将这些能力的一部分进一步纳入路线图。你会看到，随着今年的深入。你会看到我们会做得更多。我们在 4G/5G 峰会上发布了骁龙 675。我们谈到了 675 的功能，您将会看到，随着这些使用案例变得越来越普遍，正如我们今天在 ArcSoft 和所有其他公司展示的那样，我们实际上会降低这些功能。在较低的层中，您将能够运行该使用情形，但是为了能够获得我前面提到的正确的功耗曲线，如果您希望获得持续的性能，您会希望该特定块变得更低。所以，同样，一流的性能会在顶端，但随着你越来越低，会有一个很大的退化或渐变……”

***马里奥·塞拉费罗*** : **“你可以说是梯度下降。”*(戏言)***

> #### ***齐亚德·阿斯加尔*** :“是啊，正是。这就是我们对路线图上的其他技术的处理方式，从这个意义上来说，人工智能不会有太大的不同。这可能是一个差异，也许你来自哪里，因为它可能会通过我们在路线图中引入的其他技术更快地下降，所以我同意这一观察。”

* * *

如果你有兴趣了解更多关于高通移动平台中的人工智能，我们推荐你阅读我们去年对加里·布罗特曼的采访。你可以从我们采访的[第一部分](https://www.xda-developers.com/gary-brotman-qualcomm-interview-part-1/)开始，或者去[第二部分](https://www.xda-developers.com/gary-brotman-qualcomm-interview-part-2/)。

本次采访中展示的所有图片均来自加里·布罗特曼在骁龙科技峰会上的演讲。你可以在这里观看幻灯片[。](https://www.qualcomm.com/media/documents/files/snapdragon-855-ai-deep-dive-gary-brotman.pdf)**