<html>
<head>
<title>WiFi Data Leaks and Prevention</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>WiFi数据泄露及预防</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/wifi-data-leaks-and-prevention/#0001-01-01">https://www.xda-developers.com/wifi-data-leaks-and-prevention/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p>有能够连接到WiFi网络的设备吗？答案很可能是“是”。在这种情况下，你应该知道它最有可能泄漏潜在的私人信息。如果你想知道什么正在被泄露以及如何防止泄露，请继续阅读。</p>

  
<p>当您的设备完全休眠时，您的WiFi芯片会定期泄露两条信息:</p>

<ul> <li>您以前连接过的网络的名称。</li> <li>您设备的MAC地址。</li> </ul>

<p>注意我们说的是深度睡眠。你的屏幕被关闭不一定足够，因为音乐播放或其他服务可以让你的手机保持清醒。</p>

<p> </p>

 
<h2 id="the-names-of-remembered-networks">记忆网络的名称</h2>
<p>第一种类型的泄漏是由于首选网络卸载(PNO)而发生的。这项功能是在Honeycomb中添加的，基本上是通过为每个记住的网络发送探测请求来在后台扫描WiFi网络。它一直这样做，直到收到一个响应，表明网络的接入点在范围内。</p>

<p>[1]:WiFi设备使用探测请求来扫描已知的接入点。这通常是在没有连接到任何网络时完成的。然而，许多品牌也会发送探测请求，以确定信号较强的网络是否在覆盖范围内。在最新版本的Android上，设备唤醒时使用的非PNO扫描仪不会泄露我们上面列出的数据。</p>

<p>与被动扫描(等待接入点广播其存在)相反，这种方式速度更快，并且不需要设备长时间保持唤醒状态。简而言之:它节省电池。</p>

<p>默认行为是将记住的网络(ssid)名称作为探测请求的一部分发送，即使除了隐藏的ssid之外并不要求这样做。</p>

<p>你记得的SSIDs能说明你什么？它们实际上可以用来确定你经常去的地方和你的习惯(例如咖啡店或酒店)，或者甚至是具体的家，如果这些名字是指示性的(例如吉姆的路由器)或者在驾驶数据库中有索引。一个流行的例子是WiGLE.net驾驶数据库。通过查看您过去连接过的所有网络，还可以更准确地确定您的主要位置。有一个有趣的实验在实践中证明了这一点:<a href="http://brambonne.com/docs/bonne14sasquatch.pdf" target="_blank">大脚野人</a>。</p>

<p>我们以一个随机的人为例。我们有一些无关痛痒的网络名称，它们本身并没有太多含义:“Home”、“HHonors”、“ATTwifi”、“Columbia University”……但是把它们放在一起，你就已经知道很多了。如果那个人去度假，这也将使用户记忆的网络集合更加独特。反过来，这使得发现他们的身份更加容易，尽管这些细节本身相当微小。</p>
<p class="ad-odd"> </p>


<h2 id="your-device-s-mac-address">您设备的MAC地址</h2>
<p>至于你的设备的MAC地址，它可以作为一个唯一的标识符，显示你的智能手机的制造商。每个MAC地址实际上都包含一个<a href="http://standards.ieee.org/faqs/regauth.html" target="_blank">组织唯一标识符</a>。</p>

<p>例如，如果使用多个探测器，这可以让第三方跟踪你在商场的活动。如果你有兴趣了解更多的话，大脚野人背后的同一个团队在<a href="http://brambonne.com/docs/bonne13wifipi.pdf" target="_blank">的一个实验</a>中也做过同样的实验。有了一些创意，随着时间的推移，这些信息甚至可以与你的实际身份联系起来——想象一下，例如，商场老板将你设备的MAC地址与你对收银机的访问联系起来。</p>
<p class="ad-even"> </p>


<h2 id="evil-twin-attacks">邪恶的双胞胎袭击</h2>
<p>这不是一个漏洞，但是我们将很快讨论它，因为它有助于理解一个提议的解决方案在后面做什么。不过，它确实利用了网络列表泄漏。</p>

<p>攻击者可以使用网络的名称，通过模仿另一个接入点(个人接入点或流行网络，如咖啡店的接入点)来专门针对您或a组人员。这被称为一个邪恶的孪生攻击，基本上包括一个新的接入点使用你的设备已知的SSID。接入点的MAC地址也很容易伪造。这在许多情况下都是可能的，例如在开放网络甚至WPA个人网络中，其他人知道密码。使用WPA企业版更复杂，但可以防止这种情况。</p>

<p>在大多数情况下，这意味着如果其他人连接到同一个网络，他们可以读取正常的流量，要么是因为网络/密钥是共享的(再次考虑商店的例子)，要么是因为邪恶的孪生攻击。在这些情况下，使用HTTPS，甚至VPN或SSH隧道通常可以保证您的安全，除非您接受自定义根证书。</p>

<h1>预防和解决方案</h1>
<p>最后一部分已经讨论过了，那么，要意识到连接到公共网络的风险，并采取相应的行动。其他的呢？</p>

<p>理想情况下，您的设备会广播探测请求，要求附近的接入点宣布它们的存在，而不是“呼叫”每个接入点的名称。这对于正常的ssid来说工作得很好，在探测请求中发送ssid只能用于隐藏的ssid。顺便提一下，这就是为什么您不应该将隐藏的SSIDs视为一种安全措施。这样做可以解决位置跟踪问题，但需要在WiFi芯片的层面上实现，这是当设备处于深度睡眠状态时活跃和泄露数据的部分。</p>

<p>另一种方法是，当您不在范围内时，手动删除记忆的网络，或者在确定设备的位置后，只发送对附近接入点的探测请求。第一个需要手工操作，第二个可能是一个巨大的电池消耗者。</p>

<p>幸运的是，存在更好的解决方案…</p>
<p class="ad-odd"> </p>


<h2 id="wi-fi-privacy-police">Wi-Fi隐私警察</h2>
<p>Wi-Fi隐私策略有两个功能:</p>

<ul> <li>首先，它通过禁用不在范围内的WiFi网络来自动执行“忘记过去的接入点”部分，从而防止您的设备在深度睡眠时发送记住的网络SSIDs。</li> <li>第二，它会询问你一个已知名称，但不同的MAC地址的新接入点。这旨在防止接入点假冒。</li> </ul>

<p>第一点如预期的那样起作用。在网络被遗忘之前会有短暂的延迟，但这可能不是问题，因为您可能刚刚超出范围。</p>

<p>如果SSID是伪造的，那么第二种方法确实可以防止接入点被假冒。但是，如果攻击的目标是特定的(公共或个人)接入点，MAC地址也很容易伪造。你应该意识到这一点，因为安全的幻觉比知道缺陷更糟糕。</p>

<p>如果您想避免网络列表泄露，这是一个不错的选择，尤其是如果您不是root用户，因为不需要root用户。可以从<a href="https://play.google.com/store/apps/details?id=be.uhasselt.privacypolice" target="_blank"> Google Play商店</a>抢。该应用程序也是开源的(GPLv2+许可)，欢迎你在<a href="https://github.com/BramBonne/privacypolice" target="_blank"> GitHub </a>上查看其源代码。</p>
<p class="ad-even"> </p>


<h2 id="pry-fi">Pry-Fi</h2>
<p>Pry-Fi可防止您的设备公布记忆的网络列表，但仍允许自动连接到网络。</p>

<p>此外，当您没有连接到WiFi网络时，您的MAC地址会不断被随机化，从而使跟踪变得毫无用处。当您连接到WiFi网络时，它也会再次被随机化(您不会在以后的连接尝试中使用相同的MAC地址)。</p>

<p>最后但同样重要的是，Pry-Fi带有一个警告模式，它会不断快速地改变你的MAC地址。这使得跟踪单个设备变得更加困难，并可能在一定程度上破坏你周围的跟踪数据，尽管如果只有你一个人在使用它，将这些轨迹归因于一个人也是可行的。</p>

<p>简而言之:如果你想阻止你的网络列表泄露和MAC追踪，使用这个。</p>

<p>Pry-Fi需要Root才能正常工作。要安装它，请查看XDA论坛的帖子或前往T2的Google Play商店。</p>

<p>请注意，在过去的几个月里，Pry-Fi还没有得到积极的开发，所以如果你的设备不被支持，你可能就要倒霉了。<a href="https://plus.google.com/+Chainfire/posts/Y4fjP6cH45v" target="_blank">你可以在这里了解更多原因</a>。</p>
<p class="ad-odd"> </p>


<h2 id="pry-fi-source-patches">Pry-Fi源补丁</h2>
<p>这些补丁可以由ROM开发者应用(它们可能需要在某些设备上进行额外的测试/修复)。它们提供了两种功能，并且通常比相同功能的其他解决方案更可靠:</p>

<ul> <li>首先，在扫描网络时，设备的MAC地址是随机的，但在连接到网络时不会。</li> <li>第二，你的设备将不再泄漏记忆网络列表。</li> </ul>

<p>要了解更多信息，请务必查看<a href="http://forum.xda-developers.com/showthread.php?t=2780902" target="_blank"> XDA论坛主题</a>和链接提交。</p>

 </div>


</div>    
</body>
</html>