<html>
<head>
<title>Google Pixel 2's Always On Ambient Display can be Enabled Right Now on your Android Oreo ROM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>谷歌Pixel 2的“常开环境显示”现在可以在你的Android Oreo ROM上启用</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/enable-google-pixel-2-always-on-ambient-display/#0001-01-01">https://www.xda-developers.com/enable-google-pixel-2-always-on-ambient-display/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌安卓系统的最新更新——美味的安卓奥利奥，为用户提供了很多东西。从将密码管理器与新的<a href="https://www.xda-developers.com/android-os-autofill-framework-will-finally-resolve-a-long-standing-lag-issue-with-password-managers/">自动填充API </a>集成到更多更低层次的变化，如<a href="https://www.xda-developers.com/googles-project-treble-modularize-android-so-oems-can-update-devices-faster/">项目Treble </a>，下一次更新让我们论坛上的许多用户兴奋不已，这是可以理解的。但有时，谷歌喜欢在初始更新中保留某些功能，无论是因为功能不完整还是打算与<a href="https://www.xda-developers.com/source-pixel-2-walleye-and-taimen-specifications-revealed/">下一代设备</a>一起发布。其中一个功能是<strong>Always On Ambient Display mode</strong>，这是我们在第一代谷歌Pixel上首次发现的禁用状态，据推测<a href="https://www.xda-developers.com/source-pixel-xl-2-will-have-ambient-display-always-on-squeezing-while-screen-off-multiple-display-profiles-and-more/">将与谷歌Pixel 2和Pixel 2 XL </a>一起推出。</p>

  
<p>自从我们最初报道这个功能的存在以来，一些用户一直在猜测，永远显示模式可能只会在下个月的第二代谷歌设备<a href="https://www.xda-developers.com/google-pixel-2-launch-snapdragon-836/"/>中提供(尽管<a href="https://www.xda-developers.com/exclusive-no-qualcomm-snapdragon-836/">不会像最初报道的那样在高通骁龙836 </a>中提供)。这很可能是事实，因为我们不知道谷歌计划这一功能的确切细节。然而，与传闻中的可挤压框架不同，永远在线环境显示器似乎已经完全功能化了——前提是你知道如何在AOSP中启用它。</p>





<p/><p>你可以把这些质量差的照片归咎于我的摄影能力不足。</p>

<p>新的环境显示设置与三星或LG等公司的所有其他“始终显示”模式非常相似。当您关闭屏幕时，您会看到一个时钟停留在设备的屏幕上。当您收到通知时，您会在几秒钟内看到通知的完整内容，然后逐渐消失，只显示时钟下方的应用程序图标。</p>

<p>我正在展示的这种环境显示模式的测试设备是一台运行在Android 8.0 Oreo非官方端口上的谷歌Nexus 6。由于开发者在我们的论坛上的出色工作，这是Android Oreo的许多非官方端口之一。在我测试的ROM中，在系统UI Tuner中已经启用了“始终打开环境显示”选项。</p>





<p>在试图通过使用<a href="https://www.xda-developers.com/andromeda-substratum-custom-themes-oreo/">无根底层覆盖</a>将<a href="https://www.xda-developers.com/customise-the-navigation-bar-android-oreo/">导航栏</a>和<a href="https://www.xda-developers.com/customize-lockscreen-shortcuts-android-oreo/">锁屏快捷方式定制</a>带回系统UI调谐器的一些不成功的尝试之后(不幸的是，没有根是不可能的，因为<a href="https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/src/com/android/systemui/tuner/TunerFragment.java#48">需要将系统属性<code>ro.debuggable</code>设置为1 </a>),我翻遍了源代码，还发现了<a href="https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/src/com/android/systemui/tuner/TunerFragment.java#93">方法</a>，该方法确定是否将在系统UI调谐器中显示总是在环境显示<a href="https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/res/xml/tuner_prefs.xml#124">。</a></p>

<p>看来在<code>AmbientDisplayConfiguration</code> 中有一个名为“<code>alwaysOnAvailable</code>”的<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/com/android/internal/hardware/AmbientDisplayConfiguration.java#82">方法，目前被硬编码为总是返回“false”这里有一个注释，说明了它为什么这样做，因为它“还不能正常工作。”也许不会，但是如果不进一步解释为什么它不起作用，我不明白为什么我们不应该让用户随心所欲地使用它。</a></p>

<p>因此，要真正实现“始终在环境中显示”,您所要做的就是修改这个方法，使其始终返回“true”。这正是<a href="https://forum.xda-developers.com/nexus-6/development/8-0-0r4-s-x-aosp-rom-r3ds-t3670056"> SiXROM </a>所做的事情，<a href="https://github.com/VorVanille/android_frameworks_base/commit/ee7f804a1543bda9e37436c5d35dc58dcfea14af">向XDA资深成员<a href="https://forum.xda-developers.com/member.php?u=7009886">welcometothekye</a>借用了<a href="https://forum.xda-developers.com/nexus-6p/development/rom-vanilla-rootless-oms-t3570350"> Vanilla的commit </a>，一个用于Nexus 6P的ROM </a>。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Not sure if \&quot;Goofle\&quot; is just a misspelling or if it was intentional.&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png" src="../Images/35b86c0e17ab5cc135d3201538b87a76.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/09/Always-on-Display-SiXROM.png"/> </picture> <figcaption class="body-img-caption">Not sure if "Goofle" is just a misspelling or if it was intentional.</figcaption> </figure> </div>


 </div>


<p>我并不真的把Nexus 6作为日常驱动，而仅仅是作为一个测试设备，我很快就把它带回到生活中来做底层教程。因此，我现在不能告诉你它在实践中有多好，因为我还没有使用它超过几天。但是如果你运行的是Android Oreo的非官方端口(可能有有机发光二极管显示器)，那么你可能会有兴趣尝试一下。</p>

<p>当然，我们大多数人都不是定制ROM的开发者，所以做这样的改变有点超出我们的能力范围。任何想加入这个特性的ROM开发者读到这里，希望你现在可以很容易地做到。甚至值得在Android框架中<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/values/config.xml#2526">启用环境显示老化保护</a>。</p>

 </div>


</div>    
</body>
</html>