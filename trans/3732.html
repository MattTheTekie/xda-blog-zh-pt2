<html>
<head>
<title>How to get Google Assistant on your Windows, Mac, or Linux Machine</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在你的Windows、Mac或Linux机器上安装谷歌助手</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/how-to-get-google-assistant-on-your-windows-mac-or-linux-machine/#0001-01-01">https://www.xda-developers.com/how-to-get-google-assistant-on-your-windows-mac-or-linux-machine/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌助手是谷歌对亚马逊的Alexa智能家居助手的回答。最初，谷歌助手仅在谷歌Allo应用程序中提供有限的功能，后来随着谷歌Home和Pixel智能手机的推出，为消费者带来了谷歌助手的全部功能。</p>

  
<p>经过几个月的等待，<a href="https://www.xda-developers.com/google-assistant-now-available-for-all-android-6-0-devices/">运行Android 6.0+ </a>的智能手机也获得了谷歌助手，就在几天前谷歌推出了<a href="https://www.xda-developers.com/google-launches-the-google-assistant-sdk-for-3rd-party-companies/">谷歌助手SDK </a>，它允许助手基本上在任何平台上运行。今天，我们将向你展示如何使用Python 在你的Windows、Mac或Linux机器<a href="https://github.com/googlesamples/assistant-sdk-python">上安装谷歌助手。</a></p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_2"><p><strong>注意:此时此刻，这纯粹是出于教育目的。没有花哨的GUI供您使用，安装Assistant需要您使用命令行。</strong></p> </div></section>
<hr/>


<h2 id="get-google-assistant-on-windows-mac-linux-machines">在Windows/Mac/Linux机器上获取谷歌助手</h2>

<p>无论您使用的是Windows、macOS还是GNU/Linux发行版，您都需要安装Python。安装相当简单，并且已经由Python wiki 很好地记录了<a href="https://wiki.python.org/moin/BeginnersGuide/Download">，所以我们不会详细讨论如何在您的机器上安装和运行Python。</a></p>

<p>一旦让Python在您的机器上运行(您可以通过打开终端/命令提示符，然后简单地键入<code>python</code>来确认它正在运行。)如果您看到终端/命令提示符返回您计算机上的当前Python版本，那么您就成功了。</p>



<p>接下来，在我们可以安装必要的文件来让谷歌助手工作之前，我们需要在谷歌云平台控制台中启用对谷歌助手API的访问。</p>

<hr/>

<h3 id="configure-the-google-assistant-api">配置谷歌助手API</h3>
<p>接下来是一步一步的指导，带你完成在云平台控制台中启用谷歌助手API的过程，这样你就可以通过Python程序访问谷歌助手了。所有这些步骤都是独立于平台的，这意味着这些步骤对于Windows、macOS和GNU/Linux用户来说是相同的。</p>

<ol> <li>进入谷歌云平台控制台的<a href="https://console.cloud.google.com/project">项目页面</a>。</li> <li>点击顶部的<strong>创建项目</strong>。</li> <li>将项目命名为“我的谷歌助手”，然后点击“创建”</li> <li>等待几秒钟，让控制台创建您的新项目。您应该会在右上角看到一个旋转的进度图标。创建完项目后，您将进入项目的配置页面。</li> <li><strong> <a href="https://console.developers.google.com/apis/api/embeddedassistant.googleapis.com/overview">点击此链接</a> </strong>直接进入谷歌助手API页面。在顶部，点击“启用”</li> <li>Google会警告你需要创建凭证来使用这个API。点击右上角的<strong>创建凭证</strong>。这将把你带到一个设置向导页面，在这里Google会帮助你确定使用这个API需要什么样的凭证。</li> <li>在“您将从哪里调用API”下，选择“<strong>其他用户界面(如Windows、CLI工具)</strong>”。对于“您将访问哪些数据”，请选择“<strong>用户数据</strong>”圆圈。现在点击“我需要什么凭证？”</li> <li>Google应该推荐你创建一个<strong> OAuth 2.0客户端ID </strong>。将客户端ID命名为您想要的任何名称，例如，您的姓名+桌面。选择好名称后，点击“创建客户ID”</li> <li>在“向用户显示的产品名称”下，输入“我的谷歌助手”单击继续。</li> <li>点击“完成”没有必要点击这里的下载，因为我们只需要客户端密码，我们将下载下一步。</li> <li>现在，在OAuth 2.0客户端ID列表下，您应该可以看到刚刚创建的客户端ID。一路向右，点击下载图标，下载<strong> client_secret_XXX.json </strong>文件，其中‘XXX’是你的客户端ID。把这个文件保存在你电脑上的任何地方，最好保存在一个名为“googleassistant”的新文件夹中</li> <li>转到您的Google帐户的<a href="https://myaccount.google.com/activitycontrols">活动控制页面</a>，确保“Web &amp;应用活动”、“位置历史记录”、“设备信息”和“语音&amp;音频活动”已启用。这是为了让Google Assistant实际上可以为你读取个性化信息。</li> </ol>





<p> </p>

<p>我们现在已经为一个客户端创建了一个机制，在这个例子中是我们的Windows/Mac/Linux机器，它在我们的Google帐户下访问Google Assistant API。接下来，我们需要设置将访问Google Assistant API的客户端。</p>

<h3 id="install-the-google-assistant-sample-python-project">安装Google Assistant示例Python项目</h3>
<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_18"><p><strong>尽管谷歌建议您设置<a href="https://docs.python.org/3/library/venv.html"> Python虚拟环境</a>来将谷歌助手SDK及其依赖项与其他Python系统包隔离，但我们将跳过这一步，因为您不太可能花几分钟时间来玩这个。如果你担心其他程序访问你的谷歌账户的可能性，你可以很容易地回到云平台控制台并禁用API。</strong></p> </div></section>
<p>打开终端/命令提示符窗口，并执行以下步骤。首先，输入以下命令:</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">py</span> <span class="hljs-selector-tag">-m</span> <span class="hljs-selector-tag">pip</span> <span class="hljs-selector-tag">install</span> <span class="hljs-selector-tag">google-assistant-sdk</span><span class="hljs-selector-attr">[samples]</span></code> </pre>


<p>当您输入这个命令时，应该会看到下载并安装了一大堆依赖项。这些是示例Python项目运行所必需的。等待它结束。</p>

<p>完成后，接下来输入以下命令(确保调整路径):</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">py</span> <span class="hljs-selector-tag">-m</span> <span class="hljs-selector-tag">googlesamples</span><span class="hljs-selector-class">.assistant</span><span class="hljs-selector-class">.auth_helpers</span> <span class="hljs-selector-tag">--client-secrets</span> <span class="hljs-selector-tag">path</span>\<span class="hljs-selector-tag">to</span>\<span class="hljs-selector-tag">your</span>\<span class="hljs-selector-tag">client_secret_XXX</span><span class="hljs-selector-class">.apps</span><span class="hljs-selector-class">.googleusercontent</span><span class="hljs-selector-class">.com</span><span class="hljs-selector-class">.json</span></code> </pre>


<p>在命令提示符下，您会看到一个响应，告诉您访问一个URL以便对应用程序进行授权。</p>



<p>将此URL复制并粘贴到浏览器中。选择您用来配置Google Assistant API的同一个Google帐户。在下一页上，您将看到一个包含客户端访问令牌的文本框。</p>





<p>复制该访问令牌并将其粘贴到命令提示符中，在命令提示符处，它会要求您输入授权码。如果操作正确，您将看到一个响应，提示您的凭据已保存。</p>



<hr/>

<h3 id="test-the-google-assistant">测试谷歌助手</h3>
<p>你要测试的第一件事是谷歌助手是否能够从你的麦克风录音。在命令提示符下输入以下命令，它将录制5秒钟的音频并向您播放:</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">-m</span> <span class="hljs-selector-tag">googlesamples</span><span class="hljs-selector-class">.assistant</span><span class="hljs-selector-class">.audio_helpers</span></code> </pre>
<p>如果您听到向您播放的音频，请输入以下命令开始与Google Assistant对话:</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">python</span> <span class="hljs-selector-tag">-m</span> <span class="hljs-selector-tag">googlesamples</span><span class="hljs-selector-class">.assistant</span></code> </pre>
<p>等待命令提示符说“按Enter发送新请求”，然后按Enter开始与Google Assistant对话。在您说完之后，命令提示符将显示您刚才所说内容的文字记录，然后回放响应。如果之后看到警告，就忽略它。</p>



<p>在您的Windows、macOS或GNU/Linux机器上玩Google Assistant玩得开心！我只玩了几分钟就厌倦了。它在这种格式下并不特别有用，但它非常快速地展示了新的Google Assistant SDK所代表的可能性。或许在不久的将来，我们会看到桌面应用程序或浏览器扩展利用这一功能。</p>

 </div>


</div>    
</body>
</html>