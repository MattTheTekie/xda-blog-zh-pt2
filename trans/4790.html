<html>
<head>
<title>Linux apps on Chrome OS - an overview of its biggest feature since Android apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Chrome操作系统上的Linux应用程序——自Android应用程序以来最大的功能概述</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/linux-apps-chrome-os-overview-crostini/#0001-01-01">https://www.xda-developers.com/linux-apps-chrome-os-overview-crostini/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>以下是你需要知道的关于谷歌在Chrome OS中秘密开发Linux应用功能长达一年的所有信息，也被称为Crostini项目。</p>

  
<p>简而言之，这是一种在Chrome OS上运行常规Linux应用程序的方式，而不会损害安全性或启用开发人员模式。(尚不可用)<a href="https://chromium-review.googlesource.com/c/chromium/src/+/1013957">官方设置声明</a>它是为了“在你的Chromebook上运行Linux工具、编辑器和ide。”</p>

<p>Crostini是数年开发的高潮，它使功能运行足够安全，以满足Chrome OS的高安全性标准。要理解为什么它只是刚刚出现，最好看看之前发生了什么。</p>

 
<h2 id="putting-crostini-in-context-the-dark-ages-of-chrome-os">将克罗斯蒂尼放在背景中Chrome操作系统的黑暗时代</h2>
<p>在Android应用出现之前，离线功能并不多，更不用说Chrome操作系统中有用的生产力应用了。为什么正常人会买Chromebook？“这只是一个网络浏览器，”这是每篇Chromebook评论的结束语。Chrome网络商店是你能得到的最多的，但是应用程序的选择非常少，而且很少更新。喜欢冒险的人可以尝试使用名为<a href="https://www.xda-developers.com/new-app-runs-android-apps-in-chrome/">弧焊机</a>的工具来运行Android应用程序，但这是漫无目的的，性能也很差。</p>

<p>为了绕过离线限制，沮丧的用户要么删除Chrome操作系统并安装Linux，要么使用开源工具<a href="https://github.com/dnschneid/crouton"> Crouton </a>在Chrome操作系统内核上建立一个同步桌面环境(例如Ubuntu Unity)。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Installing Crouton, an\u00a0open-source toolkit, previously the de-facto way to access Linux apps on Chrome OS, soon to be deprecated&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Screenshot of Crouton installation" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png" src="../Images/78edd3558c80e4432cc0c41a08a11376.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Screenshot-2018-04-25-at-20.31.05-1024x576.png"/> </picture> <figcaption class="body-img-caption">Installing Crouton, an open-source toolkit, previously the de-facto way to access Linux apps on Chrome OS, soon to be deprecated</figcaption> </figure> </div>


 </div>


<p>运行一个替代的GNU/Linux发行版或Crouton需要相当多的专业知识，而且经常漏洞百出——而且这两个选项都不是特别用户友好或安全。按下错误的键，你将擦除你的设备或砖它，如果你离开你的油炸面包丁环境未加密，任何客人用户可以访问它。</p>
<p class="ad-odd"> </p>


<h2 id="android-app-integration-setting-a-precedent">安卓应用集成，开创先例</h2>
<p>Android应用于2016年登陆Chrome OS，是离线功能的一次巨大飞跃，但实现这一功能不仅仅是即插即用。它能在重视安全性的操作系统上工作的唯一方式是有效地沙箱化。</p>

<p>Chrome OS开发人员选择的新颖解决方案是<a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization">容器化</a>，这是一种将应用程序捆绑成独立的可执行包的方式。通过使用一个容器和一些调整，他们设法让完整的Android环境及其所有依赖项在一个容器中运行，与Chrome OS的其余部分分离，但运行在同一个内核上。</p>

<p>但Android应用程序通常不会考虑台式机/笔记本电脑的外形。再加上Chrome操作系统上糟糕的触摸体验，如果应用程序还能工作的话，你会感到沮丧。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Headaches with compatibility\u2014Android apps on Chrome OS&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Android apps on Chrome OS can be a headache sometimes" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png" src="../Images/478271d647dc799ebf43c7c19b52db4a.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/Google-Play-error-chromebook.png"/> </picture> <figcaption class="body-img-caption">Headaches with compatibility—Android apps on Chrome OS</figcaption> </figure> </div>


 </div>


<p>虽然Android应用程序帮助弥合了迄今为止的生产力差距，但人们仍然渴望完整的桌面应用程序的庞大库。与最初的Android问题一样，简单地开放运行Linux应用程序的能力会增加Chrome OS的攻击面，因为恶意应用程序可以访问主机OS上的所有内容。所以这一次，开发人员在他们已经从Android中学到的基础上，设计了尽可能孤立的Linux应用功能。</p>
<p class="ad-even"> </p>


<h2 id="defense-in-depth">纵深防御</h2>
<p>顾名思义，Crostini就像油炸面包丁，但它不是在Chrome OS旁边有一个不安全的用户空间，而是在它们之间有两堵墙。第一堵墙是Termina VM，一个Chrome OS KVM(基于内核的虚拟机)实现。一旦虚拟机启动，它就会竖起第二堵墙——一个容器——里面有你真正想要运行的应用程序。因此，当你想运行你的全面的Klondike桌面应用程序时，它运行在一个虚拟机内部的容器中。</p>

<p>开发者并没有从非技术的角度把面向公众的文档做得特别容易消化，但是从我非官方的外行人的阅读来看，现在Chrome OS的软件架构大概是这样的[注:全部是我自己的作品，肯定不是Chrome OS团队的官方文档，大概完全不真实，请不要伤害我]:</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;What we think Crostini architecture looks like. Not an official document.&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Diagram of what we think Crostini architecture looks like" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png" src="../Images/525e5eb4ced61ae06864a932adf02ce4.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/04/crostini-architecture.png"/> </picture> <figcaption class="body-img-caption">What we think Crostini architecture looks like. Not an official document.</figcaption> </figure> </div>


 </div>


<p>简而言之，VM组件拥有独立的用户空间和虚拟设备(vCPU、IP、MAC等。)，容器是利用这些资源的打包应用程序。在这一点上，我应该添加一个警告，VM组件<strong>实际上并不模拟任何硬件</strong>。</p>
<p class="ad-odd"> </p>


<h2 id="rich-people-only-for-now">仅限富人……目前</h2>
<p>一些社区，比如Reddit的<a href="https://www.reddit.com/r/crostini"> /r/Crostini </a>社区，已经开始在他们的<a href="https://www.xda-developers.com/high-end-google-pixelbook-launch/"> Google Pixelbooks </a>上修补Crostini。不幸的是，<strong> Pixelbook是目前为止唯一具有Crostini功能的设备</strong>，但迹象表明其他设备，甚至是具有ARM片上系统的设备，在未来都将获得支持。但是也许对于32位机器来说<a href="https://chromium.googlesource.com/chromiumos/platform/crosvm/+/2ffa0cbe5bb41beea81fd2d14a7f781747bb955e">还不是时候</a>。也有迹象表明，运行Crostini <a href="https://www.reddit.com/r/chromeos/comments/86d3ap/judging_from_a_commit_from_last_september_only/">所需的VM功能的某些部分对于使用旧内核版本</a>的设备是不可用的。</p>

<p>如果您已经走了这么远，您可能想知道:我能运行什么？成功是有限的。Chrome开发者暗示他们有Visual Studio运行。Reddit用户已经让WINE和Android Studio正常工作，ChromeUnboxed做了一个方便的视频演示。但在谷歌真正展示某些东西之前，我们可能不会知道全部的功能和局限性。我们所知道的是<strong>应用是持久的</strong>，这意味着你可以从你停止的地方继续，开发者正在努力让它们出现在你最近的应用列表中。</p>
<p class="ad-even"> </p>


<h2 id="what-next-a-few-points-to-consider">接下来呢？有几点需要考虑</h2>
<p>如果你在Chromebook而不是Pixelbook上的开发者频道，终端应用可能已经到了你的Chromebook上。您可能会看到“未能启动礼宾”错误。这是因为除了Pixelbook之外，虚拟机功能尚未在其他设备上启用。</p>

<p>我们还不知道资源是如何分配的，以及这些嵌套的应用程序会产生什么样的开销。在兼容Linux的Steam游戏上玩游戏的想法很吸引人，但如果GPU加速不可用，就目前而言，这是行不通的。</p>

<p>我们不知道主机/集装箱气隙会产生什么限制(如果有的话)。容器和Chrome OS之间的通信是受控的，那么这会引入延迟甚至禁用一些外设吗？</p>

<p>我们有许多没有答案的问题，这只是一个时间问题，直到全部被揭露。许多人相信几周后的Google I/O 2018将会是一次大的展示——这是一次开发者大会。同时，请继续关注我们对克罗斯蒂尼的追踪。</p>

<hr/>

<p>来源:</p>

<p><a href="https://youtu.be/aPDchQdhdTs">林——Chrome操作系统容器</a></p>

<p>铬Git - <a href="https://chromium.googlesource.com/chromiumos/platform2/+/master/arc/container-bundle/">弧形容器束</a>、<a href="https://chromium.googlesource.com/chromiumos/platform2/+/HEAD/vm_tools"> vm_tools </a>、<a href="https://chromium.googlesource.com/chromiumos/overlays/board-overlays/+/master/project-termina/"> project-termina </a>、<a href="https://chromium.googlesource.com/chromiumos/platform/crosvm/"> crosvm </a></p>

 </div>


</div>    
</body>
</html>