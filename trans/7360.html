<html>
<head>
<title>How Google is taking control of Gesture Navigation in Android 10</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>谷歌如何在Android 10中控制手势导航</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/google-gesture-navigation-android-10/#0001-01-01">https://www.xda-developers.com/google-gesture-navigation-android-10/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>在Android 9 Pie中试验了基于按钮的手势控制后，谷歌回到了绘图板<a href="https://www.xda-developers.com/google-defends-android-q-gesture-navigation/">以提高Android手势导航的流动性和单手使用</a>。在Android 10中，谷歌找到了一个视觉上类似于iOS的解决方案:一个手势栏，可以向上滑动以回家，或者向左或向右滑动以在应用程序之间切换。由于手势栏比之前三按钮导航方案的专用空间薄得多，Android 10的手势给了应用更多空间来在屏幕底部显示内容。为了解决缺乏专用后退按钮的问题，谷歌增加了从屏幕左边缘或右边缘向内滑动来触发后退动作。谷歌新的和改进的手势是朝着正确方向迈出的一步，尽管一些人仍然认为第三方的替代品更优越。</p>

  <div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Android 10's new gesture navigation. Source: Google.&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Android 10 gestures" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif" src="../Images/4af6ee9a8d0860235a38b31d75045b4d.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/10/Android-10-Gesture-Navigation.gif"/> </picture> <figcaption class="body-img-caption">Android 10's new gesture navigation. Source: Google.</figcaption> </figure> </div>


 </div>


<p>即使仍有改进的空间(<a href="https://www.xda-developers.com/google-android-q-gesture-mess/">并且肯定有</a>)，谷歌仍在推动其Android合作伙伴采用这些新的导航手势，因为该公司不想让应用程序开发人员承受必须适应多种不同手势导航方案的负担。一加、三星、小米、华为、OPPO、Vivo和华硕等Android设备制造商只是其中一些对手势导航有自己看法的公司。这些公司已经投入了大量的开发精力来构建他们自己的手势，所以谷歌<a href="https://www.xda-developers.com/android-q-navigation-gestures-mandatory/">并没有强迫他们完全放弃他们的工作</a>。</p>
<div>
<blockquote>“用户越来越希望在Android中获得身临其境的体验，设备制造商已经做的一件事就是试图从软件方面来实现这一点。他们所做的是建立他们自己的手势导航。每个设备制造商对手势导航应该如何工作都有不同的印象。我们在平台方面认识到，这对开发者来说有点疯狂。当你试图开发、设计、测试你的应用程序时，想想N种不同的手势导航，这有点疯狂。因此，考虑到这一点，我们在Q中引入了这种手势导航，我们将在3个按钮上标准化Q的生态系统，我们的模式将继续发展。”–谷歌Android系统UI团队产品经理罗南·沙阿(Ronan Shah)在谷歌I/O 2019上。</blockquote></div>


<p>相反，谷歌重写了其Android和谷歌应用兼容性的规则集，迫使OEM厂商放弃自己的手势，转而支持谷歌的手势，同时还限制了OEM厂商手势的功能。</p>

 
<h2 id="android-10-gesture-compatibility-requirements">Android 10手势兼容性要求</h2>
<p>在每次主要的Android平台发布后，谷歌都会更新Android兼容性定义文件(CDD ),概述所有设备必须满足的新要求，才能被视为与最新版本的Android兼容。这是获得Android许可的先决条件之一，这是在营销中使用Android品牌所必需的。这也是获得批准分发谷歌移动服务的先决条件，谷歌移动服务是预装在大多数国际销售的Android设备上的谷歌应用程序、服务和库的套件。</p>

<p>在Android 10 的<a href="https://source.android.com/compatibility/10/android-10-cdd.html"> CDD中，谷歌用下面的措辞更新了关于手持设备(又名智能手机)的软件要求的第2.2.3节。这些声明告知原始设备制造商谷歌对导航手势的触发区域应该有多大的期望。</a></p>



<p>谷歌建议home动作的手势识别区域应该在距离屏幕底部32dp (dp代表密度无关像素)以内，但他们没有做出这一要求，因此OEM仍然可以提供浮动手势控制，如<a href="https://www.xda-developers.com/emui-9-review-features-apps-huawei-honor-android-pie/"> EMUI的浮动导航dock </a>。</p>

<p>如果OEM提供从屏幕左边缘或右边缘向内滑动的手势，那么谷歌要求触发区域距离边缘小于40dp(理想情况下宽度为24dp)。)请注意，这允许原始设备制造商为侧面手势创建不同的灵敏度选项，只要触发区域不超过40dp。事实上，谷歌<a href="https://www.xda-developers.com/android-q-beta-5-google-assistant-gesture-animation/">在它自己的Android 10版本中提供了这个</a>。默认情况下，back手势的插入像素为24dp，但可以降低到18dp或提高到32dp或40dp。</p>



<p>在CDD的后面部分，特别是覆盖导航键的7.2.3部分，谷歌提供了关于后退、主页和最近应用动作的手势应该如何操作的详细要求。大多数需求都集中在确保系统行为对应用程序开发人员来说是一致的，但是有一些值得注意的陈述可能会影响用户体验。</p>



<p>虽然谷歌没有要求从底部边缘向上滑动触发主页动作，或者向上滑动并按住触发最近的应用概述，但谷歌确实要求从侧面滑动手势触发后退动作。值得注意的是，这将意味着由<a href="https://www.xda-developers.com/samsung-good-lock-swipe-gestures-galaxy-s9-note-8-s8/">三星的单手操作+ </a>提供的可定制手势将被禁止，尽管由于单手操作+不是开箱即用的，它可能会获得通过。</p>

<p>如果OEM提供通过侧扫手势触发的浮动系统面板，则OEM必须将触发区域放在左侧或右侧的顶部1/3，并且不得允许面板超过屏幕边缘尺寸的1/3。然而，OEM可能允许用户将触发区域设置在顶部1/3边缘以下。这种语言可能是为了适应三星的边缘面板功能而添加的。</p>





<p>Android 10兼容性定义文件并没有对OEM厂商可以使用手势做什么设置太多限制，但正如我之前提到的，遵守CDD只是获得Android许可证和批准分发GMS的先决条件之一。谷歌有一个单独的文件，他们私下分发给所有授权的安卓合作伙伴；这份文件列举了公司必须遵守的技术要求，以便获准分发GMS，并且它还有关于Android 10中手势导航的附加规定。我们获得了该文件的副本，标题为GMS要求v7，日期为2019年9月3日。</p>
<p class="ad-odd"> </p>


<h2 id="gesture-navigation-requirements-for-gms-approval">GMS批准的手势导航要求</h2>
<p>谷歌助手对谷歌来说是一项非常重要的服务，因此谷歌将其作为谷歌应用的一部分进行捆绑，并要求所有Android合作伙伴将其作为“常规”(非Android Go)设备的GMS应用套件的一部分进行分发。然而，需求并不止于此。自Android 5.1以来，谷歌要求长按Home键触发辅助动作，默认情况下会调用谷歌助手，因为谷歌还要求谷歌应用程序是辅助动作的默认处理程序。不过，Android 10中不再有专门的home键，所以谷歌对如何用手势触发助手提出了新的要求。</p>

<p>要用谷歌的手势导航触发谷歌助手，你必须从左下角/右下角对角滑动。谷歌要求所有运行Android 10的设备都要有这个手势，不管谷歌的手势是否是开箱即用的默认导航控件。如果OEM实现了自己的手势导航控件，那么它可以实现自己的触发器来启动助手应用程序，但具体的实现将受到谷歌的审查。例如，一加和小米等一些原始设备制造商让你长按电源按钮来启动助手。</p>

<p> </p>



<p>Google定义了三种类型的参考导航模型:</p>

<ol> <li>经典的三按钮导航控制。这些按钮可以是屏幕按钮或硬件按钮，但它们之间必须有一定的距离。这三个按钮分别触发主页、后退和最近使用的应用程序。</li> <li>Android 9 Pie的双按钮导航控件。这些不可能是硬件按钮，尽管这两个按钮之间一定还有一段距离。后退和主页按钮分别触发后退和主页操作，尽管最近的应用程序按钮已经与主页按钮合并，以便主页按钮的向上滑动触发最近的应用程序概览。</li> <li>Android 10的新手势导航。</li> </ol>

<p>所有搭载Android 10的设备都必须实现A和C，尽管由OEM来决定哪一个是开箱即用的默认设置。b不再受支持，不能作为用户可选选项。</p>



<p>那么，原始设备制造商的替代导航控件在哪里呢？谷歌表示，虽然Android合作伙伴可能会提供自己的导航控件，但他们的替代产品不能在设置过程中呈现给用户，也不能通过通知或屏幕弹出窗口向用户宣传。虽然A和C需要显示在导航设置的顶层，但是任何可选的导航选项都必须放置在设置中更深的一个条目中。</p>

<p>这实际上意味着，替代的、可以说是更好的手势只会被高级用户发现，他们会仔细研究设置或在线阅读关于他们设备的文章。我们在<a href="https://www.xda-developers.com/oneplus-7t-review-premium-practical-smartphone/">一加7T评论</a>中指出，一加不提供其OxygenOS全屏手势，随着Android 10的推出，其他设备可能也会如此，因为提供替代手势方案没有什么意义。一加7和一加7 Pro仍然使用旧的OxygenOS手势的可能原因是，谷歌强烈建议原始设备制造商在将设备升级到Android 10时不要删除现有的导航选项。</p>



<p>最后，Google强烈建议原始设备制造商在将第三方启动器设置为默认时，不要将用户切换到不同的导航模式。具有讽刺意味的是，当你试图在Android 10中为Google Pixel设置一个默认的第三方启动器时，就会发生这种情况。谷歌承诺，他们将推出一个修复程序，使Android 10的手势与第三方启动器兼容，所以他们很可能添加了这一特定声明，以便用户不会因为手势不兼容而责怪第三方启动器。照我说的做，不要照我做的做。</p>

<hr/>

<p>总之，谷歌终于采取措施统一Android中的手势导航，他们正在使用CDD和GMS的批准程序，使原始设备制造商合作。不过，这并不是一件坏事，因为导航控件的碎片化对应用开发者来说是个问题。谷歌显然对新手势的可用性进行了大量的思考和研究。然而，由于谷歌知道不是每个人都会对他们的手势感到满意，他们仍然给原始设备制造商一些余地，允许他们做出自己的手势，只要这些手势遵循一定的规则。</p>

<p>在Android的未来版本中，谷歌可能会完全禁止替代导航模式。一加可能已经看到了不祥之兆，这将解释为什么他们不再在一加7T上提供他们的旧手势，尽管我们必须等待更多的设备推出Android 10，看看这是一次性的还是一个新的行业趋势。</p>

 </div>


</div>    
</body>
</html>