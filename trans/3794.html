<html>
<head>
<title>How to Add more Tiles to the Quick Settings Header on Google, OnePlus, and Sony Phones [No Root]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何在谷歌、一加和索尼手机的快速设置标题中添加更多磁贴[无根]</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/add-tiles-to-quick-settings-header-google-oneplus-sony-phones-no-root/#0001-01-01">https://www.xda-developers.com/add-tiles-to-quick-settings-header-google-oneplus-sony-phones-no-root/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>如果你下拉你的Android手机的状态栏，你可能会在单行快速设置磁贴下看到一些通知。这一行被称为快速设置标题，因为它仅显示完整的QS图块集中可用的前几个图块。再向下拉一次，您将看到您添加的QS互动程序的完整列表。从Android 5.0 Lollipop开始，AOSP正式添加了快速设置(尽管三星等OEM厂商在Lollipop之前的几个版本中都有自己的通知切换形式)。</p>

  
<p>虽然我们已经可以通过重新排列图标来定制QS，并在QS列表中添加第三方磁贴，但仍然没有官方方法来定制显示多少磁贴(同样，<a href="https://www.xda-developers.com/customize-size-quick-settings-button-layout-samsung-galaxy/">三星在这方面已经击败了谷歌</a>)。然而，通过使用一个隐藏的首选项，我们可以通过ADB设置，这是有可能的<strong>添加更多的瓷砖到快速设置标题</strong>。</p>





<p/><p><em>感谢Eli Irvin为我收集这些截图！</em></p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_4"><p><strong>此修改不会改变当您在状态栏上向下滑动两次(或用两个以上的手指下拉)时，在整个QS面板中显示的列数或行数。据我所知，唯一的方法是通过修改SystemUI这显然需要root用户或解锁的引导程序。</strong></p> </div></section>
<p>修改快速设置头<strong>不需要root访问</strong>，尽管它不会在所有设备上工作。如果你的设备运行的是<strong> Android 7.0+ </strong>，并且底层软件没有从AOSP进行太大的修改，那么这个技巧应该可以在你的手机上使用。这是因为它依赖于SystemUI包中定义的设置首选项(在QuickQSPanel.java的<a href="https://android.googlesource.com/platform/frameworks/base/+/master/packages/SystemUI/src/com/android/systemui/qs/QuickQSPanel.java">中可以找到AOSP列出的首选项)。</a></p>

<p><strong>QuickQSPanel.java</strong></p>

<pre> <code class="hljs php">/**<br/>* Version of QSPanel that only shows N Quick Tiles in the QS Header.<br/>*/<br/><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuickQSPanel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">QSPanel</span> </span>{<br/><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String NUM_QUICK_TILES = <span class="hljs-string">"sysui_qqs_count"</span>;</code> </pre>
<p>这段代码摘自我上面链接的AOSP页面。字符串NUM_QUICK_TILES定义了在标题中显示多少个QS图块。NUM_QUICK_TILES从<a href="https://developer.android.com/reference/android/provider/Settings.Secure.html">设置中获取其值。安全</a>首选项“sysui_qqs_count ”,这是我们将要修改的内容。为了使这种修改生效，您手机上的软件必须具有这种偏好设置。</p>

<p>谷歌Nexus和Pixel手机可以使用这种修改，索尼Xperia和一加手机也可以。LineageOS之类的定制rom可以工作，至少在我的Nextbit Robin上是这样。三星和华为手机无法适应这种偏好变化，尽管如前所述，你可以按照我之前的教程定制三星手机上的QS面板尺寸。</p>

<hr/>

<h3 id="tutorial">辅导的</h3>
<p>如前所述，您需要ADB访问权限来使用该命令。直接从谷歌为你的机器下载最新的ADB二进制文件。确保你安装了正确的<a href="https://developer.android.com/studio/run/oem-usb.html">驱动程序</a>，这样你的手机才能被你的机器识别。进入设置- &gt;开发者选项，启用USB调试。然后在您的机器上打开命令提示符或终端，并输入以下命令:</p>

<pre> <code class="hljs ">adb devices</code> </pre>
<p>您的机器将尝试启动ADB，并查看它是否识别任何连接的设备。您可能会在手机上看到一个提示，要求允许ADB访问您的机器-接受它。如果您现在看到您的设备的序列号在命令提示符中返回，那么您是黄金。</p>

<p>现在，您需要输入以下命令来修改QS标题中显示的图块数量:</p>

<pre> <code class="hljs ">adb shell settings put secure sysui_qqs_count N</code> </pre>
<p>其中N是您希望在标题行中显示的图块数量。例如，如果我想只显示3个单幅图块:</p>

<pre> <code class="hljs ">adb shell settings put secure sysui_qqs_count 3</code> </pre>
<p>或者，如果我想显示7个图块:</p>

<pre> <code class="hljs ">adb shell settings put secure sysui_qqs_count 7</code> </pre>
<p>如果您想返回默认配置，只需为n输入“5”</p>

<hr/>

<p>虽然无可否认这是一个相当小的调整，但即使没有root，仍然有一些方法可以修改UI。我不知道谷歌为什么让我们更改这个设置，尽管你甚至不知道它是可用的，除非你在AOSP挖来挖去，因为当你把可用的安全设置转储到你的设备上时，这个设置不会被列出来。我希望谷歌像三星一样增加一个原生的方法来调整整个QS面板的大小，但这可能仍然是我一厢情愿的想法。</p>

<p>这一调整归功于XDA资深成员paphonb T1，他在12月T3在T2的一个隐藏帖子中发布了这一消息。他是<a href="https://forum.xda-developers.com/android/apps-games/app-custom-navigation-bar-customize-t3590967">定制导航条</a>应用的开发者，该应用允许你<a href="https://www.xda-developers.com/nav-bar-customization-was-hidden-in-stock-nougat-all-along-and-it-never-needed-root/">在许多没有根</a>的Android 7.0+设备上调整导航条。他和我正在开发一个新的应用程序，它将包含这个调整和许多更多的调整，这样非root用户就可以探索他们设备上所有隐藏的调整。</p>

 </div>


</div>    
</body>
</html>