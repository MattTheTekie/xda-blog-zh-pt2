<html>
<head>
<title>How to Automatically Find Beta Updates for All Installed Apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何自动查找所有已安装应用的测试版更新</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/how-to-automatically-find-beta-updates-for-all-installed-apps/#0001-01-01">https://www.xda-developers.com/how-to-automatically-find-beta-updates-for-all-installed-apps/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>Android应用的Beta测试渠道是用户提前几周或几个月测试最新功能的最佳方式，也是开发者在向所有人推出其功能之前在较小的受众中测试其软件的最佳方式。谷歌曾经让注册测试版更新成为一种极其令人沮丧的体验。你首先要加入一个专门针对该应用的Google+社区，等待Google+社区的版主批准(如果是封闭群的话)，最后等待谷歌的服务器将你的账户注册到该应用的测试频道。</p>

  
<p>虽然这可能是一种确保普通用户不会卷入他们并不真正致力于的测试程序的方法，但Google+帐户的要求很麻烦。最终，谷歌开始允许用户直接从谷歌Play商店注册测试版更新，尽管这个按钮并不是对所有有测试版频道的应用都可用。</p>





<p>此外，尽管测试版的注册过程比过去容易得多，但你怎么知道哪些应用有测试版呢？你可以做的一件事是在Play Store中打开你已安装的应用列表，向下滚动到你已安装的每个应用的页面底部，看看是否有测试版，但这很糟糕，原因有两个。首先，正如上面Whatsapp的例子所示，并不是每个应用的测试版都可以从Play Store界面访问。其次，也是最重要的一点，<strong>手动检查每一个应用程序需要很长时间。</strong></p>

<p>我安装了280个应用程序(包括系统应用程序)，所以我不可能在Play Store中手动查找测试程序。我加入的大多数测试程序都是出于需要，例如使用仅在<a href="https://joaoapps.com/beta-testing/"> AutoApps测试版</a>中提供的功能，或者当有人在社交媒体上链接测试程序时。我们中的许多人每天都在使用大量的应用程序，测试版可能会有我们现在错过的非常棒的功能。但是，我们没有人愿意费心从我们安装的大量应用程序中筛选出我们有资格进行beta测试的应用程序。这就是为什么我想出了一个自动化的脚本来为你做这件事。介绍<strong>寻找测试版</strong>任务脚本！</p>





<p>正如你在上面的截图中看到的，我的脚本创建了一个<strong>应用程序列表</strong>，我已经<strong>在我的设备上安装了</strong>，我是<strong>目前有资格注册测试版更新</strong>。这个列表是以HTML文件的形式创建的，这意味着它可以在Chrome等浏览器中打开，这样你就可以点击链接并逐个注册测试版。通过使用此列表，您将减少手动查找和注册所有已安装应用的测试版更新所需的时间和精力。此外，您还会发现一些您甚至不知道存在的应用程序的测试渠道，甚至是原始设备制造商预装的系统应用程序！</p>

<hr/>


<h2 id="find-eligible-beta-programs-for-all-installed-apps">为所有已安装的应用程序查找合格的测试程序</h2>
<p>当我说有资格时，我指的是你的Google帐户实际上可以注册的测试程序。不是每个app都有测试版程序，也不是每个app的测试版程序都允许你加入。你是否能加入一个测试程序取决于开发者，但是如果你有资格加入一个测试程序，这个脚本将帮助你找到它。</p>


<p>我们需要Tasker的原因很明显:这个脚本就是用它构建的。我们需要AutoTools(尤其是beta版),因为它提供了一个名为HTML read的功能，允许我们从网页中提取原始HTML数据。本质上，我们要做的是从Play Store测试程序中为我们安装的每个应用程序提取HTML，并使用一些HTML解析魔法来查看页面上的文本是否表明有测试频道可用。如果是，我们记录应用程序名称并将其添加到我们的列表中。</p>

<p>与之前的教程不同，这个脚本不涉及任何类型的概要文件，因为没有什么可以“触发”它。这个脚本只是一个单独的任务，因为它很少由用户手动运行。我将向您展示如何创建任务，但对于那些Tasker的专业人员来说，您可以通过展开下面的切换按钮来查看任务描述。</p>

<section class="emaki-custom-block emaki-custom-expandable"><div class="emaki-custom expandable" id="custom_block_13"><h3 id="find-betas-tasker-task">查找测试任务任务</h3><pre> <code class="hljs xml"><br/>Find Betas (209)<br/>&lt;&lt;strong&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>This script was made by XDA-Developers.com<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>&lt;<span class="hljs-regexp">/strong&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">font</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"red"</span>&gt;</span>Before running this script, you need to authenticate AutoTools. Open this Action's configuration and tap on "Authenticate" at the bottom.<span class="hljs-tag">&lt;/<span class="hljs-name">font</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>&gt;<br/><span class="hljs-selector-tag">A1</span>: <span class="hljs-selector-attr">[X]</span> <span class="hljs-selector-tag">AutoTools</span> <span class="hljs-selector-tag">HTML</span> <span class="hljs-selector-tag">Read</span> <span class="hljs-selector-attr">[ Configuration:URL: https://accounts.google.com/ServiceLogin?service=googleplay&amp;passive=86400&amp;continue=https%3A%2F%2Fplay.google.com%2Fstore#identifier Timeout (Seconds):60 ]</span><br/>A2: <span class="hljs-keyword">List</span> Apps [ Type:Package Match: Store Result In:%packages ]<br/>A3: Flash [ Text:You have %packages(<br/>A4: For [ Variable:%<span class="hljs-keyword">package</span> Items:%packages() ]<br/>A5: AutoTools HTML Read [ Configuration:URL: https:<br/><span class="hljs-selector-tag">CSS</span> <span class="hljs-selector-tag">Queries</span>: <span class="hljs-selector-tag">html</span> &gt; <span class="hljs-selector-tag">body</span> &gt; <span class="hljs-selector-tag">main</span> &gt; <span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child(2)</span> &gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:nth-child(1)</span>,<span class="hljs-selector-tag">html</span> <span class="hljs-selector-tag">body</span> <span class="hljs-selector-tag">main</span> <span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">h1</span><br/><span class="hljs-selector-tag">Variable</span> <span class="hljs-selector-tag">Names</span>: <span class="hljs-selector-tag">invite</span>,<span class="hljs-selector-tag">name</span> <span class="hljs-selector-tag">Timeout</span> (<span class="hljs-selector-tag">Seconds</span>)<span class="hljs-selector-pseudo">:60</span> ]<br/>A6: Test App [ Type:Package Name Data:%<span class="hljs-keyword">package</span> Store Result In:%appname ]<br/>A7: AutoTools Text [ Configuration:Text: %invite<br/>Joiner Variable: atjoinedtext<br/>Match Text: has invited you to a testing program for an unreleased version<br/><span class="hljs-selector-tag">Separator</span>: π <span class="hljs-selector-tag">Timeout</span> (<span class="hljs-selector-tag">Seconds</span>)<span class="hljs-selector-pseudo">:60</span> ]<br/>A8: <span class="hljs-built_in">Array</span> Push [ Variable <span class="hljs-built_in">Array</span>:%betas Position:<span class="hljs-number">1</span> Value:%appname---%package Fill Spaces:Off ] If [ %atmatches() ~ <span class="hljs-literal">true</span> ]<br/>A9: <span class="hljs-keyword">End</span> <span class="hljs-keyword">For</span><br/>A10: <span class="hljs-built_in">Array</span> Process [ Variable <span class="hljs-built_in">Array</span>:%betas Type:Sort Alpha ]<br/><span class="hljs-selector-tag">A11</span>: <span class="hljs-selector-tag">For</span> <span class="hljs-selector-attr">[ Variable:%betatest Items:%betas() ]</span><br/><span class="hljs-selector-tag">A12</span>: <span class="hljs-selector-tag">Variable</span> <span class="hljs-selector-tag">Split</span> <span class="hljs-selector-attr">[ Name:%betatest Splitter:--- Delete Base:Off ]</span><br/>A13: Write File [ File:<span class="hljs-regexp">/sdcard/</span>Tasker/Beta_Test_List.html Text:<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://play.google.com/apps/testing/%betatest2"</span>&gt;</span>%betatest1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span><br/> <span class="hljs-selector-tag">Append</span><span class="hljs-selector-pseudo">:On</span> <span class="hljs-selector-tag">Add</span> <span class="hljs-selector-tag">Newline</span><span class="hljs-selector-pseudo">:On</span> ]<br/>A14: <span class="hljs-keyword">End</span> <span class="hljs-keyword">For</span><br/><span class="hljs-selector-tag">A15</span>: <span class="hljs-selector-tag">Open</span> <span class="hljs-selector-tag">File</span> <span class="hljs-selector-attr">[ File:Tasker/Beta_Test_List.html Mime Type:text/html ]</span><br/></code> </pre> </div></section>
<h3 id="setup">设置</h3>
<p>在我们开始列出一步一步的指南之前，您需要完成一个只需要运行一次的简单设置过程(除非您卸载或清除自动工具的数据)。因为检查你是否有资格参加某些Play Store测试版程序需要验证你的Google帐户来提取信息，所以我们必须验证自动工具。幸运的是，这很容易做到。</p>

<p>打开Tasker，创建一个名为<strong> Find Betas </strong>的新任务(或者随便你怎么称呼它)。创建一个新动作，然后进入<strong>插件- &gt;自动工具- &gt; HTML Read </strong>。按铅笔图标打开自动工具的配置屏幕。对于<strong>网址</strong>，输入以下地址</p>

<p/><pre>https://accounts.google.com/ServiceLogin?service=googleplay&amp;passive=86400&amp;continue=https%3A%2F%2Fplay.google.com%2Fstore#identifier</pre>

<p>完成后，向下滚动到配置屏幕的底部，点击<strong>认证</strong>。你将被引导到一个谷歌登录屏幕，通过你的帐户访问Play Store。使用您用来下载所有应用程序的Google帐户登录。到达Play Store登录页面后，点击后退按钮退出配置屏幕。现在，AutoTools已经通过了正确的身份验证，所以它现在可以在登录到您的帐户时从beta测试登录页面中调出。</p>





<h3 id="guide">向导</h3>
<p>现在，这里有一个逐步的指导来完成这个任务。注意:这里的一些步骤相当高级。我不打算详细解释每件事是如何工作的，但我会给出每个步骤如何工作的概述。</p>



<ol><p/><ol><ol>  <li><strong>应用- &gt;列出应用。</strong>类型:<strong>包</strong>。储存结果于:<strong>%套餐</strong>。这将列出所有已安装的软件包，并将它们存储在一个数组中。</li> <li><strong>任务- &gt;为。</strong>变量:<strong>%包</strong>。物品:<strong>%包()</strong>。这将一个接一个地遍历所有已安装的包。</li> <li><strong>插件- &gt;自动工具- &gt; HTML读取。【https://play.google.com/apps/testing/%package】网址:<strong>T2</strong>。变量名:<strong> invite，name </strong>。CSS查询:<code>html &gt; body &gt; main &gt; div:nth-child(2) &gt; p:nth-child(1),html body main div h1</code>。这将读取当前包的测试登录页面，并将页面文本存储在一个变量中。</strong></li> <li><strong> App - &gt;测试App </strong>。类型:<strong>包名。</strong>数据:<strong>%套餐</strong>。将结果存储在:<strong> %appname </strong>中。获取与当前包关联的应用程序名称。</li> <li><strong>插件- &gt;自动工具- &gt;文本</strong>。正文:<strong>%邀请</strong>。匹配文本:<strong>邀请你参加一个未发布版本</strong>的测试项目。分隔符:<strong> π </strong>。检查测试登录页面上显示的文本，看看它是否说有一个我们可以注册的测试频道。</li> <li><strong>变量- &gt;数组推送</strong>。变量数组:<strong>% beta</strong>。位置:<strong> 1 </strong>。值:<strong> %appname - %package </strong>。检查if并将其设置为if<strong>% at matches()</strong>~<strong>true</strong>。如果有合格的测试版，将其添加到数组中。</li> <li><strong>任务- &gt;结束为</strong>。</li> <li><strong>变量- &gt;数组过程。</strong>变量数组:<strong>% beta</strong>。类型:<strong>排序alpha </strong>。按字母顺序重新排列名单。</li> <li><strong>任务- &gt;为</strong>。变量:<strong> %betatest </strong>。物品:<strong>% beta()</strong>。</li> <li><strong>变量- &gt;变量拆分。</strong>名称:<strong> %betatest </strong>。分割器:<strong> - </strong></li> <li><strong>文件- &gt;写文件</strong>。文件:<strong>/SD card/Tasker/Beta _ Test _ list . html</strong>。正文:<code>&lt;a href="https://play.google.com/apps/testing/%betatest2"&gt;%betatest1&lt;/a&gt;&lt;br&gt;</code>勾选<strong>追加</strong>和<strong>添加换行</strong>。</li> <li><strong>任务- &gt;结束为</strong>。</li> <li><strong>文件- &gt;打开文件</strong>。文件:<strong>Tasker/Beta _ Test _ list . html</strong>。Mime类型:<strong> text/html </strong>。</li><p/></ol></ol> </ol>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_24"><p>我被告知您将需要根据您的地区在步骤#5中修改匹配文本。例如，英语(加拿大/英国)需要将“program”改为“program”。其他语言同样需要打开一个示例beta测试页面，并复制您的语言中显示的文本作为匹配文本。</p> </div></section>




<p>这个剧本到此为止。你需要做的就是按下运行按钮(左下角的播放图标)让脚本运行。根据您安装的应用数量，可能需要1-2分钟才能完成。当任务通过for循环时，你会看到屏幕上下摆动，但只要你在开始时验证了AutoTools，它就会结束并要求你使用普通的HTML查看器或浏览器应用程序打开HTML文件。</p>

<hr/>
<p class="ad-odd"> </p>


<h2 id="download-and-import">下载并导入</h2>
<p>和往常一样，如果您想立即尝试一下，我们会提供导入该脚本所需的文件。下载下面的. tsk.xml文件，并将其保存在内部存储的任何位置。打开Tasker，在首选项中禁用初学者模式。回到Tasker的主菜单，长按顶部的Tasks标签，直到你看到一个对话框弹出。按Import，查找您之前保存的XML文件，并选择它进行导入。</p>

<p><a href="https://www.androidfilehost.com/?fid=817550096634757094"> <strong>下载查找Betas版任务脚本</strong> </a></p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_31"><p>我被告知您将需要根据您的地区在步骤#5中修改匹配文本。例如，英语(加拿大/英国)需要将“program”改为“program”。其他语言同样需要打开一个示例beta测试页面，并复制您的语言中显示的文本作为匹配文本。</p> </div></section>
<p>当你导入这个的时候，注意顶部巨大的免责声明。您必须使用您的Google帐户验证AutoTools，然后才能执行此任务。只需打开动作#1(它被禁用，所以它不会自己运行)点击它，并按下铅笔图标打开自动工具配置。滚动到底部并点击认证。您应该会看到登录您的Google帐户的提示。这样做，一旦你到达Play Store登录页面，点击后退按钮。现在，点击左下角的“播放”图标，返回并运行任务。</p>

<p>我希望这个任务对你有用。我发现了很多我有资格使用的测试频道，很多是我从未想过会有测试频道的应用。这个脚本在为你安装的应用程序寻找测试版更新时确实节省了很多时间，尽管对我个人来说，这个时间被完成这个任务所花费的时间所抵消了！</p>

<p>如果您觉得这个脚本有用，或者您对未来的教程有任何建议，请告诉我们。</p>

 </div>


</div>    
</body>
</html>