<html>
<head>
<title>New Tasker Beta adds Secure Settings Permission, Lock Screen/Screenshot Action in Android P, and more</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>新的Tasker测试版增加了安全设置权限、Android P中的锁屏/截图动作等等</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/tasker-beta-secure-settings-permission-lock-screen-screenshot-action-android-p/#0001-01-01">https://www.xda-developers.com/tasker-beta-secure-settings-permission-lock-screen-screenshot-action-android-p/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌Play商店最受欢迎的自动化应用Tasker最近经历了一次所有权变更。Tasker广受欢迎的AutoApps插件的开发者joo Dias现在是应用程序的<a href="https://www.xda-developers.com/tasker-joao-dias-autoapps-development/">所有者和开发者。他对应用程序</a>有<a href="https://www.xda-developers.com/tasker-autoapps-interview-joao-dias/">的伟大计划，他作为Tasker所有者的第一个测试是通过在Play Store </a>上发布<a href="https://www.xda-developers.com/tasker-google-play-beta-program/">基本不变的测试版来确保他的构建脚本有效。现在，他准备发布他的自动化应用程序的第一个正式测试版更新。joo Dias领导下的Tasker的第一个测试版没有添加大量新功能，但它添加的功能非常重要。</a></p>

 
<h2 id="secure-settings-permission">安全设置权限</h2>
<p>首先，应用程序最终将<code>WRITE_SECURE_SETTINGS</code>权限添加到清单中。这不一定是一个功能，但它提供了控制设备安全/全局设置的能力，而不需要额外的插件，如AutoTools或SecureTask。</p>

<p>更新Tasker后，您可以通过ADB发出以下命令来利用这一新权限:</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">adb</span> <span class="hljs-selector-tag">shell</span> <span class="hljs-selector-tag">pm</span> <span class="hljs-selector-tag">grant</span> <span class="hljs-selector-tag">net</span><span class="hljs-selector-class">.dinglisch</span><span class="hljs-selector-class">.android</span><span class="hljs-selector-class">.taskerm</span> <span class="hljs-selector-tag">android</span><span class="hljs-selector-class">.permission</span><span class="hljs-selector-class">.WRITE_SECURE_SETTINGS</span></code> </pre>
<p>现在，您可以创建写入设备上的<code>Settings.Secure</code>或<code>Settings.Global</code>表的动作。目前，这需要在Tasker中使用Java函数，因为该应用程序还没有专门的动作。例如，如果我想反转导航栏，以便交换后退和最近应用按钮:</p>

<pre> <code class="hljs ">cr = CONTEXT.getContentResolver();<br/><span class="hljs-selector-tag">Secure</span><span class="hljs-selector-class">.putString</span>(<span class="hljs-selector-tag">cr</span>, <span class="hljs-selector-tag">sysui_nav_bar</span>, <span class="hljs-selector-tag">space</span>,<span class="hljs-selector-tag">recent</span>;<span class="hljs-selector-tag">home</span>;<span class="hljs-selector-tag">back</span>,<span class="hljs-selector-tag">menu_ime</span>)</code> </pre>




<p>如果您想疯狂自动化您的设备设置，您可以通过在ADB中发出以下命令找到可用参数的完整列表:</p>

<pre> <code class="hljs php">adb shell settings <span class="hljs-keyword">list</span> <span class="hljs-keyword">global</span><br/>adb shell settings <span class="hljs-keyword">list</span> secure<br/>adb shell settings <span class="hljs-keyword">list</span> system</code> </pre><p class="ad-odd"> </p>


<h2 id="android-p-accessibility-api-update">Android P辅助功能API更新</h2>
<p>随着Android P的发布，带来了一些新的API，对Tasker等自动化应用很有用。Android的可访问性API中有两个新的全局动作:截屏和锁屏。前者非常直接，而后者的优势更微妙一些，这是我们<a href="https://www.xda-developers.com/android-p-action-lock-screen/">之前讨论过的</a>。Tasker现在支持这两个动作，如果你启用了它的辅助功能服务，并且你运行的是Android P，这些新的动作可以在“动作”的“输入”部分找到。</p>


<p class="ad-even"> </p>


<h2 id="runtime-permissions">运行时权限</h2>
<p>下一个不是面向用户的功能，但它为应用程序符合新的<a href="https://www.xda-developers.com/play-store-updated-requirements-api-level-64-bit/"> Play Store要求</a>铺平了道路，这将迫使应用程序以更高的API级别为目标。通过添加运行时权限，自动化应用程序现在将请求用户在应用程序需要时授予它敏感权限。说到这个...</p>
<p class="ad-odd"> </p>


<h2 id="tasker-now-targets-android-7-1-nougat">Tasker现在瞄准了Android 7.1牛轧糖</h2>
<p>为了遵守新的Play Store规则，自动化应用程序现在将目标对准了新版本的Android——7.1牛轧糖。它最终会在未来瞄准奥利奥，但迪亚斯选择目前瞄准7.1，以确保过渡顺利进行。不幸的是，由于这一变化，某些功能，如“通知脉冲”行动不再工作。</p>

<hr/>
<p class="ad-even"> </p>


<h2 id="download-the-beta-now">立即下载测试版！</h2>
<p><a href="https://play.google.com/apps/testing/net.dinglisch.android.taskerm">在本页</a>注册测试版，然后从谷歌Play商店下载最新版本。测试版可能需要一段时间才会出现，所以请耐心等待！</p>

 


</div>


</div>    
</body>
</html>