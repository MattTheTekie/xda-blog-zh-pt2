<html>
<head>
<title>How to Remove Points of Interest and Advertisements in Waze</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>如何删除Waze中的兴趣点和广告</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/remove-points-of-interest-waze/#0001-01-01">https://www.xda-developers.com/remove-points-of-interest-waze/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p><a href="https://www.waze.com/"> Waze </a>，对于没听说过的人来说，是一个社区驱动的交通和导航app。它适用于Android和iOS，现在也适用于<a href="https://www.xda-developers.com/waze-is-now-available-on-android-auto-in-car-units-only/"> Android Auto </a>。它使用来自其他用户的实时数据来通知用户交通状况、更好的路线，并向用户提供“兴趣点”。这些兴趣点以气球的形式弹出，基本上是位置广告(通常伴随它们的是实际的全屏广告)。在某些情况下，这些广告可能是危险的，会分散司机的注意力，如果用户希望在应用程序上仍然看到道路，就需要取消它们。如下图所示，广告填满了屏幕的顶部，一个弹出窗口显示附近有麦当劳。</p>

  


<p/><p><em>应用中的兴趣点/广告</em></p>

<p>然而，由于XDA成员<a href="https://forum.xda-developers.com/member.php?u=1542399">斯卡那迪安</a>，这些兴趣点/广告可以通过使用<a href="https://forum.xda-developers.com/apps/magisk"> Magisk </a>或init.d脚本来禁用。如果您的ROM支持init.d，并且您希望按照本指南对/system进行修改，那么您可以简单地按照这些步骤操作，但是将“99waze”文件放在/system/etc/init.d/中。以下步骤取自<a href="https://forum.xda-developers.com/showpost.php?p=73344318&amp;postcount=6">这里的</a>。除非Waze的开发人员专门针对这个脚本，否则这应该适用于将来的更新。</p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_4"><p>下面的<a href="https://www.xda-developers.com/category/tutorials/">教程</a> <strong>需要您设备上的root访问权限</strong>，因为您将制作一个脚本来修改位于/data目录中的文件，特别是位于应用程序的data文件夹中的文件。这意味着你设备的引导程序可能已经解锁，你已经通过<a href="https://forum.xda-developers.com/apps/supersu"> SuperSU </a>或<a href="https://forum.xda-developers.com/apps/magisk"> Magisk </a>安装了一个超级用户二进制文件。</p> </div></section>
<hr/>


<h2 id="remove-points-of-interest-and-advertisements-in-waze">删除Waze中的兴趣点和广告</h2>
<h3 id="step-1">第一步</h3>
<p>如前所述，您需要在设备上安装Magisk。你也需要一个像MiXplorer这样的应用程序，所以请安装它或者任何其他支持root的文件管理器。</p>

<p>[appbox xda com.mixplorer]</p>

<h3 id="step-2">第二步</h3>
<p>导航至:</p>

<pre> <code class="hljs ">/magisk/.core/post-fs-data.d/</code> </pre>
<p>在文件管理器中，创建一个名为99waze的文件。注意导航到/magisk时，点击右上角的菜单按钮，如果使用MiXplorer，则点击“显示隐藏”。</p>

<h3 id="step-3">第三步</h3>
<p>请chmod 755这个文件(即。更改文件的权限，这可以通过在MiXplorer中打开文件的属性来实现。这看起来像下面这样。</p>



<h3 id="step-4">第四步</h3>
<p>将以下几行添加到文件中。</p>

<section class="emaki-custom-block emaki-custom-expandable"><div class="emaki-custom expandable" id="custom_block_19"><h3 id="99waze">99waze</h3><pre> <code class="hljs bash"><span class="hljs-meta">#!/system/bin/sh</span><br/>sleep 30<br/><br/>sed -i -e <span class="hljs-string">'s|.*ExternalPOI.My Coupons Enabled:.*|ExternalPOI.My Coupons Enabled: no|g'</span> /data/data/com.waze/preferences<br/>sed -i -e <span class="hljs-string">'s|.*ExternalPOI.Feature Enabled:.*|ExternalPOI.Feature Enabled: no|g'</span> /data/data/com.waze/preferences<br/>sed -i -e <span class="hljs-string">'s|.*ExternalPOI.Max POIs Display:.*|ExternalPOI.Max POIs Display: 0|g'</span> /data/data/com.waze/preferences<br/>sed -i -e <span class="hljs-string">'s|.*ExternalPOI.Popup Enabled:.*|ExternalPOI.Popup Enabled: no|g'</span> /data/data/com.waze/preferences<br/>sed -i -e <span class="hljs-string">'s|.*ExternalPOI.Max POIs Display Small Screen:.*|ExternalPOI.Max POIs Display Small Screen: 0|g'</span> /data/data/com.waze/preferences<br/><br/>chown root:root /data/data/com.waze/waze/skins/<span class="hljs-keyword">default</span><br/>chmod <span class="hljs-number">555</span> /data/data/com.waze/waze/skins/<span class="hljs-keyword">default</span><br/>find /data/data/com.waze/waze/skins/<span class="hljs-keyword">default</span> -name <span class="hljs-string">"*x28*"</span> | xargs rm -rf<br/><br/>chown root:root /data/data/com.waze<br/>chown root:root /data/data/com.waze/preferences<br/>chmod 755 /data/data/com.waze<br/>chmod 644 /data/data/com.waze/preferences</code> </pre> </div></section>
<h3 id="step-5">第五步</h3>
<p>重新启动你的手机，看看广告现在是否被禁用，没有兴趣点出现！所有的广告和兴趣点应该完全禁用。</p>

<hr/>
<p class="ad-odd"> </p>


<h2 id="explanation">说明</h2>
<p>首先，“99waze”是一个无系统的init.d脚本。Init.d是一个系统文件夹，包含引导时运行的脚本，文件名前面的前两个数字表示优先级。例如，文件名“01file”将在“99file”之前运行。这个脚本被留到最后，这样就不会干扰其他任何东西，也不会在以后撤销它的修改。</p>

<p>不仅优先级被设置到最后，而且脚本以“sleep 30”开始，这意味着在做任何事情之前要等待30秒。接下来，脚本调用Linux文本流编辑器“sed”。它可以让你通过命令逐行编辑文本文件。Sed用于替换首选项文件中的许多参数。所有这些都用于广告或兴趣点，并禁用它们。</p>

<p>接下来，我们使兴趣点文件只能由root(在本例中是超级用户)帐户编辑。这些文件位于上面提到的/skins/default文件夹中。然后，我们删除所有包含字符串“x28”的文件，因为所有兴趣点文件都包含该字符串。当我们删除它们时，应用程序无法重新创建它们，因为超级用户帐户拥有该文件夹，因此即使首选项更改被撤消，您也无法再接收兴趣点文件。</p>

<p>接下来，脚本声明对首选项文件的根所有权，因此这也不能被编辑。这再次防止我们的更改被撤销，并有助于防止任何未来的应用程序更新撤销我们的更改。</p>

<p>就是这样！Waze是一个非常有用的应用程序，但令人遗憾的是添加了这样的分散注意力的广告。它们会给司机带来麻烦，而用户找到了绕过它们的方法，这很好。希望有所改变，使广告更少侵扰。虽然在我看来广告可能是有益的，但在用户开车时在应用程序中出现这种侵扰性广告是不可接受的，我希望开发者可以接受这一提示。</p>

 </div>


</div>    
</body>
</html>