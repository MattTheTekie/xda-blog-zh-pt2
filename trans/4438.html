<html>
<head>
<title>The Google Home has an undocumented local API that you can now access</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Google Home有一个未记录的本地API，您现在可以访问它</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/google-home-local-api/#0001-01-01">https://www.xda-developers.com/google-home-local-api/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌不断增长的人工智能扬声器阵容Google Home为智能家居爱好者提供了丰富的可能性。问题是，它被锁得很紧。当访问警报数据、设置、蓝牙模式和其他设备上的信息时，你有两个选择:在智能手机和/或平板电脑上查看谷歌Home companion应用程序，或者大喊一个命令。到目前为止，Google Home缺少一个合适的API。</p>

  
<p>这并没有阻止勇敢无畏的谷歌主页开发者自己拼凑一个。Redditor <a href="https://www.reddit.com/user/rithvikvibhu"> rithvikvibhu </a>煞费苦心地嗅出一个Google Home设备的流量，并记录下每个网络请求，将结果整理在Github上一个漂亮的备忘单中。到目前为止，他已经成功识别了均衡器设置、设备选项、夜间模式等的本地GET和POST命令，以及返回给定扬声器的Wi-Fi配置、其支持的时区和区域列表以及绑定的蓝牙设备名称的连接请求。</p>

<p>这是一个相对简单的过程。在你通过使用像<a href="https://play.google.com/store/apps/details?id=com.overlook.android.fing&amp;hl=en"> Fling </a>这样的应用程序识别了你的Google Home speaker的IP地址之后，你可以通过在Google Home本地API文档中添加URIs来进行GET和POST调用。</p>

<p>例如，这个URI在谷歌家用扬声器上抓取了一个本地闹钟和定时器列表:</p>

<pre> <code class="hljs ">/setup/assistant/alarms</code> </pre>
<p>下面是GET调用(“X”标记是占位符):</p>

<pre> <code class="hljs javascript">http:</code> </pre>
<p>在与Google Home连接到同一网络的任何设备上导航到该地址，将返回一个JSON响应，其中包含<strong>天、月、年以及闹钟预定响起的时间</strong>:</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Source: Google Home Local API&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png" src="../Images/80aaa1daa5e8eb8a4b3c76cc81486eab.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/01/json_google_home_api.png"/> </picture> <figcaption class="body-img-caption">Source: Google Home Local API</figcaption> </figure> </div>


 </div>


<p> </p>

<p>这个相关的URI在Google Home音箱上返回<strong>闹钟和定时器音量</strong>:</p>

<pre> <code class="hljs ">/setup/assistant/alarms/volume</code> </pre>
<p>POST调用以十进制形式返回音量:</p>

<pre> <code class="hljs css">0<span class="hljs-selector-class">.8199999928474426</span></code> </pre>
<p>如果你觉得自己很勇敢，这台URI <strong>会重启</strong>一台谷歌Home设备:</p>

<pre> <code class="hljs ">/setup/reboot</code> </pre>
<p>Google Home本地API的非官方文档可以在rithvikvibhu的<a href="https://rithvikvibhu.github.io/GHLocalApi/"> Github库</a>上找到，还有使用它所需的代码。但是请记住，这绝不是官方的——不要期望API的行为是可预测的。</p>

<hr/>

<p><a href="https://rithvikvibhu.github.io/GHLocalApi/#connectivity"> <strong>来源:Google Home本地API </strong> </a> <a href="https://www.reddit.com/r/googlehome/comments/7qssr6/i_documented_ghs_local_api_by_sniffing_network/"> <strong>来源2: /r/GoogleHome </strong> </a></p>

 </div>


</div>    
</body>
</html>