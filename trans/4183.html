<html>
<head>
<title>The Google Pixel 2 has a Hidden, but Disabled, Dark Theme</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>谷歌像素2有一个隐藏的，但被禁用的，黑暗的主题</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/hidden-dark-theme-google-pixel-2/#0001-01-01">https://www.xda-developers.com/hidden-dark-theme-google-pixel-2/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_0"><p>更新11:14 CST:根据<em> The Verge </em>，有一个隐藏的方法可以启用这个黑暗主题(可能只有在使用Pixel Launcher的情况下)。我们不知道这是如何被忽视的，但是原文在下面。</p> </div></section>
<p/><p>你听说了吗？威瑞森昨天开放了他们的商店，现场演示新的谷歌像素2和谷歌像素2 XL。当大多数人都在花时间感受这款手机时(因为这是你在这类促销活动中应该做的)，我们XDA一直在挖掘手机，为你带来最新的应用程序，揭示最新的功能。你可以获得我们提取的最新<a href="https://www.xda-developers.com/get-google-pixel-2-pixel-launcher-bottom-search-bar/"> Pixel Launcher </a>和<a href="https://www.xda-developers.com/download-google-camera-motion-photo/"> Google Camera </a>应用，但还有几个其他的预装应用你不容易安装。一个这样的应用实际上非常有趣，因为它是SystemUI 的<strong>隐藏黑暗主题。</strong></p>

  
<p>不幸的是，看起来这个黑暗的主题被<strong>禁用了</strong>，无法在Pixel 2中访问它(至少，在没有ADB的情况下，我无法测试它，直到我得到我的审查模型)。app简单命名为“Dark”，其包名为“<code>com.android.systemui.theme.dark</code>”它存储在<code>/vendor/overlay/SysuiDarkTheme/SysuiDarkThemeOverlay.apk</code>中。</p>

<p>正如我们在Android 8.0 Oreo 的完整<a href="https://www.xda-developers.com/android-oreo-source-code/">源代码发布后不久发现的那样，谷歌已经引入了一个用于管理主题</a>的<a href="https://www.xda-developers.com/android-oreo-command-line-themes/">命令行界面。这实际上使得Android Oreo </a>的<a href="https://www.xda-developers.com/andromeda-substratum-custom-themes-oreo/">无根底层成为可能，也是目前任何运行Android Oreo </a>的人能够<a href="https://www.xda-developers.com/install-dark-theme-android-oreo-without-root/">在他们的设备上安装黑暗主题</a>的最佳方式。</p>





<p/><p><em>安卓奥利奥黑暗主题安装了<a href="https://www.xda-developers.com/custom-themes-android-oreo-substratum/">仙女座附加软件用于底层</a>T3】</em></p>

<p>利用我们对OMS的了解(覆盖管理器服务——谷歌在Android 8.0中添加了对索尼主题框架的全面支持),我们很快就发现这个预装的“黑暗”系统APK实际上是SystemUI的OMS主题。安装位置是一个线索，因为它存储在目录中，Google指示供应商存储他们希望预安装的任何主题。</p>

<p>不幸的是，我们无法测试这种黑暗主题是否可以在谷歌Pixel 2上实际启用。这是因为我们只能在我们当地的威瑞森商店使用手机，在那里获得亚行的访问权限来运行必要的命令是不可能的。</p>

<h3 id="update-1---a-way-to-enable-it">更新1 -启用它的方法</h3>
<p>根据早期的亲身经历<a href="https://www.theverge.com/2017/10/4/16405192/new-google-pixel-2-xl-phone-photos-video-hands-on"> <em>濒临</em> </a>:</p>

<blockquote>
<p/><h4>它还会关注你的壁纸:如果是深色的，应用启动器和通知阴影会自动切换到深色模式来匹配。</h4>
 </blockquote>
<p>通知阴影是由SystemUI控制的，所以这就解释了谷歌Pixel 2在哪里使用了这个黑色主题。这并不意味着我们不能利用这些发现，尽管如此，因为这种自动黑暗主题切换可能只有在你使用股票像素启动器时才有效。这意味着如果你使用Nova Launcher(我说“可能”是因为还没有人在Pixel 2上测试过第三方Launcher ),设置深色壁纸可能不起作用。)</p>

<p>这是我们下周收到Pixel 2 XL后必须彻底测试的东西。</p>

<h3 id="update-2---dark-theme-s-capabilities">更新2 -黑暗主题的能力</h3>
<p>看起来黑暗主题在它所能表达的主题方面是非常有限的。ArsTechnica  的Ron Amadeo指出，黑暗主题只适用于快速设置面板。出于好奇，我回去提取覆盖APK，然后反编译它来验证自己:</p>

<pre> <code class="hljs xml">?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span><span class="hljs-meta">?&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"qs_base"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"@android:style/Theme.DeviceDefault"</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorControlNormal"</span>&gt;</span>?android:textColorPrimary<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorPrimary"</span>&gt;</span>@android:color/primary_device_default_settings<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorPrimaryDark"</span>&gt;</span>@android:color/primary_dark_device_default_settings<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorAccent"</span>&gt;</span>@android:color/accent_device_default_dark<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorBackgroundFloating"</span>&gt;</span>#ff000000<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:colorSecondary"</span>&gt;</span>@android:color/secondary_device_default_settings<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span></code> </pre>
<p>这样做的目的是指定快速设置面板的颜色，在这种情况下，使其颜色更深。</p>

<h3 id="update-3---no-dice">更新3 -没有骰子</h3>
<p>我们去了威瑞森商店，试图通过设置深色壁纸来启用深色主题，就像The Verge提到的那样，但是我们没有成功。什么都没发生。我们不完全确定原因。</p>

<h3 id="update-4---it-worked-briefly">更新4——它工作了——短暂地</h3>
<p>我亲自回到威瑞森商店，确认如果你启用“阴影”类别中的一种壁纸，你可以为快速设置面板设置一个深色主题。</p>

 </div>


</div>    
</body>
</html>