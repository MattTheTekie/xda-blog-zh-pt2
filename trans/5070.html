<html>
<head>
<title>Pluvius themes system UI and accent color based on the wallpaper [Giveaway]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>基于壁纸的Pluvius主题系统用户界面和强调色[赠品]</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/pluvius-dynamically-theme-system-ui-accent-color-wallpaper/#0001-01-01">https://www.xda-developers.com/pluvius-dynamically-theme-system-ui-accent-color-wallpaper/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>在Android 8.0 Oreo中，谷歌引入了索尼的原生主题框架，称为覆盖管理器服务(OMS。)可以构建覆盖图来针对任何应用程序的资源，包括SystemUI和Android框架，并用它们自己的值覆盖它们。这让我们可以在Android 8.0和Android 8.1上随心所欲地对Android的几乎任何部分进行主题化。不幸的是，谷歌<a href="https://www.xda-developers.com/rootless-custom-themes-android-p/">在Android P中阻止了对OMS API的访问</a>，声明OMS仅供原始设备制造商使用。然而，如果你<a href="https://www.xda-developers.com/magisk-v16-6-samsung-galaxy-s9-project-treble-gsi-root-loss/">有root权限</a>比如通过Magisk，你仍然可以<a href="https://www.xda-developers.com/custom-themes-android-p-root-substratum/">在Android P </a>上安装自定义主题。一款名为“Pluvius”的新应用刚刚发布，它以一种非常聪明的方式使用了OMS:<strong>根据当前壁纸动态主题化系统UI和强调颜色</strong>。它需要root访问权限才能工作，但如果你通过了这个基本要求，那么你就可以在任何Android 8.0 Oreo、Android 8.1 Oreo或Android P设备上享受个性化主题，如Google Pixel 2或Essential Phone。</p>

 




<p/><p><em>顶部截图:谷歌Pixel 2 XL运行<a href="https://www.xda-developers.com/android-p-beta-3-google-pixel/">安卓P Beta 3/开发者预览版4 </a>。底部截图:运行Android 8.1奥利奥的必备手机。</em></p>

<p>正如你在上面的一组截图中看到的，系统UI的主题是基于我选择的壁纸。(我这里用的壁纸是Google Pixel壁纸，可以通过非官方端口安装在任何设备上<a href="https://forum.xda-developers.com/android/apps-games/port-live-earth-wallpapers-t3481640">。)在我的截图(最上面一行)中，我分别为自适应系统口音和自适应系统UI主题选择了“亮色”和“动态暗色”选项。你可以在应用程序中选择更多的颜色，根据自己的喜好动态调整你的Android设备。看看下面开发者的视频，看看这款应用的运行速度有多快。</a></p>

 
<p class="w-rich w-youtube" id="bBCO8FD_0h0">  </p>


<p>该应用程序使用<a href="https://developer.android.com/training/material/palette-colors"> Android调色板API </a>从壁纸中选择颜色。app处理这个的逻辑可以在<a href="https://pastebin.com/ABYpA6bQ">这里</a>找到。不幸的是，没有从动态壁纸中获取颜色的统一API，所以该应用程序不能基于动态壁纸动态选择主题。</p>

<p>对于Android P支持，该应用程序的功能就像底层一样，它将覆盖放在/system/app中。每个覆盖图的大小约为5-6KB(覆盖图只包含manifest和colors.xml来主题化系统和框架),因此不应该担心系统存储空间会耗尽。您可以随时从应用程序的设置中卸载旧的覆盖图。Pluvius安装的覆盖图包含自定义元数据，使它们可以被应用程序动态获取，因此它们可以被添加/删除/更新。</p>

<p>如果你经常更换壁纸(也许你使用像<a href="https://www.xda-developers.com/muzei-v2-3-adds-runtime-permissions-direct-boot-support-next-artwork-quick-settings-tile-and-more/"> Muzei </a>或Chainfire的<a href="https://forum.xda-developers.com/showthread.php?t=2522588"> 500 Firepaper </a>这样的应用程序)，那么你肯定会喜欢这个出色的应用程序带来的额外定制。我已经<a href="https://www.xda-developers.com/enable-android-p-dark-theme-night-light/">放弃了我在夜灯</a>上触发的自动黑暗主题，取而代之的是这个。</p>

 
<h2 id="pluvius-features">多种特征</h2>
<ul> <li>独立的应用程序，不需要安装底层或仙女座菌株。</li> <li>动态主题系统用户界面(快速设置面板，音量面板，电源菜单等)。)以及框架强调颜色(设置、滑块、按钮、切换等)。)基于当前壁纸。</li> <li><strong>自适应系统色彩</strong>选项:鲜艳、亮艳、暗艳或定制颜色</li> <li><strong>自适应SystemUI主题</strong>:暗、黑、自定义颜色、动态光、动态暗</li> <li>支持安卓8.0奥利奥、安卓8.1奥利奥、安卓P(都需要root权限)设备。可能无法在一些经过大量修改的OEM皮肤上工作。</li> <li>可选的Magisk模块，只有想要通过SafetyNet的Android P用户才需要。Android Oreo方法(PackageManager)不修改/system，因此它将通过SafetyNet。</li> </ul>





<p><strong>计划功能:</strong></p>

<ul> <li>动态主题化通知</li> <li>Android 8.0和Android 8.1 Oreo的无根主题化(将需要一个附加应用程序和ADB命令)</li> </ul>
<p class="ad-odd"> </p>


<h2 id="download-and-install-pluvius">下载并安装Pluvius</h2>
<p>您可以从谷歌Play商店下载该应用程序。有一个<strong> 14天的免费试用期</strong>，之后你必须通过应用内购买(2美元)来解锁应用。)</p>

 

<p/><p><a href="https://forum.xda-developers.com/android/apps-games/app-pluvius-dynamic-oms-framework-t3814394"> <strong>访问XDA论坛线程</strong> </a></p>
<p class="ad-even"> </p>


<h2 id="pluvius-unlock-code-giveaway">Pluvius解锁代码赠品</h2>
<p><del>开发者慷慨赠予<em> XDA开发者</em>T3】100个解锁码给用户！我将<strong>在评论中随机发布代码</strong>，所以即使你没有立即看到这篇文章，你仍然可以要求一个代码！</del>代码已全部发出，感谢各位留言评论！</p>

<hr/>

<p><em>注意:本文不以任何方式得到Pluvius开发者的赞助。开发者是我们论坛上的活跃贡献者，出于礼貌，我们通常会涵盖活跃成员所做的应用程序、修改或其他任何我们认为读者可能感兴趣的内容。如果你在我们的论坛上分享了一些你认为值得在门户上大声喊出来的东西，<a href="https://www.xda-developers.com/tip-us/">给我们发一条提示</a>。</em></p>

 </div>


</div>    
</body>
</html>