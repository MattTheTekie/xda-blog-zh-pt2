<html>
<head>
<title>Official Xposed Framework for Android Nougat is Here - Download your Favorite Modules Now!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Android牛轧糖的官方Xposed框架在这里-现在下载你喜欢的模块！</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/official-xposed-framework-android-nougat/#0001-01-01">https://www.xda-developers.com/official-xposed-framework-android-nougat/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>随着Android生态系统多年来的成熟，越来越少的用户找到了他们应该让自己的设备扎根的理由。越来越多的用户选择继续使用现有的固件，要么是因为他们觉得体验令人满意，要么是不想与谷歌的SafetyNet API 玩<a href="https://www.xda-developers.com/magisk-developer-assures-next-magisk-beta-will-pass-safetynet-again/">猫捉老鼠的游戏。但是如果你在2016年初问一个用户为什么给他们的手机安装rooted，可能给出的第一个原因是他们可以</a><a href="https://www.xda-developers.com/this-is-why-we-still-root/">安装Xposed框架</a>。距离Android 7.0牛轧糖首次发布已经<a href="https://www.xda-developers.com/android-7-0-nougat-finally-released-coming-your-way/">一年多了，但漫长的等待终于结束:<strong>Android牛轧糖官方Xposed框架终于面世。</strong></a></p>

  
<p>在过去的一年里，Xposed框架的主要开发者XDA资深公认开发者<a href="https://forum.xda-developers.com/member.php?u=4419114"> rovo89 </a>已经向<a href="https://www.xda-developers.com/rovo89-updates-on-current-status-of-xposed-for-android-nougat/">提供了几次</a> <a href="https://www.xda-developers.com/xposed-android-nougat-support/">关于Android牛轧糖Xposed框架进展的更新</a>。对于一些人来说，<a href="https://www.xda-developers.com/home-is-where-xposed-is-the-modules-that-keep-my-oneplus-3-on-marshmallow/">等待是可以忍受的</a>，主要是因为Xposed框架在<a href="https://www.xda-developers.com/xposed-for-marshmallow-is-here/"> Android Marshmallow </a>中提供了大量的附加功能。但是其他许多人已经过上了不用手机的生活。</p>

<p>当开发者abforce为AOSP 7.1.2 发布了一个<a href="https://www.xda-developers.com/art-submodule-for-aosp-7-1-2-adds-xposed-functionality-to-custom-roms/">艺术子模块时，我们看到了项目中重新出现的兴奋，但是正如我们自己的GermainZ指出的</a><a href="https://www.xda-developers.com/xposed-nougat-abforce-explained/">你最好等待官方的Xposed框架</a>发布，因为abforce的实现需要框架被集成到定制的rom中。此外，这种非官方的实现是不完整的，导致某些暴露的模块出现不一致或错误的行为。</p>

<p>虽然abforce在让他的非官方Xposed在Android 7.1牛轧糖上工作方面做得很好，但他的实现违背了rovo89对Xposed的愿景——它应该是一个稳定的解决方案，为用户和开发者提供可靠且易于使用的合同。我们这样说的意思是，不仅模块应该对用户来说没有问题，而且模块的设置方式应该在用户之间保持一致，这样开发人员就可以知道暴露的模块是否应该对应用程序崩溃负责。</p>

<p>我们不再需要担心这样的问题，因为rovo89(在XDA公认的开发者<a href="https://forum.xda-developers.com/member.php?u=3562083"> wanam </a>的帮助下)现在已经准备好发布Xposed框架和安装程序的官方更新——带来<strong>与Android 7.0/7.1牛轧糖</strong>的兼容性。这意味着你不必安装定制的ROM或不得不摆弄闪烁的不稳定版本来享受Xposed——只需启动你的手机并安装最新的Xposed安装程序应用程序(链接如下),<strong> Xposed安装程序将为你安装x posed的魔法</strong>。</p>





<p/><p><em>暴露的安装程序浏览模块库</em></p>

<p>在一些人看来，这可能有点晚，特别是因为这个版本是在Android 8.0 Oreo发布一个多月后<a href="https://www.xda-developers.com/android-8-0-oreo-google-released/">发布的。请记住，在未来几个月内，很少有设备能够获得Android Oreo的稳定版本。根据谷歌的最新统计，安卓奥利奥只在 </a><a href="https://www.xda-developers.com/android-oreo-october-version-distribution/"> <em>上<em>占所有安卓设备的0.2%</em></em></a>(相比之下，在牛轧糖上约占18%)，但我们的许多用户都是那种喜欢安装定制rom以保持领先地位的人。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Android Version Distribution as of October 2017. Source: &lt;a href=\&quot;https:\/\/developer.android.com\/about\/dashboards\/index.html\&quot;&gt;Google&lt;\/a&gt;&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="android oreo october distribution numbers" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png" src="../Images/60682cdcc5e1aafcb7fae6a9b70a50c4.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/AndroidOreoDistribution.png"/> </picture> <figcaption class="body-img-caption">Android Version Distribution as of October 2017. Source: <a href="https://developer.android.com/about/dashboards/index.html">Google</a></figcaption> </figure> </div>


 </div>


<p>虽然即使你在我们论坛上的无数设备上安装了一个Android 8.0的非官方端口，但这些端口中的许多都不是日常驱动程序状态。因此，除非你愿意花数百美元购买一个全新的<a href="https://www.xda-developers.com/google-pixel-2-xl-announced-price/">谷歌Pixel 2/2 XL、</a> <a href="https://www.xda-developers.com/xperia-xz1-compact-ifa-2017-released/">索尼Xperia XZ1/XZ1 Compact </a>，或者一个即将推出的设备，如<a href="https://www.xda-developers.com/huawei-mate-10-alps-blanc-leaked/">华为Mate 10 </a>，否则你可能只能在Android Nougat上挤出几个月的使用时间。</p>

<p>如果这听起来像你，那么前往官方论坛线程的Xposed安装程序和框架拉链，让它在你的Android牛轧糖设备上运行。</p>

<p/><p><a href="https://forum.xda-developers.com/showthread.php?t=3034811"> <strong>下载Xposed安装程序v3.1.2(附件)</strong> </a></p>

<p/><p><a href="http://dl-xda.xposed.info/framework/sdk24/"> <strong> Xposed牛轧糖7.0安装程序(SDK24)下载</strong> </a></p>

<p/><p><a href="http://dl-xda.xposed.info/framework/sdk25/"> <strong> Xposed牛轧糖7.1安装程序(SDK25)下载</strong> </a></p>

<p>对于许多不熟悉Xposed框架的用途或工作原理的新用户来说，我们将在下面简要解释Xposed框架，为什么您应该感到兴奋，以及为什么这方面的开发花费了这么长时间。</p>

<hr/>


<h2 id="why-install-the-xposed-framework">为什么要安装Xposed框架？</h2>
<p>想要在不刷新自定义ROM的情况下获得自定义ROM功能？所有用于调整你的ROM的暴露模块之母，被称为<a href="https://forum.xda-developers.com/xposed/modules/app-gravitybox-v6-0-0-tweak-box-android-t3251148"> GravityBox </a>，已经覆盖了你。想要自定义每个应用程序的显示设置吗？试试<a href="https://forum.xda-developers.com/xposed/modules/mod-app-settings-v1-9-2014-05-14-t2437377"> App设置</a>。如何定制某些应用程序，如<a href="https://forum.xda-developers.com/xposed/modules/xhangouts-mms-fixes-google-hangouts-t2888102"> Hangouts？</a>或者修改Instagram以便<a href="https://forum.xda-developers.com/xposed/modules/mod-xinsta-download-images-videos-t3077110">下载你喜欢的任何帖子</a>？</p>





<p>Xposed让开发人员能够<strong>修改几乎任何他们想要的东西</strong>——主要针对单个应用程序，但甚至系统范围的特性也可以修改。我们列举的例子只是冰山一角。你可以添加的额外功能或修改的应用程序的数量令人难以置信——只需搜索<a href="http://repo.xposed.info/module-overview">官方公开的模块库</a>就能自己看到。请记住，一些模块可能需要更新这个新版本和牛轧糖的支持，所以一定要检查之前，安装在你的牛轧糖光盘！</p>
<p class="ad-odd"> </p>


<h2 id="how-do-xposed-modules-work">Xposed模块是如何工作的？</h2>
<p>其要点是Xposed框架允许模块<strong>“挂钩”到任何应用程序</strong>的Java方法中——无论是用户安装的还是系统应用程序。Xposed让模块在目标应用程序的原始方法之前、期间或代替原始方法执行它们自己的方法<strong>。</strong></p>

<p>例如，想象一下Gmail应用程序中发布新邮件通知的方法。默认情况下，该方法会创建一个新的通知，其中包含用于存档/删除或回复电子邮件的按钮。可以让一个暴露的模块挂钩到这个方法中，并添加一个新按钮，比如“标记为已读”(是的，已经有一个<a href="http://repo.xposed.info/module/com.taptigo.xposed.xnotifications">模块专门用于那个</a>。)</p>

<p>以上是对Xposed框架允许其模块做的事情的最终结果的过度简化。这个框架本身非常复杂，而且让它几乎可以在根设备上通用——不需要定制的ROM——这就是为什么Xposed for Android Nougat花了这么长时间才完成。</p>
<p class="ad-even"> </p>


<h2 id="why-does-xposed-development-take-so-long">为什么Xposed开发需要这么长时间？</h2>
<p>Xposed背后的魔力——允许模块挂钩到其他应用程序的方法——需要深入了解Zygote和<a href="https://source.android.com/devices/tech/dalvik/"> Android运行时</a> (ART)如何工作。这些要求已经排除了大量人员对项目的贡献，但是这个问题由于<strong> rovo89在过去5年</strong>一直是x曝光的主要贡献者而加剧。</p>

<p>这就是为什么自从Xposed最后一次公开发布以来，他对Xposed所做的修改被拒绝的原因。这是他的创意，他最擅长理解和修改它，所以在这么晚的阶段增加更多的人力只会进一步推迟项目。</p>

<p>另外，如果rovo89不断更新他的源代码，<a href="https://github.com/rovo89/Xposed/issues/225#issuecomment-314017010">他担心</a>有人会拿着未完成的代码构建一个半功能的Xposed框架，而没有通用的Xposed安装程序与之配套。(这种事情无论如何都会在abforce实现中发生，由此产生的各种安装方法的混乱证明了rovo89的犹豫。)</p>

<p>因此，我们能做的最好的事情就是给rovo89时间去做他最喜欢的项目。Xposed并不是他的全职，甚至也不是兼职。这只是一个爱好，一个他为了社区的利益已经做了5年的爱好。像Xposed这样复杂的项目需要时间来工作，然后进行测试——由于他的其他任务，他并不经常有这样的时间。正如rovo89在他关于这个问题的一些公开更新中所记录的，在Xposed框架本身和Xposed安装程序最终准备好发布之前，进展<em>在过去的一年中取得了</em>。</p>
<p class="ad-odd"> </p>


<h2 id="what-did-rovo89-do-to-get-xposed-working-in-nougat">rovo89做了什么让自己在牛轧糖工作被曝光？</h2>
<p>Android的新版本有时会改变艺术作品的方式，这可能需要对Xposed的部分进行返工。例如，Android 7.0 Nougat为ART引入了一个即时编译器，以帮助提高应用程序的运行时性能。但是abforce的非官方Xposed框架简单地禁用了许多ART优化，以便方法挂钩可以正确工作。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;ART Optimizations in Android Nougat. Source: &lt;a href=\&quot;https:\/\/youtu.be\/fwMM6g7wpQ8?t=619\&quot;&gt;Google&lt;\/a&gt;&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Xposed Framework for Android Nougat" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png" src="../Images/dfe12af1f54312b57c4428ddf3dc4261.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/10/ART-Optimizations.png"/> </picture> <figcaption class="body-img-caption">ART Optimizations in Android Nougat. Source: <a href="https://youtu.be/fwMM6g7wpQ8?t=619">Google</a></figcaption> </figure> </div>


 </div>


<p>相比之下，rovo89的实现<strong>保留了Android Nougat </strong>中的所有ART优化，通过使用JIT重新编译方法调用程序，并且仍然保留方法挂钩。这意味着您可以通过强制禁用ART优化来享受Xposed模块的好处，而不会牺牲性能。</p>

<p>关于rovo89最终在Xposed for Android Nougat中实现可靠挂钩方法的更多细节，我们建议您阅读他提供给我们的以下声明。</p>

<section class="emaki-custom-block emaki-custom-expandable"><div class="emaki-custom expandable" id="custom_block_34"><h3 id="full-statement-from-rovo89">rovo89的完整声明</h3><blockquote><p/><h4>Xposed的核心显然是它挂钩Java方法的能力，即让模块在这些方法之前、之后或代替这些方法执行代码。几乎所有其他功能都基于此，因此它总是按预期工作是至关重要的。自从我五年前发明Xposed以来，总的概念一直是一样的，它需要改变方法的入口点。当执行过程中没有检查入口点时，这就开始失败——art中的一些优化实际上就是这种情况。</h4><p/><h4>一个例子是当入口点在编译时已知时，调用者可以直接跳转到这个地址，而不用查找它。另一个例子是内联。考虑这个例子:</h4><p/><h4>ART很聪明，注意到twice()方法非常简单，因此将逻辑嵌入到doSomething()方法中，如下所示:</h4><p/><h4>您仍然可以挂接twice()方法，但是在运行时不会再从doSomething()调用它，您的回调也不会。艺术甚至更聪明:它意识到魔法总是42，因此这个条件永远不会被满足。所以整个doSomething()方法实际上是一个空操作:</h4><p/><h4>在以前的版本中，Xposed用于完全禁用这些优化，并强制重新编译所有内容。这也带来了一些负面影响。首先，美术开发人员在通过他们的优化最大化性能方面做得非常出色，禁用他们一定程度上会导致性能下降(尽管我从未测量过有多少)。然后，重新编译本身并不容易，让我很头疼，尤其是在开始的时候。最后，除了/system上的预编译文件之外，重新编译的文件也会占用空间。</h4><p/><h4>Nougat的非官方版本也禁用了这些优化，但它们不强制重新编译(因为端口最初是集成到ROM中的)。因此，钩子有时可能不会被执行。</h4><p/><h4>有了正式版，你可以保留优化的代码，并且仍然有可靠的钩子。这是怎么回事？Xposed记录了所有的通话。这在编译apk时发生，或者在预优化代码的单独过程中发生。这些额外的数据不会占用太多空间，但是它允许Xposed找出某个方法可能被内联的位置。因此，当一个方法被挂钩时，它的所有调用者都将被去优化，也就是说，他们的代码将不再被使用。这确保了钩子回调肯定会被调用。如果调用者被大量使用，它将简单地用JIT重新编译，这一次知道方法被钩住，因此一些优化不适用。这意味着挂钩方法的影响被降低到最低限度。耶！</h4><p/><h4>现在开始尝试吧。确保使用Xposed Installer 3.1.2，因为必须更改配置路径以支持基于文件的加密。</h4><p/><h4/> </blockquote> </div></section><p class="ad-even"> </p>


<h2 id="conclusion">结论</h2>
<p>我们希望你和我们一样对Android 7的Xposed的发布感到兴奋。x牛轧糖。等待是漫长的，但考虑到暴露的复杂性，这是不可避免的。如果您仍然不清楚Xposed是什么或者它是如何工作的，不要担心。很少有人(包括我们)真正理解它是如何工作的。像rovo89这样的开发人员尽他们最大的努力包装他们的工作，所以你真的不需要理解在引擎盖下发生了什么。</p>

<p>你喜欢Xposed框架吗？考虑捐赠给rovo89，因为他做了很棒的工作。如果你认为你有能力为这个项目做出贡献，请查看下面rovo89的GitHub页面。</p>

<p/><p><a href="http://repo.xposed.info/donate"> <strong>捐到rovo89 </strong> </a></p>

<p/><p><a href="https://github.com/rovo89"> <strong>促成曝光</strong> </a></p>

<p>寻找暴露的模块？查看我们的Xposed框架模块子论坛，或者下载XDA实验室应用程序并浏览我们的Xposed模块集合。</p>

<p/><p><a href="https://forum.xda-developers.com/xposed/modules"> <strong>曝光模块论坛</strong> </a></p>

<p/><p><a href="https://www.xda-developers.com/xda-labs/"> <strong>下载XDA实验室</strong> </a></p>
<p class="ad-odd"> </p>


<h2 id="android-oreo-progress">安卓奥利奥进展</h2>
<p>如果你想知道，下面是Android Oreo的进展情况:</p>

<blockquote>
<p/><h4>我已经开始了Android 8.0的工作。有几个<a href="https://developer.android.com/reference/java/lang/invoke/MethodHandle.html" target="_blank" rel="noopener" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=https://developer.android.com/reference/java/lang/invoke/MethodHandle.html&amp;source=gmail&amp;ust=1507559749242000&amp;usg=AFQjCNHT7jBjsIzs6KtWm_2DKXMaLcdeXA">新的语言特性</a>我必须看看，但是总的概念应该仍然有效。这包括当一个方法被钩住时，使任何调用者的编译代码无效的所有工作，这是我在Nougat上工作时花费最多的时间。所以我真的很有信心这次会快很多。<a href="https://android.googlesource.com/platform/bionic/+/a0c7ec8080a7718c5711d9de405e039258d433bf%5E%21/#F0" target="_blank" rel="noopener" data-saferedirecturl="https://www.google.com/url?hl=en&amp;q=https://android.googlesource.com/platform/bionic/%2B/a0c7ec8080a7718c5711d9de405e039258d433bf%255E%2521/%23F0&amp;source=gmail&amp;ust=1507559749242000&amp;usg=AFQjCNE1fmGDhUdtqFKAFU6Y5-9n8-kvFQ"> Android 8.1 </a>应该不会有太大的不同，所以我预计不会有太多的额外工作。</h4>
 </blockquote></div>


</div>    
</body>
</html>