<html>
<head>
<title>New Android Oreo Developer Command Creates Virtual SD Card for Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>新的Android Oreo开发者命令创建虚拟SD卡进行测试</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/virtual-sd-card-android-oreo/#0001-01-01">https://www.xda-developers.com/virtual-sd-card-android-oreo/#0001-01-01</a></blockquote><div><header class="article_heading">


<h1 class="heading_title">新的Android Oreo开发者命令创建虚拟SD卡进行测试</h1>

<p class="heading_sharing">  </p>


<p class="heading_excerpt">Android Oreo有一个开发者命令来启用虚拟SD卡，以防您在开发设备上测试应用程序时需要它。</p>


<p class="img-description heading-img-desc">学分:Dotmana</p>


  </header>

<section id="article-body" class="article-body" itemprop="articleBody">

<div class="content-block-regular">
<p/><p>Android Oreo正在成为我们最喜爱的移动操作系统的开发者和爱好者友好的迭代。我们已经发现了<a href="https://www.xda-developers.com/android-oreo-rootless-system-theme/">为主题化设备添加的新命令(这导致了非根底层支持)</a>和<a href="https://www.xda-developers.com/customize-battery-saver-mode-android-8-0/">编辑电池保护程序</a>，而且发现还不止于此。现在，我们发现了一个命令，允许开发人员测试他们的应用程序如何在带有物理SD卡的设备上工作，而不需要这样的设备！这很有用，因为有很多原因，例如确保应用程序可以在SD卡的较慢速度下运行，或者查看当其数据移动到SD卡时会发生什么。这种增加是必要的，因为许多旗舰手机(用于开发)没有SD卡插槽。</p>

 
<hr/>


<h2 id="enable-a-virtual-sd-card-on-android-oreo">在Android Oreo上启用虚拟SD卡</h2>
<p>Android Oreo的AOSP源代码上的commit 声明创建一个512兆字节的文件，并将其挂载为虚拟磁盘，供系统用作SD卡。该命令通过adb访问。如果你还没有建立亚行，首先<a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">按照这个教程</a>。</p>

<p>一旦adb启动并运行，您需要的命令如下。注意，该命令接受“真”或“假”，因为它是一个布尔值。</p>

<pre> <code class="hljs ">adb shell</code> </pre>
<pre> <code class="hljs sql">sm <span class="hljs-keyword">set</span>-<span class="hljs-keyword">virtual</span>-disk <span class="hljs-literal">true</span>/<span class="hljs-literal">false</span></code> </pre>
<p>然后，您的设备将创建并安装一个大小为512兆的虚拟SD卡。此虚拟SD卡不是为正常操作而设计的，因此不要在其中存储文件。虚拟磁盘严格用于应用程序开发人员的测试目的，用于测试他们的应用程序在真实SD卡分区上的运行情况。如果您是一名开发人员，其唯一的测试设备是Google Nexus或Pixel设备(这两种设备都无法访问SD卡插槽)，那么您可能会发现这个命令很有用。</p>

 </div>


<p id="article-waypoint"/>
</section>


        </div>    
</body>
</html>