<html>
<head>
<title>Samsung Austin R&amp;D Center reveals details of its unreleased Exynos M6 CPU microarchitecture</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>三星奥斯汀R&amp;D中心披露了其尚未发布的Exynos M6 CPU微体系结构的细节</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/samsung-austin-details-unreleased-exynos-m6-cpu-microarchitecture/#0001-01-01">https://www.xda-developers.com/samsung-austin-details-unreleased-exynos-m6-cpu-microarchitecture/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>我们知道，三星奥斯汀研发中心(SARC) <a href="https://www.xda-developers.com/samsung-ending-custom-cpu-mongoose-design/">的定制CPU核心项目于2019年10月</a>结束。对于一个在2016年推出exy nos M1-采用Exynos 8890的项目来说，这是一个悲伤的结局。为什么SARC放弃了这个项目？在<a href="https://www.xda-developers.com/samsung-exynos-990-5g-modem-5123-7nm/"> Exynos 990 </a> SoC中采用的Exynos M5定制内核是可预见的未来三星设计的最后一款完全定制的内核，事后看来，很容易理解三星为什么放弃定制内核，因为它们根本没有足够的竞争力。现在已知Exynos M5内核<a href="https://www.xda-developers.com/samsung-galaxy-s20-plus-review/">相对于ARM的Cortex-A77有100%的能效赤字</a>，这说明了很多问题。然而，事情并不一定会变成那样。Exynos M1和Exynos M2的设计展示了一些前景，定制CPU核心项目在当时被视为对移动CPU领域的竞争非常重要。尽管IPC大幅增长，但Exynos M3仍然大幅下滑，<a href="https://www.xda-developers.com/samsung-galaxy-s10e-review-exynos/"> Exynos M4 </a>和Exynos M5未能跟上ARM的库存CPU IP。下一款定制核心——取消的Exynos M6在微架构上有什么变化？</p>

  
<p>到目前为止，这个问题的答案还是未知的。然而现在，SARC CPU开发团队在国际计算机架构研讨会(ISCA)上提交了一篇题为“三星Exynos CPU架构的演变”的论文(我们是通过<a href="https://www.anandtech.com/show/15826/isca-2020-evolution-of-the-samsung-exynos-cpu-microarchitecture"> <em> AnandTech </em> </a>了解到的)，这是一个IEEE会议。它揭示了以前Exynos M系列CPU的许多细节，以及被取消的Exynos M6的架构。</p>

<p>SARC CPU开发团队提交的论文详细介绍了该团队在其存在的八年中所做的努力，还揭示了定制ARM内核的关键细节，从exy nos M1(mongose)到当前一代Exynos M5 (Lion)，甚至是尚未发布的Exynos M6 CPU，在取消之前，预计将在Exynos 990的2021年SoC继任者中出现。</p>

<p>三星的SARC CPU团队成立于2011年，旨在开发定制CPU内核，这些内核后来被用于三星系统大规模集成电路的Exynos SoCs。第一款使用定制内核的Exynos SoC是Exynos 8890，它在2016年的三星Galaxy S7中有所体现。定制内核一直是Exynos SoCs的一部分，直到Exynos 990与Exynos M5内核一起出现，后者在Exynos驱动的三星Galaxy S20变体中有所体现。(即将到来的<a href="https://www.xda-developers.com/samsung-exynos-992-5nm-chip-galaxy-note-20-arm-new-cpu-gpu/"> Exynos 992 </a>，可能会出现在Galaxy Note 20中，预计将采用ARM的<a href="https://www.xda-developers.com/arm-announces-cortex-a78-cpu-mali-g78-gpu-ethos-n78-npu/"> Cortex-A78 </a>，而不是Exynos M5。)然而，在CPU团队得到2019年10月解散的消息之前，SARC已经完成了Exynos M6架构，解散于12月生效。</p>

<p>ISCA的论文提供了三星定制CPU内核(从Exynos M1到Exynos M6)之间微架构差异的概览表。该公司在HotChips 2016活动的初始M1 CPU架构深潜中披露了该设计的一些众所周知的特征。在HotChips 2018上，三星在Exynos M3上进行了深度展示。Exynos M4和Exynos M5内核的架构也已详细说明，M6也是如此。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Source: SARC&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Samsung Austin CPU architectures" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg" src="../Images/681084bb2884bffbb8b20383392ce710.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2020/06/Samsung_Austin_CPU_Architecture.jpg"/> </picture> <figcaption class="body-img-caption">Source: SARC</figcaption> </figure> </div>


 </div>


<p>AnandTech指出，多年来三星设计的一个关键特征是，它基于与Exynos M1猫鼬核心相同的RTL蓝图。多年来，三星继续对内核的功能模块进行改进。Exynos M3代表了第一次迭代的变化，因为它在几个方面大大拓宽了内核，从4宽设计变为6宽中内核。(另一方面，Apple A11、A12和A13的解码宽度为7，而Cortex-A76、A77和A78的解码宽度为4。Cortex-X1将解码宽度增加到5倍。)</p>

<p>该报告还披露了一些之前没有公开的关于Exynos M5和M6的信息。对于Exynos M5，三星对内核的高速缓存层次结构进行了更大的改变，用一个新的更大的共享高速缓存取代了专用L2高速缓存，并披露了L3结构从3-bank设计到2-bank设计的变化，延迟更少。</p>

<p>就微架构而言，取消M6内核将是一个更大的飞跃。SARC已经做出了巨大的改进，例如将L1指令和数据缓存从64KB增加了一倍，达到128KB - <em> AnandTech </em>指出，这是一个迄今为止只有苹果A系列内核才实现的设计选择，从苹果A12开始。</p>

<p>L2的带宽能力增加了一倍，达到64B/周期，而L3的带宽将从3MB增加到4MB。Exynos M6应该是一个8宽的解码核心。正如<em> AnandTech </em>所指出的，这将是目前已知的解码方面最广泛的商业微架构。然而，即使内核更宽了，整数执行单元也没有太大变化。一个复杂的流水线增加了第二个整数除法功能，而加载/存储流水线保持与M5相同，具有一个加载单元、一个存储单元和一个加载/存储单元。浮点/SIMD管道将增加第四个具有FMAC能力的单元。L1 DTLB从48页增加到128页，主TLB从4K页增加到8K页(32MB覆盖范围)。</p>

<p>Exynos M6将是继M3以来第一次增加核心的无序窗口，从而代表了其前身的另一个重大变化。会有更大的整数和浮点物理寄存器文件，并且ROB(重新排序缓冲区)会从228增加到256。AnandTech指出，定制Exynos内核的一个重要弱点仍然存在于M5上，也可能存在于M6上。它更深的流水线阶段将导致昂贵的16周期预测失误惩罚，这高于ARM的CPU内核的11周期预测失误惩罚。SARC的论文对分支预测器的设计进行了更深入的研究，展示了基于CPU内核的缩放哈希感知器的设计。这种设计在过去几年和实施过程中会不断改进，不断提高分支准确性并减少每千指令(MPKI)的误预测。SARC提供了一个表格，显示了分支预测器在前端占用的存储结构的数量。本文还详细介绍了内核的预取技术，包括在M5中引入OP缓存，以及该团队针对Spectre等安全漏洞加强内核的努力。</p>

<p>SARC在论文中还详细介绍了在定制Exynos内核中改善内存延迟的努力。在Exynos M4中，SARC团队包括了一个加载-加载级联机制，该机制将后续加载的有效L1周期延迟从四个周期减少到三个周期。M4内核还引入了一个路径旁路，通过一个新的接口从CPU内核直接连接到内存控制器，从而避免了通过互连的流量。据AnandTech 称，这解释了该出版物能够通过Exynos 9820测量的一些更大的延迟改进。Exynos M5引入了推测性缓存查找旁路，它同时向互连和缓存标签发出请求。这可能会在高速缓存未命中的情况下节省等待时间，因为存储器请求正在进行中。平均加载延迟也在不断改善，从m 1的14.9个周期到M6的8.3个周期。</p>

<p>虽然上述微体系结构特征非常技术性，但CPU爱好者将会熟悉每时钟指令(IPC)这一术语，它指的是单线程CPU性能中的每MHz性能(它是决定单线程CPU性能的主要因素，另一个因素是内核的时钟速度)。整数IPC和浮点IPC都是IPC的决定因素。从M1到M6，SARC团队成功实现了平均每年20%的改进。特别是M3，它代表了IPC的一个很大的百分比改善，尽管它被其他因素所拖累。Exynos M5的IPC提高了15-17%，而未发布的Exynos M6的IPC平均提高了2.71，而M1为1.06，比M5提高了20%。</p>

<p>论文主持人布莱恩·格雷森在问答环节回答了关于节目取消的问题。他说，该团队一直在按目标和时间表进行工作，每一代人的性能和效率都在提高。(这是否意味着这些目标在一开始就不够高？).另一方面，团队最大的困难是对未来的设计变化非常小心，因为团队没有资源从头开始或完全重写一个块。事后看来，这个团队在过去会对一些设计方向做出不同的选择。与此形成鲜明对比的是，ARM有多个CPU团队在不同的地点工作，实际上相互竞争。这允许“彻底的重新设计”，如<a href="https://www.xda-developers.com/arm-cortex-a76-cpu-mali-g76-gpu-mali-v76-vpu-announcement/"> Cortex-A76 </a>。<a href="https://www.xda-developers.com/arm-cortex-a77-cpu-announcement/"> Cortex-A77 </a>和Cortex-A78是A76的直接继承者。</p>

<p>SARC团队对未来的核心有改进的想法，例如假设的Exynos M7。然而，据说是三星的一个高层决定取消定制核心程序。正如AnandTech指出的那样，与ARM的任何一代CPU相比，定制内核在能效、性能和面积使用(PPA)方面都没有竞争力。上个月，ARM宣布了Cortex-X定制计划，该计划采用了新的<a href="https://www.xda-developers.com/arm-announces-cortex-x-custom-cpu-program/"> Cortex-X1 </a>，这是一款面向2021年移动设备的下一代内核。它的设计理念是打破皮质PPA信封，追求绝对性能。因此，Exynos M6将很难与之竞争。即便如此，三星似乎不会采用Cortex-X1，只会在Exynos 992中采用Cortex-A78 + Cortex-A55组合——尽管它可能会在明年的Galaxy S旗舰中采用。</p>

<p>SARC团队目前仍在为三星系统大规模集成电路设计定制的互连和内存控制器。它也在开发定制的GPU架构，但三星系统LSI <a href="https://www.xda-developers.com/samsung-amd-partnership-hatch-game-streaming-galaxy-s10-5g/">与AMD </a>签署了一项协议，从2021年开始，在未来的Exynos GPUs中使用AMD的下一代(下一代图形架构)RDNA GPU架构。</p>

<p>总的来说，定制CPU核心项目对移动芯片供应商来说是一个启发性的教训，告诉他们什么会出错。SARC CPU团队雄心勃勃，要与苹果竞争，苹果是移动CPU领域无可争议的领导者。不幸的是，它未能与ARM竞争，更不用说苹果了。这些问题本来是可以解决的，但年复一年，SARC的努力落后了一两步，这在三星Galaxy S9的Exynos 9810变种等产品的发货中得到了不利的反映。现在，所有主要的Android移动芯片供应商将从2021年开始使用ARM的库存CPU IP，这一名单包括高通、三星、联发科和海思。这场战斗将与采用Cortex-X1等内核的苹果展开，而不是从头开始设计的定制ARM内核。</p>

<hr/>

<p><strong>来源:<a href="https://www.iscaconf.org/isca2020/papers/466100a040.pdf">三星Exynos CPU架构的演变</a> | Via: <a href="https://www.anandtech.com/show/15826/isca-2020-evolution-of-the-samsung-exynos-cpu-microarchitecture"> AnandTech </a> </strong></p>

 </div>


</div>    
</body>
</html>