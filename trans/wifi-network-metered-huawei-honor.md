# 如何在华为或 Honor 设备上将 WiFi 网络设置为按流量计费

> 原文：<https://www.xda-developers.com/wifi-network-metered-huawei-honor/>

越来越多的家庭宽带互联网服务提供商对他们的服务设置了每月下载上限。有些，如 Comcast，会让你每月多付 50 美元，以忽略他们每月 1TB 的数据上限，但其他人不提供这种服务，他们的服务限制要低得多。无线用户多年来一直在应对数据上限，这就是为什么 Android 会自动将移动数据连接视为计量连接。大多数 Android 设备都允许你将 WiFi 网络设置为计量，但出于某种原因，华为隐藏了这一面向用户的功能。

这对于我们社区中的一些人来说是一件大事，因为有时很难跟踪你的手机在后台使用了多少数据。当 Android 检测到你的手机处于未覆盖的 WiFi 网络时，它会让应用程序尽可能多地使用数据。OTA 更新会自动下载，大量的应用程序和游戏更新也会自动更新，除非您在 Play Store 应用程序中手动关闭。值得庆幸的是，即使像华为这样的 OEM 对您隐藏了这一设置，也有一种简单的 ADB shell 命令来改变这一点的方法。

* * *

## 如何将 WiFi 网络设置为计量

1.  按照这个[之前的教程](https://www.xda-developers.com/install-adb-windows-macos-linux/)让 ADB 在你的设备上启动并运行。
2.  在命令提示符或终端中，执行以下命令:`adb shell`
3.  在命令提示符或终端中键入以下命令，以获取所有保存的 WiFi 网络列表:`cmd netpolicy list wifi-networks`
4.  您将获得一个保存的 WiFi 网络列表，其布尔值为真/假。True =已计量& False =未计量。
5.  因此，从这里，您可以在命令提示符或终端中输入以下命令来更改设置:`cmd netpolicy set metered-network Wireless true`
6.  在我的例子中，我保存的 WiFi 网络的 SSID 是“Wireless ”,这个命令将它从 false 更改为 true(非计量到计量)。
7.  现在，您可以输入我们之前输入的第一个命令来获得您保存的 WiFi 网络的另一个打印输出:`cmd netpolicy list wifi-networks`
8.  它会显示您已经将它从非计量改为计量(在我的例子中)，或者从计量改为非计量(如果您改回来)。

* * *

## 说明

正如我们最近向您展示的大多数 ADB shell 命令教程一样，Android 平台内置了这一特性。在大多数情况下，OEM 和/或运营商要么删除了面向用户的设置，要么根本就没有实施。我们在谷歌的 Pixel 中有这个功能，在 OnePlus 5 上也有。华为已经取消了这个选项，所以这对那些拥有华为或 Honor 设备的人很有帮助。

我们第一次输入的“列出 wifi 网络”命令只显示了我们设备上保存的 WiFi 网络列表。这不仅可以让您查看所有已保存的网络，还可以告诉您是否被指定为按流量计费。我的 WiFi 网络具有 SSID“无线”,但它没有设置为计量，因此它返回“无线”;起初是假的。

然后，我们用“set metered-network”命令来改变这一点，告诉 Android 设备我们希望以哪个无线网络为目标(通过 SSID)。然后我们在后面加一个空格，并在这里设置一个布尔值 true 或 false。我的 WiFi 网络最初没有设置为计量，所以我用那个命令将它改为“true”。然后，当我再次执行“列出 wifi-网络”命令时，它显示了之前列出的相同 WiFi 网络，但现在它是一个计量网络。

如果您想切换回非计量网络，您可以随时返回 ADB shell，将它改回 false。就像所有设置更改一样，这将在重新启动和 OTA 更新后生效，但如果您进行工厂重置，则需要再次执行。