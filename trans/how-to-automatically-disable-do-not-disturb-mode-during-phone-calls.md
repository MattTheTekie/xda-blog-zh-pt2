# 如何在打电话时自动禁用勿扰模式

> 原文：<https://www.xda-developers.com/how-to-automatically-disable-do-not-disturb-mode-during-phone-calls/>

对于像我们论坛上的用户这样的 Android 爱好者来说，收到一个重要的软件更新可能是一件令人兴奋的事情，因为它们通常会带来增强的性能和新功能。虽然一些勇敢的用户正在运行[首个 Android O 开发者预览版](https://www.xda-developers.com/google-announces-android-o-developer-preview-1-available-for-supported-devices/)作为他们的日常驱动程序，但大多数 Nexus 5X、Nexus 6P、谷歌 Pixel 和 Pixel XL 的用户可能仍然会使用 Android 7.1，因为它很稳定。虽然 Android 7.1 引入了 app 快捷方式、键盘 GIF 插入支持、圆形图标框架支持等很多牛逼的新功能，但也引入了一个在一些人心目中相当讨厌的功能。随着 Android 7.1 的推出，出现了一个更新的谷歌手机应用程序，它可以在通话过程中自动将手机切换到[勿扰模式](https://support.google.com/pixelphone/answer/6111295?hl=en)。

 <picture>![](img/0f69ce2b6735de25e24ca0364d8f12bf.png)</picture> 

Automatic Do Not Disturb Mode while in Calls. Screenshot Credits: Corbin Davenport//[Android Police](http://www.androidpolice.com/2016/10/21/android-7-1-feature-spotlight-phone-app-switches-not-disturb-call-new-call-notification/)

具体来说，拨号器应用程序似乎将手机设置为免打扰模式的“仅警报”模式，因此除了您设置的警报之外，没有任何干扰会在您的设备上产生噪音。虽然您确实可以在通话过程中手动关闭免打扰模式，但许多用户发现自动启用免打扰模式非常令人沮丧。事实上，在我上面链接的 Android Police 文章的[评论部分，很多很多人立刻对这个功能产生了警惕。一位用户甚至](http://www.androidpolice.com/2016/10/21/android-7-1-feature-spotlight-phone-app-switches-not-disturb-call-new-call-notification/#comments)[在谷歌的问题跟踪器上开了一个问题](https://code.google.com/p/android/issues/detail?id=226328)谴责这一功能，许多其他用户也加入进来，表达他们对自动免打扰模式的不满。

这个应该是可选的！！！！！我需要通知，即使我在打电话。有一天，当我儿子的保姆给我发短信时，我正在打电话，我需要立即收到那条短信！我本可以挂断电话来处理这件事，而不是在我悠闲地挂断电话的时候。这对那些想要的人来说是好事，但对那些不想要的人来说是无法忍受的。请将此作为一个选项，否则我将不得不把所有的电话都放在扬声器上，这样我就可以盯着屏幕看通知了。

谷歌最终在去年 12 月关闭了这个问题，将其标记为“按预期工作”，因此用户将不得不在谷歌手机应用程序中使用这个功能，或者切换到另一个应用程序。在我被 XDA 成员 gruntyoldbag 指派寻找这个问题的解决方案后，我决定使用我所知道的最好的工具:Tasker 来解决这个问题。看起来修复实际上非常简单。

正如你在上面的截图中所看到的，第一个截图显示了一个自动启用免打扰模式的电话，而第二个截图是我的测试人员启用我的 Tasker 配置文件后发生的事情。忽略截图中显示的 toast 消息，我用它来调试！

无论如何，这里有一个快速的教程，你可以在打电话时自动禁用勿扰模式。与我以前的许多教程相比，这个教程复制起来相当简单，但是如果您更愿意导入 Tasker 概要文件并完成它，我们将像往常一样在本文末尾提供该文件。

* * *

## 打电话时自动禁用免打扰模式

我的教程是基于使用 Tasker，虽然也可能使用你选择的其他 Android 自动化应用程序(虽然我没有使用它们的经验，所以你只能靠自己了)。一旦你安装了 Tasker，我们必须设置它，使 Tasker 可以切换请勿打扰模式。出于某种奇怪的原因，勿扰模式是通过授予应用程序通知访问权限来控制的(是的——这种权限使 Pushbullet 等应用程序能够镜像您的通知)，所以我们必须将该权限授予 Tasker。

只需打开设置应用程序，然后在搜索栏中搜索“通知访问”。在具有通知访问权限的应用程序列表中查找 Tasker，然后点击它以启用它。

一旦完成，是时候制作我们的 Tasker 档案了。对于你的任务专家来说，这是你可以用来复制自己的个人资料描述。如果你不熟悉 Tasker，只需继续阅读一步一步的说明。

### 禁用来电免打扰功能

```
 Profile: Disable Do Not Disturb In Call (62)
Event: Phone Offhook
Enter: Anon (63)
A1: Wait [ MS:0 Seconds:5 Minutes:0 Hours:0 Days:0 ]
A2: Do Not Disturb [ Mode:All ] 
```

打开 Tasker，点击右下角的 **+** 图标添加一个新的个人资料，创建一个新的个人资料。将此配置文件命名为“**禁用来电时勿扰模式**”选择**事件**上下文，然后转到**电话- >电话摘机**。每当 Tasker 检测到我们已经发起了电话呼叫(呼入/呼出，您或接收者已经接受了电话呼叫)时，该事件上下文将触发一个任务。

完成后，Tasker 会要求我们创建一个新任务或将现有任务附加到此配置文件。选择创建一个新的任务，但是不要麻烦给它一个名字。进入任务创建屏幕后，您需要添加以下两个操作:

1.  任务->等待。等待 **5** 秒。
2.  音频->请勿打扰。模式:**全部**。

它的作用是在 Tasker 识别出你在打电话后等待 5 秒钟，然后禁用“请勿打扰”模式。我发现你需要这个等待计时器，因为否则 Tasker 会在 Google Phone 应用程序启用免打扰模式之前禁用它，所以你需要添加这个延迟，以便在 Google Phone 应用程序打开免打扰模式后*禁用免打扰模式。*

* * *

## 下载并导入

像往常一样，下面您可以找到您可以下载和导入的配置文件。只需下载下面的. prf.xml 文件，并将其保存在内部存储的任何位置。然后打开 Tasker，在首选项中禁用初学者模式。回到 Tasker 的主屏幕，长按顶部操作栏中的 Profiles 选项卡。点击出现的“Import”按钮，导航到您保存 XML 文件的位置，并选择要导入的文件。

[**从 AndroidFileHost**](https://www.androidfilehost.com/?fid=745425885120722217) 下载“禁用来电勿扰”配置文件

如果您确实导入了它，请确保返回并在设置中为 Tasker 授予通知访问权限，如本文前面所述。否则，这个配置文件什么也做不了！

试试这个，让我知道它是否适合你。老实说，在 XDA 成员 gruntyoldbag 给我提示之前，我根本不知道这种自动勿扰模式是什么东西。如果你遇到了这样一个恼人的问题，你希望能够得到解决，请随时在 XDA 论坛上给我发消息或者使用列出的电子邮件地址联系我。虽然我可能无法(也不会)帮助您解决个别技术支持问题，但我总是很乐意研究那些似乎影响大量用户的问题，以及那些似乎可以通过 Tasker 轻松解决的问题。

至于这个特殊的问题，尽管许多用户抱怨，谷歌似乎打算保持现状。三星体验软件似乎有一个开关，可以在通话时启用/禁用勿扰模式，所以你要么等待谷歌用这个功能更新手机应用程序，使用另一个拨号应用程序，记得手动禁用通话中的免打扰模式，或者使用我的 Tasker 解决方案。