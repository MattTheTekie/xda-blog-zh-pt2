<html>
<head>
<title>Enable Google Pixel 2's Always on Display on the Nexus 6P, Pixel, &amp; Pixel XL without Root</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在没有Root用户的Nexus 6P、Pixel和Pixel XL上启用Google Pixel 2的始终显示</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/enable-google-pixel-2-always-on-display-on-nexus-6p-pixel-xl/#0001-01-01">https://www.xda-developers.com/enable-google-pixel-2-always-on-display-on-nexus-6p-pixel-xl/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌Pixel 2和Pixel 2 XL是谷歌Pixel智能手机系列的最新智能手机，虽然硬件主要是对上一代Pixel手机的渐进式改进，但软件有几个非常漂亮的新功能。这款手机的<a href="https://www.xda-developers.com/google-pixel-2-tech-emulate-bokeh/">肖像模式功能</a>中使用了新的摄像头技术，名为<a href="https://www.xda-developers.com/how-google-pixel-2-now-playing-works/">的永远听音乐识别功能现在正在播放</a>，以及永远显示功能。不幸的是，这些功能都不会出现在谷歌以前的智能手机上，至少官方不会。我们之前展示了可以通过自定义ROM 启用Pixel 2的Always on Display <a href="https://www.xda-developers.com/enable-google-pixel-2-always-on-ambient-display/">，但是我们最近发现可以在没有root 的Nexus 6P、Pixel和Pixel XL上启用Always on Display<strong>。</strong></a></p>

 




<p/><p><em>图片来源:XDA少年成员<a href="https://forum.xda-developers.com/member.php?u=7322252">炎03</a>T3】</em></p>

<hr/>


<h2 id="always-on-display-can-now-be-enabled-thanks-to-android-8-1-and-substratum">得益于Android 8.1和Substratum，现在可以启用“始终显示”</h2>
<p>之前，我们曾报道过，在任何老款谷歌手机上都无法启用“永远显示”功能。这是因为Google硬编码了这个函数，使得Always on Display总是返回false。Android 8.0 Oreo的源代码下降就是这种情况，但随着<a href="https://www.xda-developers.com/android-8-1-oreo-developer-preview-features/"> Android 8.1 Oreo开发者预览版1 </a>的发布，情况不再如此。</p>





<p>如上面的屏幕截图所示，负责确定是否启用始终显示的函数先前只返回“false”然而，在最新的<a href="https://android.googlesource.com/platform/frameworks/base/+/android-8.0.0_r4/core/java/com/android/internal/hardware/AmbientDisplayConfiguration.java#82">AmbientDisplayConfiguration</a>代码中，它现在会检查一个名为“<a href="https://android.googlesource.com/platform/frameworks/base/+/oreo-dr3-release/core/res/res/values/config.xml#1832">config _ dozealysondisplayavailable</a>的布尔配置值，该值由谷歌设置为在Pixel 2和Pixel 2 XL上为真，但在他们制造的其他手机上为假。</p>

<p>更具体地说，Google使用安装在/vendor/overlay中的一个名为framework-RES _ auto _ generated _ rro的框架覆盖来指定该配置的值。由于这个框架覆盖是基于OverlayManagerService (OMS)的，我们可以创建自己的框架覆盖来<strong>强制config _ dozeAlwaysOnDisplayAvailable在Nexus 6P、Pixel和Pixel XL上返回“true”</strong>。</p>

<p>这是可能的，因为索尼构建的主题框架OMS从Android Oreo开始被原生集成。得益于此，我们可以使用内置的命令来管理和安装我们自己的主题— <a href="https://www.xda-developers.com/android-oreo-rootless-system-theme/">，而不需要root </a>。在这样做的过程中，开发者发现了如何让流行的<a href="https://www.xda-developers.com/andromeda-substratum-custom-themes-oreo/">底层主题管理器</a>在Android Oreo设备上运行。因此，为了让显示器始终工作，<strong>我们将使用Substratum主题管理器及其Andromeda插件</strong>，以便在Nexus 6P、Pixel和Pixel XL上安装我们的特殊框架覆盖。</p>

<p>最后，还有一个我想解决的困惑点——即，我们正在使用通常所说的“主题引擎”来实现一个隐藏的特性。虽然Substratum通常用于安装主题，但称这些主题为“资源覆盖”更准确这是因为这些“主题”指定了替换其目标应用程序的原始资源的值。通常资源覆盖只是替换原始应用程序中的颜色值，但它们也可以针对应用程序资源中的整数、字符串或布尔值。一些现有的底层覆盖使用这个<a href="https://www.xda-developers.com/minimal-lock-screen-rounded-recent-app-more-quick-setting-columns-android-oreo/">来定制锁定屏幕，最近的应用程序屏幕，和快速设置</a>例如。</p>

<p>无论如何，希望你对我们将要做的事情有更好的理解。按照下面的教程，从Pixel 2到第一代谷歌Pixel手机以及Nexus 6P，都可以实现始终显示。</p>

<hr/>
<p class="ad-odd"> </p>


<h2 id="how-to-enable-google-pixel-2-s-always-on-display-feature-on-the-nexus-6p-pixel-and-pixel-xl">如何在Nexus 6P、Pixel和Pixel XL上启用Google Pixel 2的始终显示功能</h2>
<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_14"><p><strong>要求</strong>:</p><ul> <li>Nexus 6P，谷歌Pixel，或者谷歌Pixel XL。Nexus 5X可以工作，但不建议使用，因为它没有有机发光二极管屏幕。</li> <li>Android 8.1奥利奥开发者预览版1。你可以在这里找到固件文件<a href="https://www.xda-developers.com/android-8-1-oreo-developer-preview-1/"/>。</li> <li>Substratum的Andromeda插件的许可证(1.99美元)。没有这个，你将无法安装我们制作的框架覆盖。至少，不容易。</li> </ul> </div></section>
<h3 id="tutorial"><strong>教程</strong></h3>
<p><em>特别感谢XDA初级会员<a href="https://forum.xda-developers.com/member.php?u=7322252"> InFlames03 </a>协助发现这一特性，并对其进行测试，最后提供了一个框架覆盖图供下载。看看他的新<a href="https://play.google.com/store/apps/details?id=baka.sai.oreo">奥利奥</a>和<a href="https://play.google.com/store/apps/details?id=baka.sai.thema">新鲜</a>主题。</em></p>

<ol> <li>设置底层和它的仙女座插件。你可以一路跟随<a href="https://www.xda-developers.com/custom-themes-android-oreo-substratum/">这篇教程</a>直到你完成第1部分。</li> <li>安装安卓文件主机的<a href="https://www.androidfilehost.com/?fid=673791459329060953"> alwaysOn-enabler APK或谷歌Play商店的</a><a href="https://play.google.com/store/apps/details?id=baka.sai.pixelEnabler"> Pixel Enabler应用</a>。前者只是实现这一功能的基本叠加，而后者将在未来包含更多功能。</li> <li>打开底层，在主题列表中寻找Sai的“<strong> Always On Enabler </strong>”。轻敲它。</li> <li>点击“<strong>选择以切换所有覆盖图</strong></li> <li>点击<strong>浮动漆滚筒按钮</strong>。</li> <li>选择<strong>建立&amp;启用</strong></li> <li><strong>重启</strong>。</li> <li>打开设置-&gt;显示。展开“<strong>高级</strong>类别，点击“<strong>环境显示</strong></li> <li>您应该会看到一个“<strong>始终打开</strong>”开关。<strong>禁用并重新启用</strong>。享受永远展示！</li> </ol>

<p>或者，您可以观看下面的视频，该视频介绍了启用始终显示所需的基本步骤。该视频是由XDA资深会员eqbirvin在他运行Android 8.1 Oreo的Google Pixel XL上拍摄的。<strong>注意，即使视频中没有显示重启，我们仍然建议你重启。</strong></p>

 
<p class="w-rich w-youtube" id="_y5r_HKNKFI">  </p>


<h3 id="caveats">警告</h3>
<p>Nexus 6P、Pixel和Pixel XL默认情况下不提供始终显示功能，因为它们的屏幕没有像Pixel 2的屏幕那样正确地调整到低功耗休眠状态。因此，使用这种覆盖来实现始终显示可以被认为是一种黑客行为，因为它并非没有警告。我们已经很长一段时间没有使用它来测量功耗或其他潜在问题，但目前为止我们遇到了以下问题:</p>

<ul> <li>按下电源按钮从“始终打开”屏幕直接唤醒到锁定屏幕不起作用。你必须按两次电源按钮。</li> <li>双击从“总是打开”屏幕直接唤醒到锁定屏幕不起作用。你必须双击两次(4次点击)。</li> <li>有时，在解锁阶段可能会弹出一个灰色屏幕。</li> </ul>

<p>如果使用指纹扫描仪从“始终显示”屏幕解锁手机，则不会出现上述任何问题。如果你确实遇到了上面列出的任何问题，一个简单的重新锁定和解锁与您的指纹可以解决这个问题。</p>
<p class="ad-even"> </p>


<h2 id="conclusion">结论</h2>
<p>我们怀疑上面列出的问题与显示器不能正确地从“始终显示”状态转换到“屏幕显示”状态有关，我们正在研究潜在的修复方法。这些问题可能永远不会得到解决，或者可能会在未来的开发者预览版中得到解决。我们最大的恐惧是谷歌看到我们在做什么，并且总是显示硬编码。我们希望这不会发生，但这肯定是有可能的。现在，尽你所能享受谷歌Pixel 2的永远显示功能吧！</p>

 </div>


</div>    
</body>
</html>