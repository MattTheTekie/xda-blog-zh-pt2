<html>
<head>
<title>Galaxy Note 3 Android 5.0 Leak Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Galaxy Note 3 Android 5.0泄露分析</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/analysis-of-the-galaxy-note-3-android-5-0-leak/#0001-01-01">https://www.xda-developers.com/analysis-of-the-galaxy-note-3-android-5-0-leak/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p>当我第一次听说<a href="http://forum.xda-developers.com/galaxy-note-3/general/lollipop-ota-note-3-n900-started-t2973773" target="_blank">用于<a href="http://forum.xda-developers.com/galaxy-note-3" target="_blank"> Galaxy Note 3 </a> (SM-N900)的Android 5.0棒棒糖在越南</a>泄露时，我犹豫要不要安装它。我对我高度改进的定制ROM很满意，这给了我一个比Note 3的传统TouchWiz配置更好的性能提升。我禁用了<a href="https://ssrg.nicta.com.au/publications/papers/LeSueur_Heiser_10.pdf" target="_blank"> DVFS </a>，超频了我的CPU，更改了内核，切换了CPU控制器，并设置了每个应用程序的配置文件，以确保我能充分利用我手机强大的Exynos 5420八核处理器。但是我几个月前留下的闪光灯癖又回来了，并最终促使我在手机上安装这个新版本。</p>

  
<p>恢复是一个比简单地刷新备份稍微复杂的过程，因为它包括几个额外的步骤，比如将引导程序切换回Kit-Kat。我想我会尝试一下，然后回来，跺着脚，回到我的功能性<a href="http://forum.xda-developers.com/xposed/xposed-installer-versions-changelog-t2714053" target="_blank">曝光</a>设置，主题美学，高级模块和我所有的性能调整。</p>

<p>但是我很快发现没有什么理由回去。我对TouchWiz的许多抱怨似乎都得到了解决。虽然新的美学不是我见过的最好的，但它们肯定比TouchWiz以前迭代的旧姜饼外观要好。但是<a href="http://www.xda-developers.com/tag/samsung" target="_blank">三星</a>似乎专注于他们单一的，最大的，最受批评的错误:<strong>通用UI性能</strong>。</p>

<p>我将这样开始我的分析:我共同驾驶一辆Nexus 5。买下TouchWiz后，我再也感觉不一样了。美丽、普通的黑色平板与生俱来的速度和反应有一种魔力。现在，在这个最新版本之后，TouchWiz似乎不只是在现实世界的使用中与Nexus 5的Lollipop相匹配——在许多方面，<b>它超过了它。</b></p>

<p>现在先不要拿出干草叉。我会向你提供细节和分析，说明为什么会这样，这得到了我过去几天进行的研究的支持，你将能够亲眼目睹。废话不多说，让我们开始吧:</p>

 
<h2 id="benchmarks"><b>基准</b></h2>
<p>现在，当我安装一个新的ROM时，我总是做的第一件事就是做一个基准测试。对于那些不知道这个概念的人来说，这是对你手机的一个(或多个)硬件组件进行的标准化压力测试，以获得在不同设备上可通用的结果。然而，基准测试并不总是代表真实的性能，因此，如果您想在本分析的后面看到真实的性能评论，请有所保留或跳过它。</p>

<p>5个月前，当我在Nexus上安装了<a href="http://developer.android.com/preview/index.html" target="_blank">开发者预览版</a>时，我没有看到太多的性能提升，我运行的基准测试只反映了效率的小幅提升。AnTuTu基准是目前最流行和最有参考价值的基准之一。它是首批试图打击原始设备制造商(如<a title="Disable Samsung’s Benchmark Cheating with Xposed" href="http://www.xda-developers.com/android/disable-samsungs-benchmark-cheating-with-xposed/" target="_blank">、三星</a>等)通过各种作弊技术人为夸大分数的公司之一，多年来它一直在不断修正自己，以适应硬件的改进。我自己在棒棒糖上的Nexus 5在这次测试中获得了适度的<b> 37，636 </b>，比我过去用<a href="http://forum.xda-developers.com/google-nexus-5/development/rom-omnirom-nexus-5-hammerhead-t2522784" target="_blank"> OmniROM </a>和使用<a href="http://forum.xda-developers.com/google-nexus-5/orig-development/kernel-franco-kernel-r53-t2508284" target="_blank"> Franco内核</a>获得的大约<b> 33，000 </b>的旧分数有了显著提高。这种配置让我对UI的速度和流畅度并不陌生，我想任何单独尝试过这些作品的人都可以证明它们的惊人之处。然而。我的Galaxy Note 3的涨幅甚至更大。从相似的34，000分中，它赢得了超过33%的可观收益，达到44，046分。这个分数是一个巨大的进步，特别是考虑到即使是总部位于高通的Note 3 (SM-N9005)也一直比Exynos版本表现更好，并且仍然只有大约相同的分数。</p>

<p>由于三星因在基准测试中作弊而臭名昭著，只要基准测试应用程序打开，就运行一段代码<a href="http://arstechnica.com/gadgets/2013/10/galaxy-note-3s-benchmarking-adjustments-inflate-scores-by-up-to-20/">最大化时钟速度</a>，我确保在我的截图中显示我在多个基准测试中运行了相同的测试。在我的测试中，它们都没有显示频率飙升至默认的最大值1.9ghz，事实上，它很容易保持在250mhz，这是Exynos的最低时钟速度。稍后将详细介绍这个数字。三星已经停止作弊。<b>如果分数膨胀到20%，理论上的净性能增益可能是63%。</b>这不太可能是完全真实有效的陈述，因为这样的优化水平是疯狂的。但是基准测试表明<i>做了一些事情</i>来解决TouchWiz表现的老笑话。这里有一些优化，而且不仅仅是Lollipop对Kit-Kat的默认改进。</p>

<p>截图:</p>

<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-02-05-45-2501.png"/></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2014-12-28-18-23-17.png"/></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-01-19-23-45.png"/></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/IMG-20141228-WA0004.jpg"/></p>



<p><strong><strong/>T3】</strong></p>
<p class="ad-odd"> </p>


<h2 id="real-world-performance"><b>真实世界性能</b></h2>
<p>凭借其臃肿且未经优化的旧操作系统，三星向我们展示了基准测试并不总是完美的性能衡量标准。他们谈论的更多的是硬件而不是软件，尤其是软件最重要的直接目标:用户体验。现在，从我启动它的那一刻起，我就注意到动画的运行是如此的流畅——几乎每一方面都是60帧。基准测试的性能提升在现实世界中有着直接的影响，这一点非常明显，在禁用S-Voice并运行基准测试后不久，我将这款设备与我的Nexus 5进行了对比，结果让我大吃一惊。TouchWiz现在<b>和</b>一样快，反应也一样快，甚至在图形处理器任务上<i>更快</i>，比如绘制项目。这将在底部提供的最终视频对比摊牌中看到。</p>

<p><b>免责声明:</b> <em>以下片段是使用第三方屏幕录制应用程序录制的。这些应用程序通常对GPU有很大的压力。下面的剪辑都是以未压缩的720p分辨率捕获的，比特率适中，使其清晰。尽管有这种实质性的额外压力，你很难找到丢帧，更不用说TouchWiz之前迭代的侮辱性口吃了。因此，下面的片段可能不能代表UI的整体流畅度，但我相信您会看到性能的提升非常明显。</em></p>

<p>在这些剪辑中，我没有使用TouchWiz启动器——不仅仅是因为我不能忍受它的视线，还因为它可能对与非TouchWiz设备的标准化比较没有用处。</p>

<h3 id="application-transitions">应用过渡</h3>
<p>下面的片段展示了应用程序之间的快速转换。应用程序不仅可以立即从内存中加载，还可以立即被缓存。我想任何有过TouchWiz设备的人都会注意到，在某一点或另一点上，home键并不像普通android那样反应灵敏。现在实际上不存在延迟，您将在最终的对比视频中更好地看到这一点。启动应用程序可能会对GPU造成很大负担，通过开发人员设置的GPU渲染配置文件选项，您可以亲眼看到当需要在屏幕上绘制应用程序时，GPU活动如何迅速激增。以下是关于这个设置的更多信息。</p>

<p>所有应用程序的总体响应都是一致的，即使是像dialer这样的三星应用程序，在Kit-Kat上打开也很麻烦。稍后在这个分析中，在底部的最终对比视频中，你会看到它在Nexus 5股票拨号器应用程序之前完成了完全加载。总而言之，应用程序启动和home键的响应速度是TouchWiz最大的性能罪魁祸首，它终于被流放了。</p>

<p>http://youtu.be/LUwaSwm2qm4</p>

<h3 id="gpu-stutter">GPU口吃</h3>
<p>TouchWiz面临的第二大问题是口吃，它破坏了列表滚动的流畅性，尤其是在带有绘制元素(如图片或形状)的长列表中。在下面的剪辑中，你可以看到新版本的TouchWiz具有<i>丝滑的</i>滚动(别忘了这是通过高质量的屏幕捕捉实现的，增加了芯片组的开销压力)。</p>

<p>底部是什么？就是之前提到的GPU渲染概要文件。它是这样工作的:横条横跨水平轴，代表每个被显示窗口的最后128帧。每一列都给出了渲染每一帧所需时间的估计值，这意味着当GPU的工作强度较大时，条形图会变得更高。每个条的3种颜色分别是蓝色表示绘制过程(通常最短，在底部)，红色表示每一帧的处理，橙色表示执行(将每一帧发送到合成器所需的时间)。因此，当出现口吃时，可以在持续滚动列表期间的突然峰值中看到，其现实世界的后果是一帧(或更多)的丢失。如果你仔细观察视频，这些条只在a)进入新子窗口时绘制大量新元素(如点击查看应用程序的详细信息)或b)列表到达底部并必须加载新元素时才会出现尖峰。你会发现，在这些点上，橙色明显多于红色，而帧下降通常表现为红色多于橙色。简而言之:即使是像Playstore这样巨大的充满元素的列表也能承受极快的滚动而不会跳帧。TouchWiz又得一分！</p>

<p>http://youtu.be/MFxMxQ5bjW0</p>

<p>同样令人印象深刻的是同时运行多个app时系统的稳定性。借助多窗口功能，您可以同时打开多达7个应用程序。我测试了在同一个窗口事件上运行5个不同应用程序的性能。尽管RAM会因此而被严重破坏，但列表滚动仍然流畅，在windows上的绘制和重绘是即时的，应用程序之间的切换也没有延迟。每一个应用程序内的动作都完全正常。我想拖延这件事，但它不让我拖延。</p>
<p class="ad-even"> </p>


<h2 id="memory-temperature-and-throttling-and-battery"><b>内存、温度和节流以及电池</b></h2>
<p>虽然处理能力得到了增强，UI性能得到了优化，但系统的其余部分也有一些显著的变化。</p>

<p>首先，TouchWiz的RAM占用已经严重减少。经过一个工作日的使用，在<b> 1.4gb </b>和<b> 1.7gb </b>之间的空闲内存并不少见。在我以前的ROM上，我通常有大约<b> 950mb </b>到<b> 1gb </b>的空闲内存。这是因为TouchWiz在这方面已经进行了一定程度的优化(尽管没有性能所显示的那么显著，这很奇怪)。在截图中，你可以看到1.7gb的空闲内存，我通常在启动几个小时后获得。随着时间的推移，这个数量会降低，因为三星的系统应用程序会缓存在内存中，一些应用程序如儿童模式不能被强制关闭。虽然图中的操作系统占用了少得可怜的(对于TouchWiz)<b>575 MB</b>RAM，但在3天后，我看到它占用了多达~ <b> 940mb </b>的RAM，这更符合我们所知的旧TouchWiz和<span>不</span>喜欢的旧touch wiz。尽管如此，我当时还有600mb的后台应用，剩下的1.1gb足以保证网速不会下降。</p>

<p>然而，如果你是一个性能迷或只是偏执狂，你不必重新启动以获得完整的性能:进入最近面板中的内存按钮，在RAM下单击“清除内存”。虽然这不一定会释放你的内存，就像你重新启动它一样，但在TouchWiz的所有迭代中，它似乎会重新启动它的速度。但同样，这是不必要的，因为即使有1.1gb的空闲RAM，设备也能很好地运行。在同样的条件下，老TouchWiz就没这么好了。</p>

<p>最后一个音符<i> ( </i> <i>我又来了！)</i>，Nexus 5的ROM要轻便得多，我的通常有大约<b> 450mb </b>的系统内存和<b> 1gb </b>的空闲内存。下面是我用来比较的截图。</p>

<p><strong><strong><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2014-12-28-13-28-05.png"/></strong>T4】</strong></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-01-23-45-13.png"/></p>



<p/>

<p/>

<p>还有一点引起了我的注意，那就是手机似乎从来没有停止过，即使是在漫长的沥青会议或T2现代战争会议期间。真正让我震惊的是，我目前居住在阿根廷，每年这个时候都以炎热的夏季闻名。去年夏天太糟糕了，因为我的设备受到的热量，三星积极的DFVS在慢性基础上抑制了性能——所以我不得不禁用它。现在，尽管由于房间里没有空调，我度过了一个个不眠之夜，但这款设备似乎在平均35摄氏度(95华氏度)的<b>温度下依然相当寒冷。出于对CPU的好奇，我对时钟速度分布进行了基准测试，发现大部分时间该设备都处于唤醒状态，并以最低频率运行。这对于大多数安卓手机来说并不罕见，但我的旧ROM似乎很喜欢坐在舒适的500mhz。同样有趣的是，处理器<b>仅在总计算时间</b>的3%期间达到其最大1.9ghz。我认为这可能是一个好迹象，表明操作系统在某些层面上变得更容易计算，无论是由于谷歌还是三星。</b></p>

<p><strong><strong><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-02-01-06-14.png"/></strong>T4】</strong></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-02-01-06-53.png"/></p>



<p/>

<p>最后，现代智能手机最典型的竞争:<b>电池寿命</b>。由于这将是非常轶事，我不建议你相信我的话，因为不像在其他点上，我不能给你提供坚实的数字证据或文件。但我看到电池寿命大幅增加。我的旧ROM，尽管有<a href="http://forum.xda-developers.com/xposed/modules/mod-nlpunbounce-reduce-nlp-wakelocks-t2853874" target="_blank">放大</a>曝光模块，以减少唤醒锁到最低限度，挣扎着待机时间，它在这种状态下每小时消耗2.5%。这主要是因为这种电池已经被一个电力用户滥用了1年零3个月，而且由于我国疯狂的电池价格，我总是犹豫要不要更换它。对于我来说，在闪烁这个之前，按时用3.5到4个小时的屏幕结束一天并不罕见。如果我想连续用完我的手机，它只会持续5.5小时。下面的截图显示了我在一次会议上实现了一个非常适度的<b> 7小时屏幕时间，总共8.4小时</b>远离充电器。我过去的几天充满了这样的日子。考虑到这个锂离子士兵的疲惫，我个人对此非常满意。但同样，我在这一点上缺乏证据，电池因用户而异，所以不要相信我的话。电池充电仍然保持在每小时65%的水平——如果这对你来说似乎很多，请记住，由于其USB 3.0电缆，Note 3使用了不同于普通手机的充电技术。尽管如此，我还是提供了一个截图。</p>

<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-02-00-10-24.png"/></p>



<p><a href="http://www.xda-developers.com/wp-content/uploads/2015/01/Screenshot_2015-01-02-01-10-08.png"/></p>



<p/>
<p class="ad-odd"> </p>


<h2 id="conclusion"><b>结论</b></h2>
<p>让我们总结一下我们所学到的:</p>

<ul> <li>安兔兔基准价格至少上涨了33%</li> <li>三星似乎不再在基准测试中作弊</li> <li>应用程序的启动和打开速度与普通安卓相当</li> <li>Home键延迟不再出现——你一输入命令就返回到主屏幕</li> <li>列表滚动现在很流畅，几乎没有停顿</li> <li>尽管增加了所有功能，但系统内存占用更少</li> <li>CPU频率趋向于最小值，就像在更优化的rom中一样</li> <li>健康的温度，即使对超级用户也是如此</li> <li>由于DVFS不太活跃或不存在，没有热节流</li> <li>电池寿命的显著延长</li> </ul>

<p>TouchWiz的表现有了明显客观的提升。基准测试讲述了这个故事，但它的真实证据是在现实世界的经验。动画流畅，反应灵敏，总体感觉就像一个完全不同的ROM。正如我前面提到的，作为一个flash爱好者，我对速度提升并不陌生。我一看就知道。但在我看来，数字、基准、一般理论和数字证据同样重要，我测试、研究、钻研、记录、捕获或计算的每一件事都表明，就纯粹的优化而言，这款ROM几乎在每个方面都更好。</p>

<p>现在，我敢肯定，随着这个ROM的推出，以及更多的棒棒糖三星设备的出现，人们将参与各种新的关于优化合法性的辩论，它们的背景，以及我个人的预测:侦探小说。我不能有把握地证明这都是三星做的。谷歌应该得到很多信任，因为他们最终是Android和Lollipop的主要开发者，如果说Project Butter、TRIM、Kit-Kat和现在的ART向我们展示了什么，那就是谷歌每年都在更加努力地工作，尽可能多地将Android体验带到尽可能多的手机上。但我认为我们也应该信任三星。一些改进简直是疯狂的，甚至Nexus 5也没有从Lollipop明显和纯粹的计算能力或优化中受益这么多。如果我们考虑到我甚至没有提到这个ROM配备了各种新功能，甚至是Note 4惊人的多窗口功能，那么操作系统在RAM上看起来更轻，总体上更快的事实也是一个壮举。</p>

<p>不过，这款操作系统也有很多缺点。这一设计仍未达到谷歌的水平，与材料设计的原始愿景相比也相形见绌。存在应用程序不一致的问题(尽管谷歌也是如此)，而且系统功能和工作仍然缺乏可访问性和直观性。此外，三星还增加了<b>甚至更多的臃肿</b>，不可卸载的应用程序，如<i>彭博加</i>、<i>旅行顾问</i>，以及一堆无用的三星克隆软件(你可以禁用大部分臃肿，但遗憾的是不能禁用儿童模式)。我在一些棒棒糖上发现了几个bug(虽然，因为是5.0而不是更高版本，三星似乎代表谷歌做了一些bug清理)，比如锁屏中令人讨厌的自动亮度不一致。</p>

<p>虽然TouchWiz在设计部门还有很长的路要走，但我们要记住，它也带来了许多谷歌自己在AOSP版本中采用的软件创新。甚至像toggles和panel sliders这样的东西也已经有了存货，我完全期待Google在下一次迭代中实现多窗口。我认为，每年，三星的仇恨变得越来越不公正和不合理。因此，我认为我们都应该看到积极的一面，并注意到他们似乎在倾听消费者的意见。Android的美妙之处在于选择，我很高兴TouchWiz和几乎每个OEM厂商的皮肤一样，正在成为更好的皮肤。让我们停止无意义的火焰战争。听谷歌:<i>在一起，不一样的</i>。</p>

<p>我将把我自己的Note 3和我2014年购买的最好的产品Nexus 5进行速度测试比较。他们说一张图胜过千言万语，所以这个视频的243万字不应该被轻视。</p>

 
<p class="w-rich w-youtube" id="-PEFwlxPP84">  </p>

</div>


</div>    
</body>
</html>