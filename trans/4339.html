<html>
<head>
<title>Several Vulnerabilities Found in Common Android IDEs Including Android Studio, IntelliJ IDEA, and Eclipse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>在包括Android Studio、IntelliJ IDEA和Eclipse在内的常见Android IDEs中发现了几个漏洞</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-studio-eclipse-itellij-parsedroid-vulnerability/#0001-01-01">https://www.xda-developers.com/android-studio-eclipse-itellij-parsedroid-vulnerability/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>当我们想到Android漏洞时，我们通常会想到一个零日漏洞，该漏洞利用一些过程来提升权限。这可以是任何东西，从欺骗您的智能手机或平板电脑连接到恶意WiFi网络，或允许代码从远程位置在设备上执行。然而，最近发现了一种新的Android漏洞。它被称为ParseDroid，利用了包括Android Studio、IntelliJ IDEA、Eclipse、APKTool、Cuckoo-Droid服务等开发工具。</p>

  
<p>然而，ParseDroid并不仅仅局限于Android的开发者工具，这些漏洞已经在程序员目前使用的多个Java/Android工具中被发现。不管你使用的是可下载的开发者工具还是在云中工作的工具，<a href="https://research.checkpoint.com/parsedroid-targeting-android-development-research-community/"> Check Point Research </a>已经在最常见的Android和Java开发工具中发现了这些漏洞。一旦被利用，攻击者就能够访问开发人员工作机器的内部文件。</p>

 
<p class="w-rich w-youtube" id="w8Lg8ptpVpQ">  </p>


<p>Check Point Research首先对最流行的第三方Android应用逆向工程工具(APKTool)进行了一些挖掘，发现其反编译和构建APK功能都容易受到攻击。在查看源代码后，研究人员设法确定了一个可能的XML外部实体(XXE)漏洞，因为APKTool的配置XML解析器在解析XML文件时没有禁用外部实体引用。</p>

<p>一旦被利用，该漏洞会暴露APKTool用户的整个操作系统文件系统。反过来，这可能允许攻击者通过使用利用XXE漏洞的恶意“AndroidManifest.xml”文件来检索受害者PC上的任何文件。一旦发现该漏洞，研究人员就会查看流行的Android IDEs，并发现只需加载恶意的“AndroidManifest.xml”文件作为任何Android项目的一部分，ide就会开始吐出攻击者配置的任何文件。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Credits: Check Point Research&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="ParseDroid" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png" src="../Images/cf59a15b125e9ff3852395443a5366f3.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-1024x506.png"/> </picture> <figcaption class="body-img-caption">Credits: Check Point Research</figcaption> </figure> </div>


 </div>


<p>Check Point Research还展示了一个潜在影响大量Android开发人员的攻击场景。它通过将包含XXE有效载荷的恶意AAR (Android归档库)注入在线存储库来工作。如果受害者克隆了存储库，那么攻击者就可以从受害者的操作系统文件系统中访问潜在的敏感公司财产。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Credits: Check Point Research&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="ParseDroid" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg" src="../Images/f52978bdf1c84067186e6838860d89c7.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-2.jpg"/> </picture> <figcaption class="body-img-caption">Credits: Check Point Research</figcaption> </figure> </div>


 </div>


<p>最后，作者描述了一种方法，通过这种方法他们可以在受害者的机器上执行远程代码。这是通过利用APKTool中名为“APKTOOL.YAML”的配置文件来实现的。该文件有一个名为“unknownFiles”的部分，用户可以在其中指定将在APK重建期间放置的文件位置。这些文件存储在受害者机器上的“未知”文件夹中。通过编辑保存这些文件的路径，攻击者可以在受害者的文件系统中插入他们想要的任何文件，因为APKTool不会验证从APK中提取未知文件的路径。</p>

<p>攻击者注入的文件会导致在受害者的机器上完全远程执行代码，这意味着攻击者可以通过手工创建恶意制作的APK并让受害者尝试解码然后重建它来利用安装了APKTool的任何受害者。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Credits: Check Point Research&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="ParseDroid" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png" src="../Images/16607879c43879a3c07c7b740fb2bdc7.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2017/12/ParseDroid-3.png"/> </picture> <figcaption class="body-img-caption">Credits: Check Point Research</figcaption> </figure> </div>


 </div>


<p>由于上面提到的所有ide和工具都是跨平台和通用的，利用这些漏洞的可能性很高。令人欣慰的是，在联系了这些ide和工具的开发人员之后，Check Point Research已经确认这些工具不再容易受到这种攻击。如果您运行的是这些工具的旧版本，我们建议您立即进行更新，以防止ParseDroid式的攻击。</p>

<hr/>

<p><a href="https://research.checkpoint.com/parsedroid-targeting-android-development-research-community/"> <strong>来源:查点研究</strong> </a></p>

 </div>


</div>    
</body>
</html>