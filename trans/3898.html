<html>
<head>
<title>Magisk Version 13 Coming to Stable Branch, New Features &amp; Compatibility</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Magisk版本13进入稳定分支，新功能和兼容性</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/magisk-13-stable-branch/#0001-01-01">https://www.xda-developers.com/magisk-13-stable-branch/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>经过一个多月的测试版测试，XDA承认贡献者和开发者<a href="https://forum.xda-developers.com/member.php?u=4470081"> topjohnwu </a>的Magisk v13正在向稳定分支迈进。稳定的v13版本将带来Android O兼容性、统一的二进制文件以及一系列错误修复和对所有先前测试版的改进。</p>

  
<p>正如<a href="https://forum.xda-developers.com/member.php?u=4470081"> topjohnwu </a>在<a href="https://forum.xda-developers.com/showpost.php?p=72976777&amp;postcount=2698">的论坛帖子</a>中提到的，Magisk的新稳定版本将在几小时后上线。因此，Magisk的beta线程现已关闭，因为不再需要它。该线程将在下一个测试版到来时开放，但在此之前，稳定版的<a href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445">线程将作为主线程继续运行。</a></p>

<p>最新版本的官方和完整的变更日志还没有发布，但是我们可以跟踪以前测试版中发生的变化。主要亮点是与最新版本的Android O兼容，以及将MagiskSU、magiskhide、resetprop和magiskpolicy合并为一个统一的二进制文件。现在已经支持addon.d survival，默认情况下magiskhide也应该是启用的。Magisk v13还需要最新的Magisk Manager应用程序，该应用程序支持新的Magisk统一二进制文件，并为SafetyNet增加了基本的完整性检查。</p>

<p>由于谷歌Play商店不再提供Magisk Manager，你需要前往<a href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445">论坛主题</a>获取最新版本。或者，你也可以<a href="https://labs.xda-developers.com/store/app/com.topjohnwu.magisk">通过我们自己的XDA实验室</a>安装MagiskManager。我们会尽快在这里附上完整的更新日志，所以请继续关注论坛！</p>

<hr/>

<h3 id="update"><span> <strong>更新:</strong>T3】</span></h3>
<p>稳定分支获得版本13.1作为它的最新版本。由于v12.0和v13.x+之间的巨大差异，很多东西不再向后兼容。停留在旧版本上会导致您错过大量的修复和改进。</p>

<p>这次更新还带来了新的Magisk模块模板v4，这反过来又带来了正确的Android O处理和许多闪烁的修复。flash脚本中的命令现在大大减少了，只剩下基本命令和函数调用。该脚本现在依赖于正确的Magisk v13.1安装，因为busybox不再捆绑。由于这一变化以及更新帖子、<strong>中提到的其他变化<a href="https://forum.xda-developers.com/showpost.php?p=72979751&amp;postcount=23">，Magisk模块在没有/data access </a></strong>的自定义恢复中不再可刷新，因此您将需要一个带有/data access的正确配置的恢复，或者必须在Magisk Manager本身中刷新。管理器的未来版本将过滤掉模板版本低于v4的repo上的模块，因此要求开发人员尽快更新他们的模块！</p>

<p>以下是Magisk v13.1的官方变更日志:</p>

<ul> <li>[常规]将MagiskSU、magiskhide、resetprop、magiskpolicy合并为一个二进制文件</li> <li>[常规]添加Android O支持(在DP3上测试)</li> <li>【通用】从系统中动态链接libselinux.so、libsqlite.so来大大减小二进制文件的大小</li> <li>[常规]删除捆绑的busybox，因为它会引起很多问题</li> <li>[常规]解锁所有块设备以获得读写支持，而不仅仅是emmc(只是认为并非所有设备都使用emmc lol)</li> <li>[脚本]通过flash脚本中的magisk二进制文件运行所有ext4映像操作</li> <li>[脚本]更新了脚本以使用magisk本地命令来提高兼容性</li> <li>[脚本]添加addon.d生存支持</li> <li>【脚本】介绍util_functions.sh，用作各种安装的全局shell脚本函数源</li> <li>[MagiskBoot]将引导修补程序逻辑移动到MagiskBoot二进制文件中</li> <li>[MagiskSU]不会为每个请求派生新进程，而是添加新线程</li> <li>[MagiskSU]增加了多用户支持</li> <li>[MagiskSU]引入新的超时队列机制，防止编写不良的SU应用程序影响性能</li> <li>[MagiskSU]多个设置从属性检测移到数据库</li> <li>[MagiskSU]添加名称空间模式选项支持</li> <li>[MagiskSU]添加主安装选项</li> <li>【resetprop】更新到最新AOSP上游，支持道具从5.0到Android O</li> <li>[resetprop]重命名了所有函数，以防止从外部libc调用函数</li> <li>[magiskpolicy]从官方SELinux repo更新了libsepol</li> <li>【magiskpolicy】增加了xperm补丁支持(为了让Android O正常工作)</li> <li>[magiskpolicy]更新了Android O和Liveboot支持的规则</li> <li>[magis hide]删除伪许可模式，直接隐藏许可状态</li> <li>[magis hide]删除不可靠的列表文件监视器，更改为守护程序请求模式</li> <li>[magis hide]magis hide现在默认启用</li> <li>[magis hide]更新卸载策略，在SafetyNet中传递CTS！</li> <li>[magis hide]添加更多隐藏道具</li> <li>[MagiskHide]删除后台MagiskHide守护进程，生成用于卸载目的的短生命周期进程</li> <li>抛弃了基于shell脚本的挂载，使用合适的C程序来解析和挂载文件。速度显著提高</li> </ul>

<p>以下是Magisk管理器的官方变更日志:</p>

<ul> <li>v5.0.4</li> <li>v5.0.3<ul> <li>修正了安卓系统启动时的错误</li> <li>适应Android O广播限制:在Android O上禁用更新时重新验证应用程序</li> </ul> </li> <li>v5.0.2<ul> <li>重写zip签名部分，从回购下载的zip将被正确签名和调整为自定义恢复</li> </ul> </li> <li>v5.0.1<ul> <li>添加命名空间模式选项</li> <li>修正了经理OTA系统的一个错误</li> </ul> </li> <li>v5.0.0<ul> <li>支持新的Magisk统一二进制文件</li> <li>正确处理应用程序安装/卸载根管理问题</li> <li>添加多用户模式支持</li> <li>添加应用程序升级重新认证功能</li> <li>为安全网添加基本的完整性检查</li> <li>将安装片段和状态片段合并到Magisk片段中</li> <li>修复主题切换故障</li> <li>更新翻译</li> </ul> </li> </ul>

<p/>

<p>你安装了最新版本了吗？请在下面的评论中告诉我们你的经历！</p>

<hr/>

<p><a href="https://forum.xda-developers.com/apps/magisk/official-magisk-v7-universal-systemless-t3473445"> <strong>在我们的社区应用论坛中查看Magisk！</strong> </a> <a href="https://labs.xda-developers.com/store/app/com.topjohnwu.magisk"> <strong>通过XDA实验室下载Magisk Manager！</strong> </a></p>

 </div>


</div>    
</body>
</html>