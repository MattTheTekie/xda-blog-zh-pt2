# XDA 神话终结者:利纳罗 4 . 7 . 4 vs GCC 4.7

> 原文：<https://www.xda-developers.com/xda-myth-busters-linaro-4-7-4-vs-gcc-4-7/>

优化工具链的重要性是 Android 开发领域最热门的话题之一。你们中的许多人可能听说过 GCC 和 Linaro，这是这类项目中最大的两个。GCC 是 1987 年发行的老手，而 Linaro 是一个相对年轻的球员，只有四岁。

让我们先深入了解一下这两个项目的历史。正如我前面所说，GNU 编译器集合是旧的。多年来，它被用来编译各种项目，包括 Android。Google 决定使用 4.6 和 4.7 版本作为他们的默认工具链，我想在这一系列测试中重点关注 4.7 版本。

Linaro 于 2010 年推出，并针对 ARM 架构进行了优化。当然，ARM 被用于绝大多数基于 Android 的智能手机和平板电脑。你可以发现 Linaro 是一个用于编译内核或整个 rom 的工具链，许多开发人员声称这个工具链比 GCC 更快、更强大。

受我们的开发者 Admin Pulser_G2 的启发，我决定尝试一下这个神话，看看这些说法是否真实。为此，我首先下载了 AOSP 源代码。我使用谷歌的默认预构建集为我的 Nexus 4 构建了一个目标。在*制作 otapackage 之后，*我得到了 183115481 字节的 zip 文件准备闪存。之后，我下载了 Linaro 4.7.4 工具链并替换了*pre builds/GCC/Linux-86*中的 GCC。我执行了必要的更改来设置优化级别 O3。由于 AOSP 只支持预构建的内核(没有修改)，我用 Linaro 自己构建了一个内核，并用自己的 blob 替换了 mako-kernel 中的内核。

下面你可以看到两个结果文件。正如您所看到的，Linaro 归档文件稍微大一些，所以这个工具链实际上对 bin 和 xbin 文件夹做了一些事情。内核文件本身也更大。

但是文件大小并不是最重要的。相反，让我们把重点放在性能上。为了衡量这一点，我使用了 AnTuTu 基准。为了提高精确度，我将每个测试运行三次。如下图可以看出，差别还是蛮大的。然而，我不会过分迷信这些测试，因为每次测试的结果都不一样。也就是说，Linaro 比 GCC 好几个点——但是 AnTuTu 没有你想象的那么可靠。

**GCC**

**利纳罗**

使用 3DMark 执行了以下测试，以了解工具链是否会影响图形性能。这种差异甚至比安图图更显著。使用 GCC 你可能会获得很少的 FPS，但是使用 Linaro 整体流畅度会更好。分数也高了一点。

**GCC**

**利纳罗**

最后的测试是使用游戏《沥青 8:空降》进行的。下面你可以看到在两个工具链上运行的游戏的两个视频。第一个是 Linaro，第二个是 GCC。就我个人而言，我认为 Linaro 感觉比 GCC 更平稳，但这可能只是安慰剂效应，因为这不是双盲测试。两个内核都是库存，没有调整、超频和任何其他改进性能的花哨调整。

//www . YouTube . com/embed/BZRZenaNr9A

**那么利纳罗更好吗？**

虽然一开始我持怀疑态度，但我必须承认 Linaro 似乎是比 GCC 更好的选择——至少在我的硬件配置上。这款操作系统感觉比使用 GCC 构建时响应更快，速度更快。不过 GCC 依然坚如磐石，所以如果你要求极致的稳定性，它可能依然是最好的选择。

在接下来的几集中，我将尝试比较其他工具链，如 SaberMod 和 Linaro 4.8。请在下面的评论中告诉我们你最喜欢的工具链。如果您希望我们测试任何其他工具链，请直说！