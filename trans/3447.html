<html>
<head>
<title>For Sony, Android 6.0's Doze Mode Marks a Battery Life Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>对于索尼来说，Android 6.0的Doze模式标志着电池寿命的回归</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/sonys-stamina-mode-did-it-first/#0001-01-01">https://www.xda-developers.com/sonys-stamina-mode-did-it-first/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>最近有很多关于定制皮肤、安卓系统以及二者之间关系的争论。 Stock Android已经成为我们读者中<a href="http://www.xda-developers.com/battle-royale-stock-android-vs-oems-which-side-are-you-on/">最喜欢的Android版本</a>有一段时间了。</p>

  
<p>在Android发烧友圈子里，谷歌试图整合各种Android设备的用户体验对最终用户是有益的，这几乎是一个既定事实。当社区在Android中实现一个已经存在于OEM皮肤中的特性时，他们通常会偏向Google。</p>

<p>以多窗口为例，三星已经在其Galaxy设备的几个迭代中将其功能嵌入到rom中。我个人没有任何三星实现多窗口的旗舰Galaxy设备，但我肯定对Android N在即将到来的未来提供的东西感到非常兴奋。但是谷歌的实现会优于三星吗？<a href="http://www.xda-developers.com/praise-and-criticism-of-ns-multi-window-freeform-from-a-multi-window-fan/">我们对这两个</a>的初步比较显示，Android N的多窗口需要更多的润色，才能宣称它是最终的多窗口实现。不过，公平地说，我们距离Android N的公开发布还有几个月的时间，所以我们不能说Android N中的多窗口最终不会成为更好的实现。</p>

<p>但是如果谷歌官方的多窗口没有三星的多窗口叠加起来呢？如果没有，那么三星用户会对这个看似降级的功能感到失望。我也不是在没有任何正当理由的情况下陈述这些担忧，因为这正是索尼的耐力模式刚刚发生的事情。</p>

<hr/>

<p><strong>体力模式耗尽</strong></p>

<p>今年早些时候，当Android Marshmallow开始在某些索尼Xperia设备上推出时，一些用户注意到了耐力模式的缺失。参与索尼测试计划的用户收到了这条消息，解释了该公司为何在他们的设备中取消了耐力模式:</p>

<blockquote>
<p>棉花糖版本的Android有自己的智能解决方案来管理功耗(瞌睡和应用待机)。这些功能直接集成到Android 6.0中，使得耐力模式变得多余。换句话说，m去掉了耐力模式。</p>
 </blockquote>
<p>在这里不难看出索尼为什么在安卓棉花糖中去掉了耐力模式。随着瞌睡模式的引入，很容易向消费者解释为什么索尼要删除其最受吹捧的软件功能之一——因为谷歌自己制作了耐力模式，没有必要存在。不过，索尼在这件事上似乎没有任何选择，因为根据<a href="https://static.googleusercontent.com/media/source.android.com/en//compatibility/android-cdd.pdf"> Android兼容性定义</a>，包含瞌睡模式是设备通过谷歌CTS的<strong>要求</strong>。不满足这一要求，设备就不能预装谷歌的应用程序，这实际上是对任何不在中国销售的设备的致命一击。</p>

<blockquote>
<p>8.3.省电模式</p>
<p>所有免除应用待机和/或休眠模式的应用必须对最终用户可见。此外，这些省电模式的触发、维护、唤醒算法和全局系统设置的使用不得偏离Android开源项目。</p>
 </blockquote>
<p>但是让我们回到索尼声明放弃耐力模式的原因。他们表示，Android 6.0中的瞌睡模式和应用待机使耐力模式变得多余，这是一个相当奇怪的说法，因为T2显然是错误的。索尼的耐力模式并没有因为Android 6.0的省电功能而变得多余。相反，Android棉花糖的瞌睡模式标志着索尼设备电池寿命的<strong>回归</strong>。其实索尼的耐力模式，从Android Lollipop就有了，更和Android N的Doze模式实现不相上下。</p>

<hr/>

<p><strong>电池续航大战</strong></p>

<p>那么索尼的耐力模式到底有什么了不起的呢？据索尼称，该功能将通过限制不必要的后台服务来节省大量待机电池寿命。他们向我们展示了一些简洁的图表，显示了可以节省多少电池寿命。</p>





<p>眼熟吗？哦，等等...</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Android M Doze Mode&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="doze mode" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg" src="../Images/574728f14485943a9ba73af6c053c7e7.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/doze-mode-1024x576.jpg"/> </picture> <figcaption class="body-img-caption">Android M Doze Mode</figcaption> </figure> </div>


 </div>


<p>我不是这些向你展示打盹模式和耐力模式有多棒的普通公关图片的主要粉丝。虽然这两种功能带来的电池续航时间提升可能相当可观，但这两种功能实现方式的差异是该功能对您真正有效的主要因素。所以让我们深入一点，比较一下Android 6.0的瞌睡模式和索尼的耐力模式。</p>

<p><em> <strong>耐力模式</strong> </em></p>

<p><a href="http://developer.sonymobile.com/2013/04/03/how-sonys-battery-stamina-mode-works/">耐力模式</a>工作原理是这样的:在你关闭屏幕一分钟后，系统会屏蔽所有数据流量，防止所有后台活动唤醒系统。但是，当您打开屏幕时，所有活动都将恢复。不过，该系统不会禁用网络访问，所以当你打开手机屏幕时，你会很快收到任何未决通知。电话、短信、日历通知或闹钟等关键活动仍将照常进行(只要它们使用Android的标准AlarmManager类来安排闹钟服务)。</p>

<p>但是，如果你有重要的应用程序，你总是想收到通知，无论如何？对于这些情况，你可以在耐力模式下将应用列入白名单，这样他们就不会受到系统的限制。否则，如果你对耐力模式不感兴趣，你可以选择不启用该功能。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;White-Listing Apps in Stamina Mode&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="stamina2" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg" src="../Images/a586fff9a4722db780704a5b36763f31.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/stamina2.jpg"/> </picture> <figcaption class="body-img-caption">White-Listing Apps in Stamina Mode</figcaption> </figure> </div>


 </div>


<p>但是，这与瞌睡模式相比如何呢？我将<a href="http://www.xda-developers.com/how-android-n-will-improve-battery-and-memory-management/">重温我以前的一篇文章</a>，这篇文章深入探讨了瞌睡模式，并提供一个简短的解释:</p>

<blockquote>
<p>在屏幕关闭后，设备将耗尽其电池，并且设备已经<strong>静止</strong>一段时间，设备将进入休眠模式。当设备进入doze模式时，所有在电池优化设置中没有被用户列入白名单的<strong>的应用程序都将有以下<strong>延迟</strong>:网络访问、唤醒锁、标准<a href="https://developer.android.com/reference/android/app/AlarmManager.html">警报管理器</a>警报(不要与用于唤醒你的<em>实际</em>警报混淆)、WiFi扫描或同步适配器。这些动作被推迟到下一个<strong>维护窗口</strong>，由此系统唤醒设备并允许所有这些动作同时运行一小段时间(即将它们聚结)。</strong></p>
 </blockquote>
<p>听起来很像索尼的耐力模式，不是吗？然而，这里需要考虑几个主要的区别。</p>

<ol> <li>瞌睡模式要求你的手机在地理位置上保持静止。坐在桌子上，不在口袋里)。</li> <li>瞌睡模式只能被<strong> <a href="https://developers.google.com/cloud-messaging/concept-options#setting-the-priority-of-a-message">高优先级GCM </a>消息</strong>中断。你最喜欢的应用程序的开发人员没有将通知设置为高优先级？太糟糕了，你必须等到下一个维护窗口才会得到通知。</li> <li>Doze mode的白名单<a href="https://developer.android.com/training/monitoring-device-state/doze-standby.html#support_for_other_use_cases">并没有真正免除一个应用程序的所有限制。</a></li> <li>打盹模式<strong>不能被禁用</strong>。<a href="http://www.xda-developers.com/what-do-you-think-of-marshmallows-doze/">安卓6.0上的通知</a>有问题？太糟糕了。</li> </ol>

<p>耐力模式在当时是一个非常出色的功能，甚至有一次将它移植到所有设备上的成功尝试。耐力模式可以根据你列入白名单的应用程序进行调整，变得或多或少保守一些，而瞌睡模式是如此的反复无常，以至于当它触发时<a href="http://forum.xda-developers.com/apps/greenify/aggressive-doze-experimental-feature-t3223731">的修改者不得不求助于编辑它的基本工作方式</a>，只是为了让瞌睡模式真正完成它的工作。</p>

<hr/>

<p><strong>体力模式回归...是吗？</strong></p>

<p>大约一个月前，用户报告说耐力模式正在某些手机的测试版棉花糖更新中回归。几个博客很快注意到了这个消息，并为这个功能最终回归而欢欣鼓舞。然而，一些精明的用户立即注意到耐力模式的回归相当严重。</p>





<p>这是通过Reddit拍摄的几张截图，显示了新的耐力模式的运行。本质上，它只是从Android Lollipop开始就存在的<a href="https://support.google.com/nexus/answer/6187458?hl=en">电池节电模式</a>的一个稍微加强的版本，而不是Xperia粉丝们喜欢的Doze模式的竞争对手。通过迫使原始设备制造商在他们的棉花糖更新中实现未经修改的Doze模式，谷歌实质上迫使索尼从根本上改变了耐力模式的工作方式。通过这样做，他们削减了一个相当大的电池节省功能，而支持一个相当平庸的功能。拥有索尼Xperia设备的用户将不得不等到Android N <a href="http://www.xda-developers.com/how-android-n-will-improve-battery-and-memory-management/">实现改进的Doze模式</a>才能重新获得Stamina模式提供的出色电池寿命。在我看来，Android N的Doze模式优于索尼的Stamina模式，然而，Android M的Doze模式对于索尼来说是<strong>一步落后</strong>。</p>

<p>不幸的是，Android N来到索尼Xperia设备的等待可能会相当漫长。毕竟，Android N本身仍处于谷歌Nexus用户的beta测试阶段。直到第三季度的某个时候，我们才会看到Android N的最终版本(以及完整的源代码)。</p>

<p><a href="http://static1.xdaimages.com/wordpress/wp-content/uploads/2016/06/n-preview-updates_2x.png"/></p>



<p/>

<p>从Android Marshmallow到索尼旗舰Xperia Z5设备花了多长时间(4个月)来看，我们应该期待2017年3月的Android N吗？也许是，也许不是，因为当索尼开始在其设备上测试Android N时，它似乎走在了前面。但是那些不再更新过安卓棉花糖的索尼设备怎么办？你们真倒霉。在谷歌寻求统一曾经是相互竞争的OEM皮肤的碎片化景观的过程中，你们中的一些人倒在了剑的错误一边。</p>

 </div>


</div>    
</body>
</html>