# 棒棒糖现已正式上市

> 原文：<https://www.xda-developers.com/xposed-framework-for-android-lollipop-is-here/>

Xposed 框架无需向 XDA 读者介绍。当被问及我们的社区[最讨厌棒棒糖](http://www.xda-developers.com/what-do-you-hate-about-lollipop/)的什么时，讨论中投票最高的评论是它中断了对 Xposed 的支持。事实上，许多论坛成员甚至拒绝专门为此更新到 Lollipop。但是现在一切都变了，备受期待的 Xposed 框架终于为 Android Lollipop 到来了。

如果您还不熟悉 Xposed，简单地说，它是 modding 社区的天赐之物。Xposed 不需要刷新任何 rom，但带来了大量的定制和调整，用户可以像在根设备上安装应用程序一样安装。它使用起来极其简单，而且风险有限。现在，Lollipop 上的所有 Android 爱好者都可以在他们的设备上享受这个奇妙项目的好处。获取您的下载并开始修改！

rovo89 也很友好地为我们提供了最新项目的问答。你可以在下面找到关于这个项目的所有问题的答案。

> 为什么花了这么长时间？艺术一年多前就已经出版了！
> 
> 首先——很多人一直要求艺术支持。Lollipop 的变化远不止这些，比如更严格的 SELinux 政策、64 位 rom 和架构变化，这些都是你可以从主要版本中期待的。当然，艺术本身也在不断改进。KitKat 的艺术和棒棒糖的艺术有很大的不同。
> 
> 一个原因是非常复杂，需要很多很多小时的研究、开发和测试工作。
> 
> 另一个原因是，在我的生活中，除了 Xposed 之外，还有其他事情，所以已经有几个星期甚至几个月，我几乎根本不看代码。
> 
> 我们需要重写所有的模块吗？
> 
> 不，Xposed API 几乎没有变化。Xposed 抽象了所有细节，因此模块不需要关心它们是运行在 Dalvik 还是 ART 上。许多模块实际上无需任何更改就可以工作，尤其是那些修改用户应用程序行为的模块。针对系统行为的模块可能需要调整以适应新的 Android 框架代码，这不是由 ART 引起的，而是由任意两个 Android 版本之间发生的架构和代码变化引起的。最重要的一点是系统服务的代码被移到了一个单独的文件中。对于大多数受影响的模块，这可以通过一点点重构(将代码移动到不同的地方)来解决。
> 
> 它真的有效吗？
> 
> 是啊！至少对我来说，它在我的日常设备(CM12 上的 Nexus 5)和我的 Nexus 9(由 XDA 支付——谢谢！).手机像往常一样稳定，应用程序运行良好。很明显，模块和它们的钩子/资源替换也工作得很好，否则发布东西就没有意义了。
> 
> 但是为什么它是一个 alpha 版本呢？
> 
> 因为自上一个稳定版本以来已经发生了巨大的变化，需要知道如何使用恢复、如何从引导循环中逃脱以及如何正确报告错误的人来测试。我强烈建议新手等到 Xposed 被足够有经验的人测试过。
> 
> 还有一些边缘情况还没有被测试，比如挂钩 JNI(本地)方法和在挂钩时正在执行的方法。
> 
> 我想安装它。现在！我要做什么？
> 
> 确保你已经阅读了我上面的话，并且熟悉你的手机的内部结构。显然，你需要一个棒棒糖 ROM，并有一个好的数据备份。目前我只发布 ARMv7 版本。64 位更复杂，所以我们先试试“简单”的变体。
> 
> 目前，必须在自定义恢复中手动执行安装。刷新 zip 文件将安装:
> 
> *   app_process32_xposed 和一些符号链接
> *   libexposed_art.so
> *   libart.so 和一些相关的二进制+库(基于 5.0.2，增强了对挂钩等的支持。)
> *   XposedBridge.jar(现在存储在/system/framework 中)
> 
> 将自动创建现有文件的备份，并且可以在以后还原。
> 
> 没用/我不喜欢！怎么才能卸载？
> 
> 最简单的方法是恢复备份或刷新系统分区。尚未创建用于卸载的 zip 文件。
> 
> **为什么要替换我手机上的图片文件？这比 Dalvik 上的入侵性更强，会导致严重的性能问题，而且不稳定！**
> 
> 我已经在 [GitHub](https://github.com/rovo89/Xposed/issues/18#issuecomment-64323598) 上写下了一些理由。是的，它更具侵入性，所以我很久以来都试图避免它，但从技术和支持导向的角度来看，我认为它是更好的选择。
> 
> 表现不及原创艺术？很可能，因为我不得不禁用一些优化来使某些类型的挂钩成为可能。然而，这仅仅影响了所有方法中的一小部分，即使对那些方法来说，性能损失肯定是不显著或不明显的，即使是可测量的。ART 还执行了数以千计的其他优化，我试图在提供尽可能多的灵活性的同时禁用尽可能少的优化。
> 
> 如上所述，稳定性很好。与我为 Dalvik 使用的方法(从 app_process 修改运行时的内部数据结构)相比，我甚至非常确定完全替换库是一种更可靠的方法。我可以将我的更改干净地集成到现有的代码中，并重用相关的函数，而对于其他方式，则需要许多修改和假设。
> 
> **你最终会公开源代码吗？**
> 
> 当然，你会在 alpha 版本发布后很快在 GitHub 上找到它，现在在一个单独的分支中。
> 
> 这是否意味着现在不再支持旧的 Android 版本？
> 
> 不要！新代码可以在所有 4.x 版本的 Android 上编译，只需要在统一发布之前进行测试。但首先，我需要确定它对棒棒糖有效。艺术支持可能会被移植到 KitKat，但这不是最重要的。
> 
> 我该如何感谢你的工作呢？
> 
> 很多人问了捐几块钱的方法，所以我现在建立了一个[捐款](http://repo.xposed.info/donate)页面。
> 
> **我需要捐多少才能让你添加特性 X 或者一个做 Y 的模块？**
> 
> 那不是捐赠，那是为了将来的工作而付钱给某人。我对自由职业者的工作不感兴趣。