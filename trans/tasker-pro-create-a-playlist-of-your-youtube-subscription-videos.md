# Tasker Pro:创建 YouTube 订阅视频的播放列表

> 原文：<https://www.xda-developers.com/tasker-pro-create-a-playlist-of-your-youtube-subscription-videos/>

智能手机已经为我们铺平了道路，让我们能够跟上我们的个人生活，并与我们这个与互联网紧密相连的世界中的其他人保持联系。如果你想做什么，总有适合你的应用程序。

你可以使用 [Mint](https://play.google.com/store/apps/details?id=com.mint&hl=en) 跟踪你的财务状况，使用 [Feedly](https://play.google.com/store/apps/details?id=com.devhd.feedly) 跟踪新闻，甚至使用 [XDA 实验室应用](http://www.xda-developers.com/xda-labs/)浏览我们自己的论坛(提示提示)。但不幸的是，有时候*没有像*那样的应用。有时候你不得不凑合着用你能得到的东西，即使这是一件单调乏味和浪费你时间的事情。

这就是自动化的用武之地。自动化应该是简化日常任务，让你有更多宝贵的时间做自己喜欢的事情。在 XDA，我们已经向您展示了如何使用 Tasker 来[保护您的设备](http://forum.xda-developers.com/u/tasker-tips-tricks/guide-send-sms-address-speed-url-map-pin-t3330371)、[提高生产力](http://forum.xda-developers.com/u/tasker-tips-tricks/guide-read-google-calendar-events-day-t3332783)或[让驾驶更安全](http://forum.xda-developers.com/u/tasker-tips-tricks/guide-driving-mode-answer-calls-texts-t3332004)，这些都是我们系列的一部分，称为“ **[Tasker Week](http://www.xda-developers.com/xda-tasker-week-in-review/)** 。”但是乐趣并没有就此结束。如果你一直渴望**一些非常棒的 Tasker 任务**(并且厌倦了*无聊的*东西，比如告诉你如何重启手机或者摇动手机来唤醒显示屏)，那么我们新的 **Tasker Pro** 系列就是为你准备的。

我们将发布一系列**高度先进的** Tasker 简介，向你展示 Tasker 有多强大，如果你愿意跳出框框思考的话。虽然我们已经为您完成了大部分艰苦的工作，您当然可以自由地导入我的个人资料并按原样使用它们，但如果您想自己定制这些任务，我强烈建议您尝试一下如何使用 Tasker。在我们的 [Tasker Tips & Tricks](http://forum.xda-developers.com/u/tasker-tips-tricks/guide-automatically-check-md5-sum-t3365590/post66531924#post66531924) 论坛上或者在 Reddit 的/r/Tasker subredit 上，你可以与他人分享和合作如何实现你可能有的想法(正如[我已经做了很多次](http://forum.xda-developers.com/u/tasker-tips-tricks/guide-automatically-check-md5-sum-t3365590/post66531924#post66531924))。

* * *

# Tasker Pro #1: YouTube 订阅播放列表

对 YouTube 最大的抱怨之一是没有简单的方法从你的订阅源自动播放视频。说真的，试着找一个这样的特征——它不存在。如果你在台式电脑上，你可以得到一个 [RSS 提要](https://support.google.com/youtube/answer/6224202?hl=en)(或者使用 [Python 脚本生成那个提要](https://github.com/ali1234/ytsubs))但是你仍然有一个大问题——你不能自动播放这些视频。你唯一的选择就是**手动将每个视频添加到播放列表**。谁想这么做？谷歌当然不想让你去——他们想让你访问他们的网页，这样他们就可以赚些广告费。见鬼，甚至官方的 YouTube API 都没有提供直接拉你订阅视频的方法！所以他们真的不希望你(甚至开发者)有一个简单的方法来查看你最新的订阅上传。幸运的是，借助 **Tasker** 的强大功能和两个名为 **AutoWeb** 和 **AutoTools** 的新插件，我们可以对来自 YouTube API 的数据进行一些巧妙的处理，从而为您订阅的最新上传视频构建一个**播放列表。**不相信我？这就是它的作用:

*免责声明:这种方法使用 YouTube API 的方式非常低效(感谢谷歌强迫我们使用迂回的方式来检索视频)。你不太可能达到 YouTube 每日 50，000，000 的配额，所以不用担心。你可以通过牺牲一点准确性来提高这个任务的速度，我将在下面解释。不过，这样做总比自己手动将所有内容添加到播放列表要好！*

* * *

**要求**

以下是**可选的**，但如果你决定导入我的个人资料，那么你需要安装这些来复制我的设置。我的教程还将假设您安装了这些:

* * *

**指令**

您首先需要准备 YouTube API，这样您就可以实际使用它来获取关于您的订阅的信息。

1.  为此，将我的 **YouTubeAPI.json** 文件导入 AutoWeb，首先由[从 **Android 文件主机**](https://www.androidfilehost.com/?fid=24549084345925943) 下载该文件到你的内部存储器上的一个已知目录(下载文件夹也可以)。
2.  在您的 web 服务下，单击“ **+** ”图标，弹出一个对话框，允许您导入或创建新的 API。
3.  单击“**从文件导入”**并导航到您存储 YouTubeAPI.json 的目录。选择该文件。
4.  AutoWeb 将会导入我为 YouTube 创建的 API 设置。(*注意:不要导入 AutoWeb 预装的 API。它没有适当的 API 操作。这些很多都是我自己加的。*)
5.  你必须**认证** AutoWeb 才能代表你访问 YouTube API。**登录**，**接受**。
6.  你可以通过点击 YouTube 图标打开 API 操作来查看有什么可用的。如果您成功地导入了它，您将会看到 API 操作，如下面右下角的屏幕截图所示。

现在我们到了有趣的部分。我们现在要创建一个 **Tasker 任务**，它将**调用我们刚刚在上面导入的 YouTube API** 。我们将使用一些数组和 for 循环来操纵数据，以获得我们想要的东西，最后我们将打开一个 URL，引导 YouTube 应用程序导航到我们刚刚创建的播放列表。我将指导你完成下面的每一步。以下是整个任务:

1.  **插件- > Snackbar Tasker 插件- >底单**。“主文本”是底部栏的标题(你在视频开始时看到的)，你可以给它起任何名字。唯一重要的是指定“要在工作表中显示的项目”和“要发送的命令”选项。在两个选项中输入您想要的视频数量。例如，我在“项目”和“命令”中都输入了“5，10，15，20”。这样做将打开一个表格，要求您选择 5、10、15 和 20 个视频，无论您选择什么，都会告诉任务要将多少个视频添加到播放列表中。
2.  **插件- >自动工具- >自动工具对话框。**选择对话类型“进度”并将其设置为“不确定”这完全是可选的，只是给任务添加一些简洁的 UX 闪光的一种方式。这就是弹出微调对话框告诉我任务正在处理的原因。
3.  **插件- > AutoWeb。**选择 **YouTube** API。对于 API 操作，选择**获取订阅**。在输入下，您可以保留默认值。在输出下，选择**R**资源 Id 通道 Id。退了出去。这将获得多达 50 个 YouTube 订阅的唯一频道 id。
4.  **任务- >为**。变量:**%项**。项目:**1:% resourceid _ channelid(#)**。这将在您的订阅列表下的每个 YouTube 频道之间循环。
5.  **插件- > AutoWeb。**再次选择 **YouTube** API。对于 API 操作，这次选择**获取频道的视频**。在输入下，输入**% resourceid _ channelid(% items)**作为通道 id。在输出下，选择**所有**输出。您在这里所做的是获取该频道最近执行的多达 50 个活动。这包括 YouTuber 喜欢视频，上传视频，或将视频添加到播放列表。但是我们不要那个，我们只要他们上传的视频。我们继续。*注意:如果您想加速此任务，您可以将最大结果输入降低到一个较低的数值。然而，你拉的活动越少，整体任务就越不准确，因为你可能没有获得足够的他们最近上传的视频来形成播放列表。*
6.  **任务- >为。**变量**%活动**。物品: **1:%type(#)** 。这将循环进行我们从上述每个渠道获得的每个活动。
7.  **变量- >数组推送。**名称:**%视频**。位置: **1** 。值:**%发布日期(%活动)%默认 URL(%活动)。**选择底部的 **If** ，设置为 If**% type(% activity)****~ upload**。这个有点难以解释。但它的要点是，如果该活动被那个 YouTuber 确定为上传活动，那么我们将把它添加到一个名为‘videos’的数组中。我们推送到数组中的值是 RFC3339 时间戳(视频发布的时间)和用于视频的缩略图的 URL 的连接字符串。为什么是缩略图？正如您将在下面看到的，这是检索视频唯一 ID 的最快方法。
8.  **任务- >结束。**
9.  **任务- >结束。**
10.  **变量- >数组过程。**变量:**%视频**。类型:**排序 Alpha，反转。**我们将按照从最近上传到最近上传的顺序排列视频。
11.  **变量- >数组过程。**变量:**%视频。**类型:**删除重复**。有时候，你会得到重复的结果。我不知道为什么会发生这种情况，但这将摆脱那些。
12.  **变量- >数组过程。**变量:**%视频。**类型:**南瓜。**
13.  **插件- > AutoWeb。**选择 **YouTube** API。对于 API 操作，选择**创建播放列表。**在 input 下输入您将在“Title”下创建的播放列表的名称，并输入任意文本作为“id”YouTube 将创建一个播放列表，并为您选择一个 ID，因此没有必要在这里指定一个实际的 ID(即使它要求您添加一个，这就是为什么我刚才在那里写为“空白”)。在输出下，选择 **Id** 。
14.  **任务- >为**。变量:**%最近的**。项目: **1:%bs_command** 。这将使用步骤 1 中的输入来确定我们将向播放列表中添加多少视频。
15.  **变量- >数组弹出。**变量:**%视频**。位置:**%最近。**到 var:**%视频**。我们将弹出按发布日期排序的视频列表中的第 n 个视频。n 是一个数字，从 1 到你想拉多少视频。
16.  **变量- >变量部分。**名称:**%视频。**由 **48** 长 **11。**将结果存储在: **%videoid 中。**还记得前面那个串接的字符串吗？好了，我们现在要切掉我们真正想要的字符串部分，即视频的唯一 ID。
17.  **插件- > AutoWeb。**选择 **YouTube API** 。对于 API 操作，选择**添加到播放列表。**在 Input 下，将 **youtube#video** 放入‘Kind ’,将 **%videoid** 放入‘Video Id ’,将 **%aid** 放入‘Playlist Id’。这将使用视频 ID 将视频添加到我们在上面的步骤 13 中创建的播放列表中。种类指定了它是什么活动类型 YouTube 用它来区分视频、播放列表等。
18.  **任务- >结束。**
19.  **插件- >自动工具- >自动工具对话框。**对话框类型:**进度。**向下滚动并选择“**关闭”**以结束我们在步骤 2 中创建的微调器。
20.  **Net - >浏览网址。**对于网址，把这个放在:【https://www.youtube.com/playlist?list=%playlistid】T2 里。假设 YouTube 应用是您处理 YouTube 链接的默认应用，这将打开 YouTube 应用到我们刚刚创建的播放列表。

* * *

瞧，瞧！如果你能理解这一点，那么恭喜你，你已经是一个任务大师了！困惑于一个步骤，只想导入配置文件并继续生活？我不能责怪你，这一次我花了很多时间才把它写好。

**如果你想导入这个任务，你可以[从安卓文件主机](https://www.androidfilehost.com/?fid=24549084345925940)下载。**为了导入任务，您需要首先在 Tasker 中禁用初学者模式，进入菜单- >偏好设置。在 UI 选项卡下，取消选中“初学者模式”然后回到主任务菜单，点击“任务”标签。然后长按“任务”标签并按“导入”导航到下载 my .tsk.xml 文件的位置，并选择它以将其导入。一旦你导入了它，你就可以随意使用它了。这个任务是独立的，可以与任何上下文耦合来触发它。最简单的方法是制作一个带有快捷方式的主屏幕图标。尝试一下，看看你是否能做些改进。

在下周的 Tasker Pro 中，我将向你展示如何**追踪你的驾驶里程**来帮助你报税！

[**查看所有 Tasker Pro 脚本！**](http://www.xda-developers.com/tag/tasker-pro/)

* * *

你想看我和 Tasker 一起做什么？请在下面告诉我们，我们可能会在未来的文章中重点介绍您的想法！