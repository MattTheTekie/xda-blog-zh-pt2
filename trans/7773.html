<html>
<head>
<title>LineageOS is dropping its own superuser implementation, making Magisk the de facto solution</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>LineageOS正在放弃自己的超级用户实现，使Magisk成为事实上的解决方案</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/lineageos-dropping-superuser-addonsu-implementation-favor-magisk-manager/#0001-01-01">https://www.xda-developers.com/lineageos-dropping-superuser-addonsu-implementation-favor-magisk-manager/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>LineageOS是Android设备上最受欢迎的定制ROM之一，如果不是最受欢迎的定制ROM的话。这个定制的ROM采用了Android开源项目(AOSP)中的Android，并在其上添加了自己的特色。许多定制ROM倾向于采用LineageOS作为自己的基础，因此LineageOS为自己进行的任何重大更改都倾向于在整个定制ROM社区中传播。LineageOS背后的开发人员意识到了这种影响，并据此做出明智的决策。LineageOS即将发布的版本极大地改变了根访问的处理方式，因为ROM放弃了对自己的addonsu二进制文件的支持，转而支持Magisk。</p>

  
<p>LineageOS的下一个主要版本将被称为LineageOS 17，这里没有任何惊喜。自定义ROM正在基于Android 10的基础上重新开发。尽管是一个定制的ROM，因此比OEM UX皮肤具有更大的灵活性，LineageOS选择不预装根二进制文件——这意味着应用程序无法在全新安装的ROM上获得超级用户访问权限。为了让应用程序请求超级用户访问，用户必须有意识地安装超级用户二进制文件和超级用户管理器。大多数用户默认安装Magisk和Magisk Manager，主要是因为Magisk针对SafetyNet检测提供了变通方法，以及Magisk模块的易用框架。</p>

<p>尽管是流行的选择，LineageOS并没有正式推荐Magisk作为首选的生根解决方案。一些无知的用户最终在他们的设备上安装了不兼容的Magisk模块，然后向ROM维护人员大量报告错误行为——这对维护人员来说绝对是一个头疼的问题。相反，ROM依靠自己的<a href="https://www.xda-developers.com/addonsu-packages-lineageos-15-1/"> addonsu包</a>来提供超级用户二进制文件和一个简单的超级用户管理器。</p>

<p>LineageOS 15.1和<a href="https://www.xda-developers.com/lineageos-16-android-pie/"> LineageOS 16版本</a>中提供了这个addonsu，但在官方LineageOS 17、<a href="https://review.lineageos.org/c/LineageOS/android_device_lineage_sepolicy/+/257100">中，将不再提供这个功能</a>。在这个版本中，<a href="https://review.lineageos.org/q/topic:%22ten-adbroot%22+(status:open%20OR%20status:merged">通过ADB </a>的root访问将成为官方支持的用户在设备上处理重要文件的方式。如果用户想授予apps超级用户权限，那么他们必须安装Magisk和Magisk Manager。虽然LineageOS仍然没有通过将Magisk合并到官方版本中来正式支持它，但addonsu的降级实质上提升了Magisk成为事实上受支持的解决方案。</p>

<p>但是为什么LineageOS要放弃addonsu呢？这是因为addonsu利用的LineageOS功能PrivacyGuard在LineageOS 17中也被删除了。PrivacyGuard为用户提供了先进的权限管理控制，可以在现有的Android上实现。LineageOS团队无法将PrivacyGuard框架移植到新的Android 10基础上，相反，该团队正在Android 10中利用谷歌自己的权限中心功能。这个权限中心功能是<a href="https://www.xda-developers.com/android-q-dark-theme-desktop-mode-permission-revamp/">相同的权限控制，我们在早期泄露的Android Q版本</a>中看到过，但在公开版本中没有。谷歌没有在Android 10中发布这项功能，但它的代码仍然存在于AOSP。LineageOS已经将它分叉，并将它作为PrivacyGuard的替代方案。</p>

 </div>


</div>    
</body>
</html>