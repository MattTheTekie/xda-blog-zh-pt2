<html>
<head>
<title>Android P Developer Preview 1 is here for the Google Pixel/Pixel XL and Pixel 2/Pixel 2 XL</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Android P开发者预览版1是为谷歌Pixel/Pixel XL和Pixel 2/Pixel 2 XL准备的</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/android-p-developer-preview-1-google-pixel-xl-pixel-2-xl/#0001-01-01">https://www.xda-developers.com/android-p-developer-preview-1-google-pixel-xl-pixel-2-xl/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>终于来了！Android 9.0，也称为Android P，现在以首个Android P开发者预览版的形式从今天开始提供。这不会给你完整的Android P体验，因为它在很大程度上是一个正在进行中的工作(直到谷歌I/O才会完全公开)，但对于谷歌Pixel、谷歌Pixel XL、谷歌Pixel 2或谷歌Pixel 2 XL的幸运用户来说，你将是第一批看到Android P提供什么的用户。</p>

  
<p>该更新只能通过OTA文件和出厂映像安装。谷歌目前不会通过测试项目提供在线旅行社。关于如何安装OTA文件或工厂映像的说明可以在表格下方的源代码链接中找到，但是如果您安装了Magisk和/或TWRP，那么向下滚动，因为我们有一个专门为您安装Android P更新的教程！</p>

<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_2"><p><strong>警告:如果你正在你的设备上运行任何<a href="https://www.xda-developers.com/tag/substratum-tutorials/">底层</a>主题，我们强烈建议你在进行Android 9.0更新之前禁用它们。这些主题是为Android Oreo设计的，可能会导致Android P版本的不匹配，所以为了确保顺利升级，你应该禁用底层主题，直到主题有机会更新它们。见这篇文章的第三部分关于如何禁用底层主题的说明。</strong></p> </div></section>

<h2 id="download-android-p-developer-preview-for-the-google-pixel-xl-amp-pixel-2-2-xl">下载谷歌Pixel/XL和Pixel 2/2 XL的Android P开发者预览版</h2>

<p>不幸的是，谷歌Pixel C似乎不会收到Android P版本，Nexus 5X或6P也不会(尽管Nexus设备预计不会收到更新。)</p>

<p/><p><a href="https://developers.google.com/android/ota"> <strong> Android P开发者预览版1 OTA更新说明</strong> </a></p>

<p/><p><a href="https://developers.google.com/android/images"> <strong> Android P开发者预览1工厂图片页面</strong> </a></p>

<p>如果你安装了更新并注意到一些我们还没有发现的新东西，<a href="https://www.xda-developers.com/tip-us/">给我们发送一个提示</a>，如果我们根据你的提示写了一篇文章，你就可以得到一个<strong>免费的XDA无广告月</strong>！另外，如果你安装了更新，一定要查看一下<a href="https://developer.android.com/preview/feedback.html" target="_blank" rel="nofollow noopener">反馈</a>和<a href="https://developer.android.com/preview/bug" target="_blank" rel="nofollow noopener">错误报告</a>页面。</p>
<p class="ad-odd"> </p>


<h2 id="what-s-new-in-android-p">Android P有什么新功能</h2>
<p>根据官方页面，这是Android 9.0第一个开发者预览版的新功能列表</p>

<ul> <li><strong>显示剪切支持。</strong>是的，不管你喜不喜欢，缺口都来了。Android P将使开发者更容易测试他们的应用在带凹槽的设备上的表现。</li> <li>通知的新外观。开发者可以展示图片和贴纸。它们还可以显示联系人姓名的完整对话，现在支持显示智能回复——类似于<a href="https://www.xda-developers.com/reply-google-smart-replies-twitter-hangouts-android-messages-facebook-messenger/">回复应用</a>，但现在开发者更容易访问。</li> </ul>

<ul> <li>正如我们之前报道的，Android P限制空闲应用程序访问<a href="https://www.xda-developers.com/android-p-audio-recording-limitations-privacy/">麦克风</a>和<a href="https://www.xda-developers.com/android-p-background-apps-camera/">摄像头</a>。他们还限制应用程序访问<strong>所有SensorManager传感器</strong>。</li> <li>更多的视频和图像编解码器得到支持，如HDR VP9配置文件2和HEIF。</li> <li>多摄像头API 因此Android应用程序可以同时从多个摄像头传感器请求数据。</li> <li>用于位图和绘图的ImageDecoder 提供了一种现代化的图像解码方法。应该优先于BitmapFactory。</li> <li><strong> Wi-Fi RTT </strong>(往返时间)，允许app以1-2米的精度获取<strong>室内定位数据</strong>。</li> <li>改进了Android运行时(ART)和用T2 Kotlin编写的应用程序的性能。</li> <li>对<strong>瞌睡、待机和背景限制</strong>的改进。Job Scheduler现在还可以检查网络状态信息，将应用程序的网络请求一起批处理。</li> <li><a href="https://www.xda-developers.com/google-undocumented-hidden-apis-android-p/">对非SDK APIs的限制</a>，正如我们之前所报道的。</li> <li>针对早于Android 4.2平台的应用程序在安装到Android P上时会显示一个警告框。这是为了鼓励开发人员迁移到更新的SDK版本，为<a href="https://www.xda-developers.com/play-store-updated-requirements-api-level-64-bit/">新的Google Play限制</a>做准备。</li> <li>统一的<strong>指纹认证对话框</strong>。</li> <li><strong>Android数据备份的客户端加密</strong>。现在需要输入用户的PIN/密码/模式才能恢复设备备份。</li> <li>新的<strong>神经网络API </strong>版本1.1</li> <li>用于NFC支付和安全交易的OpenMobile API (OMAPI)</li> </ul>

<p>当然，还有更多。我们推荐你看一下<a href="https://developer.android.com/preview/index.html" target="_blank" rel="nofollow noopener">预览站点</a>、<a href="https://developer.android.com/preview/overview.html" target="_blank" rel="nofollow noopener">时间轴</a>、<a href="https://developer.android.com/preview/api-overview.html" target="_blank" rel="nofollow noopener">新特性和API概述</a>、<a href="https://developer.android.com/reference/packages.html" target="_blank" rel="nofollow noopener"> API参考页面</a>、<a href="https://developer.android.com/topic/libraries/support-library/revisions.html" target="_blank" rel="nofollow noopener"> API 28支持库</a>。</p>
<p class="ad-even"> </p>


<h2 id="a-short-list-of-new-unannounced-features-in-android-9-0">Android 9.0中的新(未宣布的)特性的简短列表</h2>
<p>多亏了Android开源项目，我们有可能一瞥谷歌正在为下一个Android版本所做的部分工作。虽然Android 9.0的大部分代码都在谷歌的内部gerrit中，但我们已经能够从公开的gerrit中发现一些有趣的东西。我们不会重复每一个发现，我们会反向链接第一个开发者预览版中已经确认的所有文章。</p>



<p>这绝不是一个全面的列表。当我们在自己的设备上安装Android 9.0预览版时，我们将挖掘它，以找到更多有趣的功能来与我们的读者分享。</p>
<p class="ad-odd"> </p>


<h2 id="how-to-install-android-p-developer-preview-1-on-rooted-devices">如何在根设备上安装Android P开发者预览版1</h2>
<p>如果你在你的<a href="https://www.xda-developers.com/tag/google-pixel/"> Google Pixel </a>、<a href="https://www.xda-developers.com/tag/google-pixel-xl/"> Google Pixel XL </a>、<a href="https://www.xda-developers.com/tag/google-pixel-2/"> Google Pixel 2 </a>或<a href="https://www.xda-developers.com/tag/google-pixel-2-xl/"> Google Pixel 2 XL </a>和<a href="https://www.xda-developers.com/magisk-16-bootloop-crash-fix-huawei-honor-support/">上运行Android 8.1 Oreo，你是Magisk </a>的根用户，那么你可能想知道如何才能更新到Android 9.0 (Android P)。作为rooted用户有可能接受OTA更新吗？是的，但是那取决于几个因素。你曾经修改过/system或/vendor中的任何东西吗？你只安装了Magisk而没有安装TWRP吗？你同时安装了Magisk和TWRP吗？根据你对这些问题的回答，你要做的事情会有很大的变化。</p>

<p>幸运的是，如果使用工厂映像进行更新，您不必担心上述任何场景中的差异。我个人总是使用最新的工厂图像更新我的设备，这是一种简单的方法，可以解释所有的变化。只要你运行<strong>股票安卓8.1奥利奥</strong>，你甚至可以更新<strong>而不必擦除你的数据</strong>。然而，如果你运行的是定制的ROM，那么你<strong>将</strong>不得不擦除数据——所以请记住这一点，并在继续之前将/data包括/data/media的全部内容备份到你的PC上。最后，你还需要确保你的机器已经安装了<a href="https://www.xda-developers.com/google-releases-separate-adb-and-fastboot-binary-downloads/"> ADB/Fastboot二进制文件</a>。我们有一个关于如何做的教程<a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">在这里</a>。</p>

<p>以下是安装Android P Developer Preview 1更新需要遵循的步骤:</p>

<ol> <li>从上表中的链接之一或从整个页面下载最新的P Developer Preview factory映像。确保你正在为正确的设备下载正确的图像(例如，谷歌Pixel 2 XL图像不能在Pixel 2上工作)！</li> <li>提取工厂图像zip文件。</li> <li>在该文件夹中，您将看到几个文件:一个引导加载程序映像、一个无线电映像和另一个zip文件，其中包含系统、引导、供应商和其他将被更新的分区。你还会看到一个<code>flash-all.bat</code>和一个<code>flash-all.sh</code>。<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Example: Google Pixel 2 XL Android 8.1 Oreo March security patch factory image contents.&quot;"><figure><picture><source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/><source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/><source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/><source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/><img class="lazyload" alt="Android P Developer Preview 1, Android 9.0, Google Pixel, Google Pixel XL, Google Pixel 2, and Google Pixel 2 XL" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png" src="../Images/29332aa304b6b0d18e215ab79c5b3f66.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Contents-1024x192.png"/></picture><figcaption class="body-img-caption">举例:Google Pixel 2 XL Android 8.1奥利奥3月安全补丁工厂图片内容。</figcaption> </figure> </div> </div></li> <li><strong>窗口:</strong>右键点击<b> flash-all.bat </b>，点击<b>编辑</b>。(强烈推荐你用NotePad++。)查找“<code>fastboot -w update</code>”行。从该行删除-w 并保存文件。这将允许您在不擦除数据的情况下刷新工厂映像。如果您正在运行一个定制的ROM并且想要更新，那么您必须在命令中保留-w。<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Example: Contents of flash-all.bat from the Android 8.1 Oreo March security update for the Google Pixel 2 XL.&quot;"><figure><picture><source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/><source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/><source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/><source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/><img class="lazyload" alt="Android P Developer Preview 1, Android 9.0, Google Pixel, Google Pixel XL, Google Pixel 2, and Google Pixel 2 XL" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png" src="../Images/1844da570f7954a80f47fd50ca157379.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Factory-Image-Flash-Instructions.png"/></picture><figcaption class="body-img-caption">举例:flash-all.bat的内容来自Android 8.1奥利奥3月针对Google Pixel 2 XL的安全更新。</figcaption> </figure> </div> </div></li> <li><strong> Windows: </strong>双击<code>flash-all.bat</code>让它运行。它将一次刷新一个分区。这将需要几分钟时间，所以让它运行。</li> <li><strong> Mac/Linux: </strong>在文本编辑器中编辑<code>flash-all.sh</code>脚本，<b>删除“<code>fastboot -w update</code>行中的-w </b>。保存文件。这使您可以在不丢失数据的情况下刷新工厂映像。但是，如果您正在运行自定义ROM，那么您必须在命令中保留-w。<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Example: Contents of flash-all.sh taken from the March security update for the Pixel 2 XL running Android 8.1 Oreo&quot;"><figure><picture><source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/><source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/><source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/><source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/><img class="lazyload" alt="Android P Developer Preview 1, Android 9.0, Google Pixel, Google Pixel XL, Google Pixel 2, and Google Pixel 2 XL" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png" src="../Images/0e77f9eaee95a24a92dd889c703ffedf.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/03/Android-P-Linux-and-MacOS-Fastboot-Flash-Instructions.png"/></picture><figcaption class="body-img-caption">举例:flash-all.sh的内容摘自Pixel 2 XL运行Android 8.1 Oreo</figcaption></figure></div></div>的三月安全更新</li> <li><strong> Mac/Linux: </strong>打开与<code>flash-all.sh</code>脚本同目录的终端，输入<code>chmod +755 flash-all.sh</code>使其可执行</li> <li><strong> Mac/Linux: </strong>在终端输入<code>./flash-all.sh</code>运行脚本。覆盖每个分区需要一些时间，所以就让它坐着做自己的事吧。</li> <li>如果你移除了-w标志，你最终应该引导进入Android P，并且所有数据都完好无损。</li> </ol>

<p>感谢第一个Android P开发者预览版，在您的Google Pixel、Pixel XL、Pixel 2或Pixel 2 XL上享受Android 9.0的第一次体验！如果你想知道更新中有什么新内容，请继续关注我们的<a href="https://www.xda-developers.com/tag/android-p/"> Android P </a>标签，我们将深入发布，寻找Android 9中的新内容！</p>

 </div>


</div>    
</body>
</html>