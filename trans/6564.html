<html>
<head>
<title>Google Pixel phones on Android Q may get a new Settings Routine feature</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Android Q上的谷歌Pixel手机可能会获得一个新的设置例程功能</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/google-pixel-android-q-settings-routines/#0001-01-01">https://www.xda-developers.com/google-pixel-android-q-settings-routines/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>谷歌在Android早期给予开发者的自由允许了应用的繁荣，而这在iOS上是不可能的。像Tasker、MacroDroid、Automate和Llama这样的自动化应用程序让用户可以完全控制他们手机上的应用程序和设置，尽管最近的Android版本已经缩减了这些应用程序的功能。虽然第三方自动化应用程序已经失去了一些光彩，但谷歌助手和三星Bixby等第一方服务已经增加了有限的自动化功能，分别具有像<a href="https://www.xda-developers.com/google-home-routines-india-canada-uk-germany-australia/">助手例程</a>和<a href="https://www.xda-developers.com/samsung-galaxy-s10-s10-and-s10e-launch-with-the-snapdragon-855-ultrasonic-in-display-fingerprint-scanners-reverse-wireless-charging-and-a-whole-lot-more/"> Bixby例程</a>这样的功能。现在，我们发现有证据表明，运行Android Q的谷歌Pixel智能手机正在开发一种新的自动化功能。</p>

 
<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_1"><p>APK拆卸通常可以预测应用程序未来更新中可能出现的功能，但我们在这里提到的任何功能都可能不会出现在未来的版本中。这是因为这些功能目前还没有在live build中实现，可能会在未来的版本中随时被Google拉出来。</p> </div></section>

<h2 id="settings-routines-in-android-q-for-the-google-pixel">Android Q中谷歌像素的设置例程</h2>
<p>新功能的字符串和代码首次出现在与Android Q betas一起发布的设置智能系统APK中。运行2019年5月安全补丁的谷歌Pixel 3 XL的Android Pie版本的最新设置智能APK是版本1.0.0.197685250。另一方面，谷歌Pixel 3 XL的<a href="https://www.xda-developers.com/android-q-beta-2-everything-new/"> Android Q beta 2 </a>包含版本1.1.0.235052489.fishfood，而<a href="https://www.xda-developers.com/everything-new-android-q-beta-3/"> Android Q beta 3 </a>包含版本1 . 1 . 0 . 241603058 . dogfood。“fish food”和“dog food”指的是谷歌员工正在进行测试的内部版本，因此在公开测试版中看到它们很奇怪。无论如何，这项新功能不会在任何谷歌Pixel智能手机的Android Pie或Android Q中激活。</p>

<p>该特性在内部被称为“例程”，但将作为“规则”呈现给用户以下字符串描述了该功能背后的基本思想:</p>

<pre> <code class="hljs xml">&lt;string name=<span class="hljs-string">"routines_settings_summary"</span>&gt;Rules help automate changes that you regularly make <span class="hljs-keyword">in</span> Settings, such <span class="hljs-keyword">as</span> switching your phone to silent whenever you <span class="hljs-keyword">get</span> to work.&lt;/string&gt;<br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"routines_settings_title"</span>&gt;</span>Rules<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<p>该功能的描述听起来好像你在自动化设备设置方面有很大的自由，但在该功能的开发过程中，实际上似乎并不是这样。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Although I was able to surface the \&quot;Rules\&quot; feature via search in the Settings app, I was unable to launch the relevant activities.&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="Android Q Google Pixel Routines feature" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png" src="../Images/dd5a9a3cfb81dbc19a69aad961dffb29.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2019/05/Android-Q-Pixel-Routines.png"/> </picture> <figcaption class="body-img-caption">Although I was able to surface the "Rules" feature via search in the Settings app, I was unable to launch the relevant activities.</figcaption> </figure> </div>


 </div>


<h3 id="creating-rules">创建规则</h3>
<p>目前，该功能可以让你根据你连接的Wi-Fi网络或你所在的位置来设置谷歌像素的规则。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_network"</span>&gt;</span>Add network<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_routine"</span>&gt;</span>Add rule<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_location_routine"</span>&gt;</span>Add Location rule<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_routine_this_location"</span>&gt;</span>Turn on the following at this location:<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_wifi_routine"</span>&gt;</span>Add Wi-Fi rule<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"add_routine_this_network"</span>&gt;</span>Turn on the following when connected to this network:<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<p>位置规则为您输入的地址的纬度和经度创建地理围栏。Wi-Fi规则可让您根据设备上存储的Wi-Fi ssid来设置条件。</p>

<h3 id="rule-actions">规则操作</h3>
<p>一旦Wi-Fi或位置规则被触发，您可以选择打开勿扰模式，将手机设置为响铃，将手机静音，或将Google Pixel设置为仅振动。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"routine_action_dnd"</span>&gt;</span>Turn on Do Not Disturb<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"routine_action_normal"</span>&gt;</span>Set phone to ring<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"routine_action_silent"</span>&gt;</span>Silence phone<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"routine_action_vibrate"</span>&gt;</span>Vibrate phone<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<h3 id="editing-rules">编辑规则</h3>
<p>这些字符串为您使用规则所能做的事情添加了更多的上下文。例如，字符串确认只能为保存的网络添加Wi-Fi规则。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choose_routine_source"</span>&gt;</span>Choose rule type<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choose_wifi_network_title"</span>&gt;</span>Choose Wi-Fi<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choose_wifi_no_available_networks"</span>&gt;</span>"You've added rules for all saved networks. To add a new rule, connect to another network."<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choose_wifi_no_saved_networks"</span>&gt;</span>To add a rule, first connect to a Wi-Fi network<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"choose_wifi_title"</span>&gt;</span>Choose saved network<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"chosen_location"</span>&gt;</span>Location:<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"chosen_network"</span>&gt;</span>Network:<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_action_header"</span>&gt;</span>Do the following<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_activity_add"</span>&gt;</span>Add Wi-Fi network or location<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_activity_header_location"</span>&gt;</span>When at location<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_activity_header_wifi"</span>&gt;</span>When connected to<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_summary_dnd"</span>&gt;</span>"When Do Not Disturb is on you'll see this icon at the top of your screen"<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_summary_ringer"</span>&gt;</span>"You'll be notified whenever a change occurs"<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"edit_rule_title"</span>&gt;</span>Edit rule<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<h3 id="rule-notifications">规则通知</h3>
<p>一旦规则被激活，Android Q中的SettingsIntelligence将显示一个通知，通知用户什么操作已经被执行。当用户进入或退出规则的触发区域时，还会显示通知来通知用户。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_action_wifi_rule_detected_positive"</span>&gt;</span>Tap to setup a rule<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_text_rule_applied_location_enter_prefix"</span>&gt;</span>Arrived at<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_text_rule_applied_location_exit_prefix"</span>&gt;</span>Left<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_text_rule_applied_wifi_enter_prefix"</span>&gt;</span>Connected to<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_text_rule_applied_wifi_exit_prefix"</span>&gt;</span>Disconnected from<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_text_wifi_rule_detected_prefix"</span>&gt;</span>Set up a rule for<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_dnd_wifi_rule_detected"</span>&gt;</span>Turn on Do Not Disturb each time?<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_normal_wifi_rule_detected"</span>&gt;</span>Always ring when connected?<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_rule_applied_dnd"</span>&gt;</span>Do Not Disturb is on<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_rule_applied_dnd_off"</span>&gt;</span>Do Not Disturb is off<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_rule_applied_normal"</span>&gt;</span>Phone set to ring<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_rule_applied_silent"</span>&gt;</span>Phone set to silent<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_rule_applied_vibrate"</span>&gt;</span>Phone set to vibrate<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_silent_wifi_rule_detected"</span>&gt;</span>Always silence when connected?<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"notification_title_vibrate_wifi_rule_detected"</span>&gt;</span>Always vibrate when connected?<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<h3 id="rule-suggestions">规则建议</h3>
<p>最后，用户可以选择授权SettingsIntelligence访问他们的位置和日历，这样应用程序就可以建议创建新的规则。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"permission_dialog_description"</span>&gt;</span>"%s uses your location and calendar to provide personalized suggestions based on your routines.<br/>If you don't allow location and calendar permissions, you may still receive other suggestions."<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre>
<h3 id="bonus-ramping-ringer">奖励:斜坡振铃器</h3>
<p>作为奖励，SettingsIntelligence应用程序中的字符串和代码表明，谷歌可能会在Android Q中为Pixel设备添加“斜坡铃声”功能。在来电时，谷歌Pixel会先振动几秒钟，然后随着时间的推移慢慢提高铃声音量。这一功能在定制rom和OEM软件中很常见，但尚未应用到谷歌Pixel上。</p>

<pre> <code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ramping_ringer"</span>&gt;</span>Vibrate first then ring gradually<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span></code> </pre><p class="ad-odd"> </p>


<h2 id="conclusion">结论</h2>
<p>虽然新功能看起来远不如Tasker等自动化应用强大，但在功能集冻结发布之前，未来几个月可能会添加更多功能。此外，大多数自动化应用程序都有很高的准入门槛，因此谷歌必须制定足够简单的规则，以便普通像素所有者或潜在像素所有者使用。</p>

<p>由于该功能是像素专属的SettingsIntelligence应用程序的一部分(清单中的功能声明<code>com.google.android.feature.PIXEL_EXPERIENCE</code>证实了这一点)，我们认为只有运行Android Q的谷歌Pixel智能手机才会获得新功能。我还认为这项功能很可能会在谷歌Pixel 4和Pixel 4 XL上首次亮相，因为它仍在开发中，感觉像是要等到新产品发布时才会推出的东西，但我不能确认推出日期。我们<a href="https://www.xda-developers.com/android-p-predictive-settings-automate-frequent-settings/">早在去年的<a href="https://www.xda-developers.com/everything-new-android-p-developer-preview-2/"> Android P开发者预览版2 </a>中就已经发现了这个功能的提示</a>，但似乎从那以后更多的工作已经进入了这个功能。如果该功能在下一款2019 Pixel智能手机发布之前上线，我们将随时向您更新。</p>

<hr/>

<p><i>感谢PNF软件为我们提供了使用许可<a href="https://www.pnfsoftware.com/?aid=xdadev"> JEB Decompiler </a>，这是一款针对Android应用的专业级逆向工程工具。</i></p>

 </div>


</div>    
</body>
</html>