<html>
<head>
<title>Native Support for Iris Scanners is finally coming to Android</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Android终于开始支持虹膜扫描仪了</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/iris-scanners-native-support-android-p/#0001-01-01">https://www.xda-developers.com/iris-scanners-native-support-android-p/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<p/><p>生物认证可能没有pin或密码安全，但它的便利性是许多消费者的一大卖点。一加旗舰产品上极其快速的指纹扫描仪几乎得到了普遍的好评，但最近公司已经转向面部识别技术作为替代方案。例如，<a href="https://www.xda-developers.com/oneplus-face-unlock-oneplus-5t/"> OnePlus 5T </a>和<a href="https://www.xda-developers.com/honor-7x-update-face-unlock-ar-lens/"> Honor 7X </a>分别采用了面部解锁功能。三星手机也有面部识别功能来解锁设备，但该公司最引以为豪的生物认证技术是虹膜扫描仪。现在，随着官方对虹膜扫描仪的支持被添加到Android中，虹膜扫描仪可能会在未来出现在更多的Android手机中。</p>

 
<hr/>


<h2 id="iris-scanners-on-existing-android-hardware">现有Android硬件上的虹膜扫描仪</h2>
<p>第一款带虹膜扫描仪的主流安卓智能手机是命运多舛的T2三星Galaxy Note 7 T3。这项技术后来被用于<a href="https://www.xda-developers.com/galaxy-s8s-iris-scanner-will-authenticate-mobile-transacations-in-the-near-future-starting-with-south-korea/">三星Galaxy S8/S8+ </a>和<a href="https://www.xda-developers.com/note-8-real-world-analysis-performance/"> Galaxy Note 8 </a>。我们还知道它将与<a href="https://www.xda-developers.com/samsung-galaxy-s9-iris-scanner/">三星Galaxy S9/S9+ </a>一起发布，它将在硬件上提供<a href="https://www.xda-developers.com/samsung-galaxy-s9-iris-scanner/">增量改进，但通过</a><a href="https://www.xda-developers.com/samsung-galaxy-s9-intelligent-scan-face-unlock-iris-scanner/">将其与面部识别</a>相结合，整体体验<a href="https://www.xda-developers.com/samsung-galaxy-s9-facial-recognition/">应该会改善</a>。(还有一种可能性是虹膜扫描仪可能会出现在尚未发布的三星Galaxy手机上，但目前还没有确定。)</p>

<p>对于我们这些没有三星Galaxy旗舰机的人来说，当谈到带有虹膜扫描仪的智能手机时，没有太多的选择。事实上，实际上只有一个选择，这款手机甚至还没有上市销售:一款名为<a href="https://swissbankinyourpocket.com/bitvault/"> BitVault </a>的不起眼的智能手机，面向加密货币爱好者。</p>





<p/><p>BitVault:自称“全球首款区块链手机”。来源:<a href="https://swissbankinyourpocket.com/product/bitvault/">你口袋里的瑞士银行</a>。</p>

<p>这款智能手机，以及来自日本智能手机OEM厂商的一款未公布的智能手机，是我所知道的唯一提供虹膜扫描的非三星Galaxy设备。驱动这些手机虹膜扫描仪的芯片是指纹识别的<a href="https://www.fingerprints.com/technology/software/fpc-activeiris/"> FPC主动虹膜</a>。</p>
<div class="body-img landscape"><div class="responsive-img image-expandable img-article-item" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;FPC ActiveIRIS. Iris Recognition for Smartphones. Source: &lt;a href=\&quot;https:\/\/www.fingerprints.com\/solutions\/smartphones-tablets\/\&quot;&gt;FPC&lt;\/a&gt;.&quot;">
 
<figure> <picture>  <source media="(min-width: 1024px)" sizes="1500px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png?q=50&amp;fit=crop&amp;w=1500&amp;dpr=1.5"/> <source media="(min-width: 768px)" sizes="943px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png?q=50&amp;fit=crop&amp;w=943&amp;dpr=1.5"/> <source media="(min-width: 481px)" sizes="767px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png?q=50&amp;fit=crop&amp;w=767&amp;dpr=1.5"/> <source media="(min-width: 0px)" sizes="480px" data-srcset="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png?q=50&amp;fit=crop&amp;w=480&amp;dpr=1.5"/> <img class="lazyload" alt="FPC ActiveIRIS" data-img-url="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png" src="../Images/bd20a2bda9401b9b0e478d29ffe38bd3.png" data-original-src="https://static1.xdaimages.com/wordpress/wp-content/uploads/2018/02/FPC-ActiveIRIS.png"/> </picture> <figcaption class="body-img-caption">FPC ActiveIRIS. Iris Recognition for Smartphones. Source: <a href="https://www.fingerprints.com/solutions/smartphones-tablets/">FPC</a>.</figcaption> </figure> </div>


 </div>


<p>你可能从未听说过这家公司，但你很可能使用过集成了他们技术的智能手机。一些使用FPC指纹扫描仪的智能手机包括谷歌Pixel、Honor 8和华为Mate 9 Pro。他们的指纹传感器出现在许多其他设备上，包括小米的几款设备，所以可以肯定地说，FPC是销售智能手机生物认证技术的领先供应商之一。</p>





<p/><p>FPC指纹扫描仪位于设备的主页按钮、背面和侧面。来源:<a href="https://www.fingerprints.com/solutions/smartphones-tablets/"> FPC </a>。</p>

<p>那么这家公司为什么重要呢？这是因为他们的几个工程师一直在研究在Android中加入对生物虹膜扫描仪的原生支持。这里有几个提交，所有这些都应该放在一起看，以便更好地了解发生了什么。</p>
<p class="ad-odd"> </p>


<h2 id="iris-scanners-in-a-future-version-of-android">Android未来版本中的虹膜扫描仪</h2>
<p>让我们从最重要的提交开始:生物识别虹膜HAL接口。</p>



<p>包含一个HAL接口将使Android框架如何与虹膜扫描仪通信标准化。这意味着来自多家厂商的产品，而不仅仅是FPC自己的产品，将能够在Android上运行。最重要的是，这也为基于AOSP的rom提供了与虹膜扫描硬件通用的功能。例如，<a href="https://www.xda-developers.com/tag/project-treble/">项目Treble GSI</a>依赖于此，以便基本的指纹扫描仪功能能够开箱即用，因此，没有这一点，新的<a href="https://www.xda-developers.com/samsung-galaxy-s9-s9-plus-hands-on/"> Exynos三星Galaxy S9和Galaxy S9+ </a>将无法使用AOSP ROM上的虹膜扫描仪。</p>

<p>最终用户对虹膜扫描仪的SELinux政策完全不感兴趣，但如果你想看一看，它们就在那里。Android中包含的基本<a href="https://android-review.googlesource.com/c/platform/frameworks/native/+/608279">虹膜功能</a>将允许应用程序检测设备是否有虹膜扫描仪。最后，<a href="https://android-review.googlesource.com/c/platform/frameworks/base/+/608396">虹膜框架</a>的引入将真正允许第三方应用程序在未来利用虹膜扫描仪进行身份验证。以下是相关字符串:</p>

<section class="emaki-custom-block emaki-custom-expandable"><div class="emaki-custom expandable" id="custom_block_18"><h3 id="iris-scanner-in-framework">框架中的虹膜扫描仪</h3><pre> <code class="hljs xml"><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"permlab_manageIris"</span>&gt;</span>manage iris hardware<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"permdesc_manageIris"</span>&gt;</span>Allows the app to invoke methods to add and delete iris templates for use.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"permlab_useIris"</span>&gt;</span>use iris hardware<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"permdesc_useIris"</span>&gt;</span>Allows the app to use iris hardware for authentication<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_insufficient"</span>&gt;</span>Couldn\'t process iris. Please try again.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_too_bright"</span>&gt;</span>Iris is too bright. Please try in low light.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_too_dark"</span>&gt;</span>Iris is too dark. Please uncover light source.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_too_close"</span>&gt;</span>Move further.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_too_far"</span>&gt;</span>Move closer.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_eyes_closed"</span>&gt;</span>Open eyes.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_acquired_eyes_partially_obscured"</span>&gt;</span>Open eyes wider.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/>&lt;string-<span class="hljs-keyword">array</span> name=<span class="hljs-string">"iris_acquired_vendor"</span>&gt;<br/>&lt;/string-<span class="hljs-keyword">array</span>&gt;<br/><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_hw_not_available"</span>&gt;</span>Iris hardware not available.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_no_space"</span>&gt;</span>Iris can\'t be stored. Please remove an existing iris.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_timeout"</span>&gt;</span>Iris time out reached. Try again.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_canceled"</span>&gt;</span>Iris operation canceled.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_lockout"</span>&gt;</span>Too many attempts. Try again later.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_lockout_permanent"</span>&gt;</span>Too many attempts. Iris sensor disabled.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_error_unable_to_process"</span>&gt;</span>Try again.<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_name_template"</span>&gt;</span>Iris <span class="hljs-tag">&lt;<span class="hljs-name">xliff:g</span> <span class="hljs-attr">example</span>=<span class="hljs-string">"1"</span>&gt;</span>%d<span class="hljs-tag">&lt;/<span class="hljs-name">xliff:g</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/><br/>&lt;string-<span class="hljs-keyword">array</span> name=<span class="hljs-string">"iris_error_vendor"</span>&gt;<br/>&lt;/string-<span class="hljs-keyword">array</span>&gt;<br/><br/><br/><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"iris_icon_content_description"</span>&gt;</span>Iris icon<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span><br/><br/></code> </pre> </div></section>
<p>在框架的清单中，标题为“android.permission.USE_IRIS”的建议权限具有“正常”的保护级别，因此第三方应用程序确实能够请求权限，并且将由用户授予它。</p>



<p>最后，<a href="https://android-review.googlesource.com/c/platform/frameworks/base/+/608456">另一个提交</a>在键盘守卫中增加了对虹膜识别的支持。这实际上将允许用户扫描他们的虹膜来解除锁屏。根据承诺，为了降低功耗，只有在屏幕打开时才会进行虹膜认证。此外，如果授权机构(例如工作场所)认为虹膜扫描仪是不安全的认证方法，则可以根据设备策略管理器禁用虹膜扫描仪。</p>



<p>在所有这些提交中，有趣的是，在许多地方，Android框架中对指纹的引用被泛化为对生物特征的引用。这为Android未来潜在的其他生物认证方法做好了准备，尽管还不清楚会是什么。</p>



<p>我不会用其余的实现细节来烦你，所以我将继续讨论这些提交的重要性。这对Android来说意味着Android的未来版本，可能是Android P，将包括对虹膜扫描硬件的原生支持。我说“可能”是因为提交还没有被合并——更改非常长，可能需要几周甚至几个月才能通过代码审查。</p>

<p>然而，它很可能会在Android P中使用，甚至有迹象表明虹膜扫描仪框架代码已经进行了特定于P的更改(例如，不再将用户信息存储在/data/system/users中，而是将它们重新定位到一个新的/data/vendor目录中，这可能是未公开的项目Treble需求的第二个要求)。</p>

<p>此外，这似乎是对虹膜扫描仪的完全支持，尽管这并不意味着其他供应商不会添加额外的功能(事实上，评论明确提到了这一点)。不过，基本的实现是有的，所以我们应该期待看到未来的智能手机配备生物虹膜扫描仪。不过，在这些提交中没有证据表明谷歌Pixel 3会有这样的功能，所以不要因为这些变化就认为任何特定的设备都会有虹膜扫描仪。</p>

<p>注意:我确实联系了FPC对这些变化进行评论，但在本文发表时还没有收到他们的回复。</p>

 </div>


</div>    
</body>
</html>