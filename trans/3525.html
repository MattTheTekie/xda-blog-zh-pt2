<html>
<head>
<title>Root is now Available for the Google Pixel and Pixel XL: Here's what we've found</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>谷歌Pixel和Pixel XL现在可以使用Root了:以下是我们的发现</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/root-is-now-available-for-the-google-pixel-and-pixel-xl/#0001-01-01">https://www.xda-developers.com/root-is-now-available-for-the-google-pixel-and-pixel-xl/#0001-01-01</a></blockquote><div><div class="content-block-regular">
<section class="emaki-custom-block emaki-custom-note"><div class="emaki-custom note" id="custom_block_0"><p>这种方法已经过时，可能行不通。请访问我们的Google Pixel和Pixel XL论坛，了解最新的根方法。</p> </div></section>
<p/><p>正如承诺的那样，谷歌Pixel T1和T2 Pixel XL T3的无系统根在T4已经上市T5。XDA资深公认开发人员<a href="http://forum.xda-developers.com/member.php?u=631273"> Chainfire </a> <a href="http://www.xda-developers.com/chainfires-systemless-root-for-pixel-phones-is-coming/">在过去几天里正在为运行Android 7.1牛轧糖的谷歌Pixel </a>手机开发root，他已经达到了一个开发阶段，现在他已经可以轻松地与社区分享他的工作了。</p>

  
<p><a href="http://static1.xdaimages.com/wordpress/wp-content/uploads/2016/10/Screenshot_20161029-141704.png"/></p>



<p>通过安装SuperSU <strong> 2.78 SR2 </strong>、可以获得Google Pixel和Google Pixel XL的Root访问权限，这使得<em> su </em>可以在不接触系统分区的情况下访问，并允许切换dm-verity。在你启动你的设备之前，你首先需要解锁你的引导程序。解锁引导程序的第一步是下载adb和fastboot二进制文件(我们建议从我们的论坛下载<a href="http://forum.xda-developers.com/showthread.php?t=2317790">最小ADB &amp; Fastboot </a>)，然后为您的机器安装合适的<a href="http://forum.xda-developers.com/showthread.php?t=2317790"> Google USB驱动程序</a>。</p>

<p>如果你直接从谷歌购买了你的Pixel设备，那么你只需要发出一个<em>快速启动闪烁解锁</em>命令，然后是<em>快速启动oem解锁。</em>如果你从威瑞森或EE购买了你的Pixel，你需要<a href="http://www.xda-developers.com/verizon-pixelpixel-xl-bootloader-unlock-has-been-released/">通过dePixel8工具</a>解锁你的引导程序。但是快点，因为阳光开发者已经提到他们的引导装载解锁漏洞可能会在即将到来的11月安全更新中被修补！</p>

<hr/>

<p><strong>如何在你的Pixel上安装SuperSU</strong></p>

<p>正如Chainfire在他的Google+帖子中提到的，你需要首先从他的网站上下载Pixel或Pixel XL的<strong>引导到根</strong>图像。你可以<a href="https://download.chainfire.eu/1007/CF-Root/CF-Auto-Root/root-sailfish-pixel.zip">点击这里</a>下载谷歌Pixel的zip文件，或者<a href="https://download.chainfire.eu/1008/CF-Root/CF-Auto-Root/root-marlin-pixelxl.zip">点击这里</a>下载谷歌Pixel XL的zip文件。下载zip文件后，需要<strong>快速启动</strong>引导<strong>到根</strong>镜像，<strong>不要</strong> <strong>快速启动闪存镜像！</strong>换句话说，这两个设备需要的唯一命令如下:</p>

<pre> <code class="hljs css"><span class="hljs-selector-tag">fastboot</span> <span class="hljs-selector-tag">boot</span> <span class="hljs-selector-tag">boot-to-root</span><span class="hljs-selector-class">.img</span></code> </pre>
<p>等待几分钟，在几次重启后，你将会以完全root权限启动。耶！</p>

<hr/>

<p><strong>根访问的直接使用</strong></p>

<p>顺便说一下，除了root访问应该带来的通常功能之外，我们还测试了一些我们知道你们都会感兴趣的东西。首先，你能让Google Now恢复运行吗？答案是<strong>是的！</strong>你所需要做的就是编辑<strong> build.prop </strong>做如下修改，重启，然后清除谷歌应用数据，你就不会再看到谷歌助手了。</p>

<p>变化</p>

<pre> <code class="hljs javascript">ro.opa.eligible_device=<span class="hljs-literal">true</span></code> </pre>
<p>到</p>

<pre> <code class="hljs javascript">ro.opa.eligible_device=<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span></span></code> </pre>




<p>另一个常见的隐藏功能是什么:<strong>双击唤醒？</strong>我们四处寻找隐藏的开关，并发现了它。</p>

<pre> <code class="hljs php">sailfish:/sys/devices </code> </pre>
<p>不幸的是，当我们改变这个值时，它似乎并不坚持。现在，似乎你必须刷新一个定制的内核，比如<a href="http://forum.xda-developers.com/pixel-xl/development/kernel-elementalx-pxl-0-02-t3487072"> ElementalX </a>来让d2tw工作。</p>

<p>我们测试的其他一些东西包括Titanium Backup是否工作(<strong>它工作</strong>)，更好的电池状态(<strong>工作</strong>)，底层/层主题(<strong>似乎有一些问题</strong>，以及广告拦截(<strong>失败</strong>)。Ad-away目前无法工作，因为默认情况下/system不能以读写方式安装，所以我们必须等到TWRP可用后，才能为Ad-Away刷新<a href="http://forum.xda-developers.com/showthread.php?t=2190753">无系统解决方案</a>。是的，我们已经尝试使用<a href="https://play.google.com/store/apps/details?id=eu.chainfire.flash&amp;hl=en"> FlashFire </a>来刷新无系统根的Ad-Away启用程序，但这似乎在此时也不起作用。</p>

<p> </p>

<pre> <code class="hljs php">sailfish:/sys/devices <br/>mount: <span class="hljs-string">'/system'</span> not <span class="hljs-keyword">in</span> /proc/mounts</code> </pre>
<p>更新:Chainfire已经确认FlashFire和其他应用程序需要更新才能使用。更多详情见下文。</p>

<p>更新2: Chainfire给我们发了一条消息，告诉我们在应用程序更新之前，AdAway可以正常工作。见文末补遗。</p>

<p>这里有一些截图显示钛备份工程，虽然。因此，如果您来自另一台设备，并且想要恢复所有备份的应用程序，您可以放心，所有应用程序数据现在都将被恢复。</p>





<p>我们将继续深入我们的像素设备，看看我们可以切换什么。哪个“像素专属”功能会是下一个倒下的？</p>

<p><a href="http://static1.xdaimages.com/wordpress/wp-content/uploads/2016/10/sailfish_sys_class.png"/></p>



<p/>

<hr/>

<p><strong>实现根</strong>的“奋斗”</p>

<p>在发行说明方面，Chainfire相当细致。当你是一个为成千上万的用户提供实现根访问的方法的开发者时，尽可能透明是有意义的，以免你面对一大群困惑的用户，他们想知道为什么某些东西坏了。虽然他的<a href="https://twitter.com/ChainfireXDA"> Twitter账户</a> (@ChainfireXDA)更多地用于发布简短的公告，但Chainfire往往会在他的<a href="https://plus.google.com/+Chainfire"> Google+ </a>账户上发布非常受欢迎的冗长解释。<a href="https://plus.google.com/+Chainfire/posts/fvEPo42GKXS">这次也不例外</a>。</p>

<p>首先，Chainfire解释了他需要解决的两个Pixel手机的变化，以实现root访问。具体来说，Chainfire首先描述了像素设备上的新分区布局。</p>

<blockquote>
<p/><h4><i>新的分区布局(Pixel和可能的许多未来设备):</i></h4><p>-有几个Android分区中的两个，引导、系统、供应商</p>
<p>-恢复和缓存分区消失了</p>
<p>Android的根目录/目录现在是系统分区的一部分，而不是引导分区(initramfs)</p>
<p>- Recovery现在位于正常的引导映像中，并使用它的initramfs(以前由Android使用)</p>
 </blockquote>
<p>正如我们之前所报道的，两个Pixel手机上的这些<a href="http://www.xda-developers.com/exclusive-dual-boot-may-be-possible-on-pixel-phones/">分区变化</a>将<a href="http://www.xda-developers.com/pixel-phones-not-yet-rootable-with-current-methods/">需要对当前的根方法</a>进行一些修改。Chainfire已经证实，对/system分区的这些修改需要一种不同的方法，一种可能涉及修改内核的方法。</p>

<blockquote>
<p/><h4>使用Pixel的新分区布局，我们正在更改的那些文件已经移动到系统分区(我们最初认为的/system现在是该分区的文件系统中的一个子文件夹)。那么，我们可以只修改包含所有这些文件的系统分区，而不修改引导映像吗？虽然我个人更喜欢修改启动映像，不去管系统，但反过来也可能是一个解决方案，我知道一些技术用户甚至更喜欢这样。</h4>
<p/><h4>然而，我不能让这个工作。引导装载程序实际上向内核(驻留在引导映像中)发送强制启用dm-verity(强制系统分区的完整性)的信息，如果不(<i> drum roll </i>)修改引导映像，我们就无法拦截或更改这些信息。我的第一个成功的像素根就是这样完成的——通过修改两者(早先发布的图片就是这次尝试的结果)。</h4>
 </blockquote>
<p>换句话说，正如我们所怀疑的，如果不对内核进行一些修改，就无法禁用dm-verity。因为内核是强制启用dm-verity的，所以Chainfire需要稍微修改内核，以阻止dm-verity阻止对系统分区的更改。幸运的是，Chainfire发现他的修改只需要一个小的内核二进制补丁，而不需要完整的内核重新编译。因此，他的解决方案应该仍然是具有A/B分区方案的Android 7.1设备的通用解决方案。</p>

<p>为了更详细地解释这种新的root方法，Chainfire通过让内核使用引导映像的initramfs作为其根目录，而不是系统分区中的任何内容，来实现无系统root。为此，系统分区中的根目录内容被导入到引导映像中，这样就可以修改这些文件，而不必修改任何系统文件。系统分区挂载到/system_root，而/system本身通过sim链接到/system_root/system。最后，他的内核补丁修改了内核，使得它忽略了从通常会强制dm-verity的引导装载程序发送的命令。</p>

<p>然而，这种新方法带来了一些相当小的问题。某些应用程序，如FlashFire或AdAway(我们已经展示了这两个都不工作)希望系统分区被挂载为/system，而不是/system_root，并且需要相应地更新。但是，您可以尝试像这样重新安装系统</p>

<pre> <code class="hljs ">mount -o rw,remount /system_root</code> </pre>
<p>这应该允许您写入/system。我们还没有测试修复了哪些根应用，但是你可以自己测试。最后，Chainfire不确定suhide是否会使用这个新的生根方案，但他表示他将继续寻找一个变通办法。</p>

<hr/>

<p>要为谷歌Pixel手机下载SuperSU，请前往<a href="http://forum.xda-developers.com/apps/supersu/2014-09-02-supersu-v2-05-t2868133"> XDA论坛主题</a>。非常感谢Chainfire将root带到了设备上！让游戏开始吧！</p>

<p><a href="http://forum.xda-developers.com/apps/supersu"> <strong>参观SuperSU XDA分论坛！</strong>T3】</a></p>

<p>这个故事还在发展中，我们会根据新的信息进行更新。在这篇文章的制作过程中，谷歌牺牲了一个像素。窃取杰夫的数据。</p>

<hr/>

<p><strong>附录# 1:AdAway的临时修复</strong></p>

<p>从我们的<a href="http://forum.xda-developers.com/showthread.php?t=2190753">论坛</a>下载AdAway v3.1.2，然后使用<a href="https://play.google.com/store/apps/details?id=jackpal.androidterm&amp;hl=en">终端仿真器</a>或ADB shell输入以下命令:</p>

<pre> <code class="hljs javascript">mkdir /su/etc; cp /system/etc/hosts /su/etc/hosts; echo <span class="hljs-string">"#!/su/bin/sush\nmount -o bind /su/etc/hosts /system/etc/hosts"</span> &gt; <span class="hljs-regexp">/su/</span>su.d/<span class="hljs-number">50</span>adaway; chmod <span class="hljs-number">0700</span> /su/su.d/<span class="hljs-number">50</span>adaway</code> </pre>
<p>重新启动，你应该有系统范围的广告拦截。</p>

 </div>


</div>    
</body>
</html>