<html>
<head>
<title>Documentation Error: Manifest Registered Broadcast Receivers Receive ACTION_SHUTDOWN Intents in Android 8.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>文档错误:在Android 8.0中，清单注册的广播接收器接收ACTION_SHUTDOWN意图</h1>
<blockquote>原文：<a href="https://www.xda-developers.com/manifest-registered-broadcast-receivers-action_shutdown/#0001-01-01">https://www.xda-developers.com/manifest-registered-broadcast-receivers-action_shutdown/#0001-01-01</a></blockquote><div><header class="article_heading">


<h1 class="heading_title">文档错误:在Android 8.0中，清单注册的广播接收器接收ACTION_SHUTDOWN意图</h1>

<p class="heading_sharing">  </p>


<p class="heading_excerpt">Manifest注册的广播意图仅限于Android Oreo中的少数几个，ACTION_SHUTDOWN不在其中，是吗？</p>



  </header>

<section id="article-body" class="article-body" itemprop="articleBody">

<div class="content-block-regular">
<p/><p>Android在很多事情上使用广播意图。应用程序开发人员可以监听它们以执行某些操作，例如当MEDIA_MOUNTED广播意图让应用程序知道SD卡何时被安装为存储时。作为应用程序开发人员，您可以为此对广播接收器进行编程，然后在媒体加载时调用一个函数，例如，将应用程序的默认存储目录更改为SD卡。这种事情就是广播意图的用途。它们主要用于向任何可能需要该信息的应用程序广播某些系统事件。广播接收器需要在Android清单文件中注册，或者在前台以编程方式注册。</p>

  
<p>由于许多不同的开发者实现了各种各样的广播接收器来频繁发射意图，导致了大量的内存抖动，谷歌决定在Android 8.0 Oreo中限制对这些广播意图的访问。不过，该公司认识到，有几个重要的广播意图仍然可以收听，因为它们不会经常出现，因此导致内存问题的可能性很小。他们<a href="https://developer.android.com/guide/components/broadcast-exceptions.html">发布了一份隐式广播</a>意图的白名单，Android应用程序仍然可以通过在Android清单中注册广播接收器来监听。这是一个广泛的列表，涵盖了你作为一个应用开发者可能需要的一切，只有一个例外。</p>

<p>谷歌似乎没有列出许多应用程序使用的广播意图。这是<strong> ACTION_SHUTDOWN </strong>的广播意图。这个意图在设备关闭时发送，这对应用程序开发人员来说非常重要，这样他们就可以在进程被终止之前快速结束应用程序正在做的任何事情。尽管这种广播意图没有出现在白名单意图列表中，但根据Android Git上的提交，应用程序<strong>实际上仍然可以通过清单注册的广播接收器<a href="https://android.googlesource.com/platform/frameworks/base/+/98946b9f72e03a550ec8a63186c463015c6ef78e%5E%21/#F0">侦听它，只是谷歌忘记将其包括在他们的列表中。</a></strong></p>

<p>这很好，因为它实际上被列入了白名单，因为谷歌取消了应用程序检测设备何时关闭的能力，这对用户和应用程序开发者都是不利的，因为一些应用程序将不再能够在设备关闭前快速保存工作。我们不完全确定为什么谷歌的开发者页面上没有列出这一广播意图，但我们与资深Android开发者<a href="https://commonsware.com/"> CommonsWare </a>进行了交谈，他同意这可能是谷歌方面的一个简单的文档错误。据他说，这已经不是第一次发生了。</p>

 </div>


<p id="article-waypoint"/>
</section>


        </div>    
</body>
</html>