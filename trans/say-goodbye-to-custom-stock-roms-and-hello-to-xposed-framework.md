# 向定制的“库存”rom 说再见，向 Xposed 框架问好

> 原文：<https://www.xda-developers.com/say-goodbye-to-custom-stock-roms-and-hello-to-xposed-framework/>

有时，原始设备制造商会把事情做好。好吧，几乎正确，至少对他们的股票 ROMS 来说足够正确，只需要一些小的调整，他们就几乎完美了。然而，通常情况下，这些调整对于普通用户来说是很难实现的——用户经常会发现自己正在安装一个定制的 ROM，它非常接近于添加了这些所需调整的库存。通常，这意味着下载一个相当大的文件，然后遵循我们许多人现在已经深入到一门艺术的强制性备份/闪存/恢复过程。你可能还不知道。

你可能听说过也可能没有听说过[exposed Framework](http://www.xda-developers.com/android/app-development-xposed-framework-for-android-xda-developer-tv/)，它是 XDA 公认的开发者 [rovo89](http://forum.xda-developers.com/member.php?u=4419114) 的成果。如果你已经熟悉了这个特别的 mod，我真的没有必要告诉你它有多棒。你可以出去玩了。如果你还不熟悉这个框架，请坐下来听。虽然 Xposed 框架肯定不是一个新事物，但它没有得到应有的重视，是时候做点什么了。

根据开发人员的说法，Xposed 的工作方式如下:

> ***“一些技术细节:***
> 
> 我扩展了/system/bin/app_process 可执行文件，以便在启动时加载一个 JAR 文件。这个文件的类将位于每个进程中(包括系统服务的进程),并且可以使用它们的权限。甚至更多:我已经实现了一些东西，允许开发人员**替换任何类**中的任何方法(可能是在框架中， systemui 或自定义应用)。这使得 Xposed 非常强大。您可以更改方法调用的参数，修改返回值或者完全跳过对方法的调用——一切由您决定！更换或添加资源也很容易。”

这意味着，只需对所需的更改进行编码，将其打包到自己的 APK 中，并安装到设备上，就可以对任何应用程序或操作系统本身的元素进行修改(称为 Xposed 模块)。Xposed 框架负责确保它到达并停留在它需要去的地方。这消除了反编译你正在修改的特定项目或者为不同的 rom 和设备创建不同版本的需要。在 Android 本身发生重大变化后，可能需要改变 Xposed 模块，例如从 4.1 到 4.2，但让我们面对现实:这种情况很少发生。设备本身上的文件不会被修改，这意味着如果出现问题，将设备恢复到稳定状态不会比闪烁 zip 文件来禁用框架更复杂。没错，不再需要每次出现问题时都进行冗长且消耗存储的 nandroid 备份过程。

考虑到这个实用程序的范围，安装是令人难以置信的快速和无痛。只需从论坛线程中抓取 Xposed 安装程序并将侧载到你的设备上，安装后打开应用程序并点击“安装/更新”，重启设备，你就可以开始了。不，说真的，就这么简单。

安装每个单独的模块就像侧装APK 一样简单，安装，通过暴露的应用程序激活它，然后重启。一些 mods 会根据它们的功能提供一个用户界面，其他的只有一个特定的目的，根本不需要关注。

那么我们在这里谈论的是什么样的修改呢？好吧，如果你能想到 tweak，那么它很有可能被打包到一个 Xposed 模块中。想想那些让你最喜欢的定制 ROM 如此吸引人的附加功能。这就是 Xposed 为之而生的那种事物。

一个完美的例子是由 XDA 论坛成员[曼泰里尼奥](http://forum.xda-developers.com/member.php?u=4912725)创造的[智能闹钟图标](http://forum.xda-developers.com/showthread.php?t=2261471)。该模式将配置你状态栏中的警报图标，使其在警报响起前的一段预定时间内只在显示。假设你把闹钟设定在周一到周五。你可以一周都不设置闹钟，但是周末的时候你就不会看到那个小钟形状的周一早晨的提醒出现在你的状态栏里了。

有许多不同用途的 mod，你可以打赌我们会在未来尽可能多地强调它们。同时，你可以查看一个由开发者管理员 [pulser_g2](http://forum.xda-developers.com/member.php?u=2178960) 整理的[库](http://www.villainrom.co.uk/forum/microdownloads/)进行各种修改。还有一个[开发教程](https://github.com/rovo89/XposedBridge/wiki/Development-tutorial)，旨在让人们创建自己的模块，并使之成为最强大的定制工具。

就在你认为这整个事情不可能变得更棒的时候，它全都是开源的。请务必查看 [Xposed Framework](http://forum.xda-developers.com/showthread.php?t=1574401) 上的原始论坛帖子，了解更多信息。

下课。